(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Yg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vh={exports:{}},da={},Oh={exports:{}},Ae={};var Im;function h0(){if(Im)return Ae;Im=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function B(O,$,le){this.props=O,this.context=$,this.refs=Y,this.updater=le||j}B.prototype.isReactComponent={},B.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function fe(){}fe.prototype=B.prototype;function _e(O,$,le){this.props=O,this.context=$,this.refs=Y,this.updater=le||j}var ye=_e.prototype=new fe;ye.constructor=_e,G(ye,B.prototype),ye.isPureReactComponent=!0;var Ee=Array.isArray,ze=Object.prototype.hasOwnProperty,Te={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(O,$,le){var Ie,Se={},Pe=null,Me=null;if($!=null)for(Ie in $.ref!==void 0&&(Me=$.ref),$.key!==void 0&&(Pe=""+$.key),$)ze.call($,Ie)&&!N.hasOwnProperty(Ie)&&(Se[Ie]=$[Ie]);var Le=arguments.length-2;if(Le===1)Se.children=le;else if(1<Le){for(var Be=Array(Le),mt=0;mt<Le;mt++)Be[mt]=arguments[mt+2];Se.children=Be}if(O&&O.defaultProps)for(Ie in Le=O.defaultProps,Le)Se[Ie]===void 0&&(Se[Ie]=Le[Ie]);return{$$typeof:i,type:O,key:Pe,ref:Me,props:Se,_owner:Te.current}}function T(O,$){return{$$typeof:i,type:O.type,key:$,ref:O.ref,props:O.props,_owner:O._owner}}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return $[le]})}var V=/\/+/g;function A(O,$){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):$.toString(36)}function Ye(O,$,le,Ie,Se){var Pe=typeof O;(Pe==="undefined"||Pe==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Pe){case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case i:case e:Me=!0}}if(Me)return Me=O,Se=Se(Me),O=Ie===""?"."+A(Me,0):Ie,Ee(Se)?(le="",O!=null&&(le=O.replace(V,"$&/")+"/"),Ye(Se,$,le,"",function(mt){return mt})):Se!=null&&(C(Se)&&(Se=T(Se,le+(!Se.key||Me&&Me.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+O)),$.push(Se)),1;if(Me=0,Ie=Ie===""?".":Ie+":",Ee(O))for(var Le=0;Le<O.length;Le++){Pe=O[Le];var Be=Ie+A(Pe,Le);Me+=Ye(Pe,$,le,Be,Se)}else if(Be=D(O),typeof Be=="function")for(O=Be.call(O),Le=0;!(Pe=O.next()).done;)Pe=Pe.value,Be=Ie+A(Pe,Le++),Me+=Ye(Pe,$,le,Be,Se);else if(Pe==="object")throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Me}function xt(O,$,le){if(O==null)return O;var Ie=[],Se=0;return Ye(O,Ie,"","",function(Pe){return $.call(le,Pe,Se++)}),Ie}function Nt(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Ue={current:null},Z={transition:null},ce={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Te};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:xt,forEach:function(O,$,le){xt(O,function(){$.apply(this,arguments)},le)},count:function(O){var $=0;return xt(O,function(){$++}),$},toArray:function(O){return xt(O,function($){return $})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=B,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=_e,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ae.act=te,Ae.cloneElement=function(O,$,le){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ie=G({},O.props),Se=O.key,Pe=O.ref,Me=O._owner;if($!=null){if($.ref!==void 0&&(Pe=$.ref,Me=Te.current),$.key!==void 0&&(Se=""+$.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for(Be in $)ze.call($,Be)&&!N.hasOwnProperty(Be)&&(Ie[Be]=$[Be]===void 0&&Le!==void 0?Le[Be]:$[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=le;else if(1<Be){Le=Array(Be);for(var mt=0;mt<Be;mt++)Le[mt]=arguments[mt+2];Ie.children=Le}return{$$typeof:i,type:O.type,key:Se,ref:Pe,props:Ie,_owner:Me}},Ae.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ae.createElement=S,Ae.createFactory=function(O){var $=S.bind(null,O);return $.type=O,$},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:m,render:O}},Ae.isValidElement=C,Ae.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Nt}},Ae.memo=function(O,$){return{$$typeof:v,type:O,compare:$===void 0?null:$}},Ae.startTransition=function(O){var $=Z.transition;Z.transition={};try{O()}finally{Z.transition=$}},Ae.unstable_act=te,Ae.useCallback=function(O,$){return Ue.current.useCallback(O,$)},Ae.useContext=function(O){return Ue.current.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O){return Ue.current.useDeferredValue(O)},Ae.useEffect=function(O,$){return Ue.current.useEffect(O,$)},Ae.useId=function(){return Ue.current.useId()},Ae.useImperativeHandle=function(O,$,le){return Ue.current.useImperativeHandle(O,$,le)},Ae.useInsertionEffect=function(O,$){return Ue.current.useInsertionEffect(O,$)},Ae.useLayoutEffect=function(O,$){return Ue.current.useLayoutEffect(O,$)},Ae.useMemo=function(O,$){return Ue.current.useMemo(O,$)},Ae.useReducer=function(O,$,le){return Ue.current.useReducer(O,$,le)},Ae.useRef=function(O){return Ue.current.useRef(O)},Ae.useState=function(O){return Ue.current.useState(O)},Ae.useSyncExternalStore=function(O,$,le){return Ue.current.useSyncExternalStore(O,$,le)},Ae.useTransition=function(){return Ue.current.useTransition()},Ae.version="18.3.1",Ae}var Sm;function Td(){return Sm||(Sm=1,Oh.exports=h0()),Oh.exports}var Am;function d0(){if(Am)return da;Am=1;var i=Td(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var E,R={},D=null,j=null;v!==void 0&&(D=""+v),g.key!==void 0&&(D=""+g.key),g.ref!==void 0&&(j=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(R[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)R[E]===void 0&&(R[E]=g[E]);return{$$typeof:e,type:m,key:D,ref:j,props:R,_owner:o.current}}return da.Fragment=t,da.jsx=h,da.jsxs=h,da}var km;function f0(){return km||(km=1,Vh.exports=d0()),Vh.exports}var z=f0(),tt=Td();const p0=Yg(tt);var uu={},Mh={exports:{}},Jt={},Lh={exports:{}},bh={};var Rm;function m0(){return Rm||(Rm=1,(function(i){function e(Z,ce){var te=Z.length;Z.push(ce);e:for(;0<te;){var O=te-1>>>1,$=Z[O];if(0<o($,ce))Z[O]=ce,Z[te]=$,te=O;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ce=Z[0],te=Z.pop();if(te!==ce){Z[0]=te;e:for(var O=0,$=Z.length,le=$>>>1;O<le;){var Ie=2*(O+1)-1,Se=Z[Ie],Pe=Ie+1,Me=Z[Pe];if(0>o(Se,te))Pe<$&&0>o(Me,Se)?(Z[O]=Me,Z[Pe]=te,O=Pe):(Z[O]=Se,Z[Ie]=te,O=Ie);else if(Pe<$&&0>o(Me,te))Z[O]=Me,Z[Pe]=te,O=Pe;else break e}}return ce}function o(Z,ce){var te=Z.sortIndex-ce.sortIndex;return te!==0?te:Z.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],E=1,R=null,D=3,j=!1,G=!1,Y=!1,B=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(Z){for(var ce=t(v);ce!==null;){if(ce.callback===null)s(v);else if(ce.startTime<=Z)s(v),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(v)}}function Ee(Z){if(Y=!1,ye(Z),!G)if(t(g)!==null)G=!0,Nt(ze);else{var ce=t(v);ce!==null&&Ue(Ee,ce.startTime-Z)}}function ze(Z,ce){G=!1,Y&&(Y=!1,fe(S),S=-1),j=!0;var te=D;try{for(ye(ce),R=t(g);R!==null&&(!(R.expirationTime>ce)||Z&&!P());){var O=R.callback;if(typeof O=="function"){R.callback=null,D=R.priorityLevel;var $=O(R.expirationTime<=ce);ce=i.unstable_now(),typeof $=="function"?R.callback=$:R===t(g)&&s(g),ye(ce)}else s(g);R=t(g)}if(R!==null)var le=!0;else{var Ie=t(v);Ie!==null&&Ue(Ee,Ie.startTime-ce),le=!1}return le}finally{R=null,D=te,j=!1}}var Te=!1,N=null,S=-1,T=5,C=-1;function P(){return!(i.unstable_now()-C<T)}function V(){if(N!==null){var Z=i.unstable_now();C=Z;var ce=!0;try{ce=N(!0,Z)}finally{ce?A():(Te=!1,N=null)}}else Te=!1}var A;if(typeof _e=="function")A=function(){_e(V)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,xt=Ye.port2;Ye.port1.onmessage=V,A=function(){xt.postMessage(null)}}else A=function(){B(V,0)};function Nt(Z){N=Z,Te||(Te=!0,A())}function Ue(Z,ce){S=B(function(){Z(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_continueExecution=function(){G||j||(G=!0,Nt(ze))},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(Z){switch(D){case 1:case 2:case 3:var ce=3;break;default:ce=D}var te=D;D=ce;try{return Z()}finally{D=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=D;D=Z;try{return ce()}finally{D=te}},i.unstable_scheduleCallback=function(Z,ce,te){var O=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?O+te:O):te=O,Z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=te+$,Z={id:E++,callback:ce,priorityLevel:Z,startTime:te,expirationTime:$,sortIndex:-1},te>O?(Z.sortIndex=te,e(v,Z),t(g)===null&&Z===t(v)&&(Y?(fe(S),S=-1):Y=!0,Ue(Ee,te-O))):(Z.sortIndex=$,e(g,Z),G||j||(G=!0,Nt(ze))),Z},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Z){var ce=D;return function(){var te=D;D=ce;try{return Z.apply(this,arguments)}finally{D=te}}}})(bh)),bh}var Cm;function g0(){return Cm||(Cm=1,Lh.exports=m0()),Lh.exports}var Pm;function y0(){if(Pm)return Jt;Pm=1;var i=Td(),e=g0();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(o[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},R={};function D(n){return g.call(R,n)?!0:g.call(E,n)?!1:v.test(n)?R[n]=!0:(E[n]=!0,!1)}function j(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function G(n,r,a,c){if(r===null||typeof r>"u"||j(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(n,r,a,c,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){B[n]=new Y(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];B[r]=new Y(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){B[n]=new Y(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){B[n]=new Y(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){B[n]=new Y(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){B[n]=new Y(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){B[n]=new Y(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){B[n]=new Y(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){B[n]=new Y(n,5,!1,n.toLowerCase(),null,!1,!1)});var fe=/[\-:]([a-z])/g;function _e(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(fe,_e);B[r]=new Y(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(fe,_e);B[r]=new Y(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(fe,_e);B[r]=new Y(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){B[n]=new Y(n,1,!1,n.toLowerCase(),null,!1,!1)}),B.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){B[n]=new Y(n,1,!1,n.toLowerCase(),null,!0,!0)});function ye(n,r,a,c){var d=B.hasOwnProperty(r)?B[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(G(r,a,d,c)&&(a=null),c||d===null?D(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var Ee=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ze=Symbol.for("react.element"),Te=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,O;function $(n){if(O===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+n}var le=!1;function Ie(n,r){if(!n||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var c=F}Reflect.construct(n,[],r)}else{try{r.call()}catch(F){c=F}n.call(r.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),p=c.stack.split(`
`),_=d.length-1,I=p.length-1;1<=_&&0<=I&&d[_]!==p[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==p[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==p[I]){var k=`
`+d[_].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=_&&0<=I);break}}}finally{le=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?$(n):""}function Se(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function Pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Te:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Ye:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case V:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xt:return r=n.displayName||null,r!==null?r:Pe(n.type)||"Memo";case Nt:r=n._payload,n=n._init;try{return Pe(n(r))}catch{}}return null}function Me(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(n){var r=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function er(n){n._valueTracker||(n._valueTracker=mt(n))}function ts(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function Pr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gi(n,r){var a=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ns(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Le(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function _o(n,r){r=r.checked,r!=null&&ye(n,"checked",r,!1)}function vo(n,r){_o(n,r);var a=Le(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?rs(n,r.type,a):r.hasOwnProperty("defaultValue")&&rs(n,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Ga(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function rs(n,r,a){(r!=="number"||Pr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var tr=Array.isArray;function nr(n,r,a,c){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Le(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function wo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function is(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(tr(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Le(a)}}function ss(n,r){var a=Le(r.value),c=Le(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Eo(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?ut(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rr,To=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function xr(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_i=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(n){_i.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),yi[r]=yi[n]})});function Io(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||yi.hasOwnProperty(n)&&yi[n]?(""+r).trim():r+"px"}function So(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Io(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Ao=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(n,r){if(r){if(Ao[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function Ro(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function os(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var as=null,cn=null,bn=null;function ls(n){if(n=Xo(n)){if(typeof as!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Sl(r),as(n.stateNode,n.type,r))}}function Fn(n){cn?bn?bn.push(n):bn=[n]:cn=n}function Co(){if(cn){var n=cn,r=bn;if(bn=cn=null,ls(n),r)for(n=0;n<r.length;n++)ls(r[n])}}function wi(n,r){return n(r)}function Po(){}var ir=!1;function xo(n,r,a){if(ir)return n(r,a);ir=!0;try{return wi(n,r,a)}finally{ir=!1,(cn!==null||bn!==null)&&(Po(),Co())}}function nt(n,r){var a=n.stateNode;if(a===null)return null;var c=Sl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var us=!1;if(m)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){us=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{us=!1}function Ei(n,r,a,c,d,p,_,I,k){var F=Array.prototype.slice.call(arguments,3);try{r.apply(a,F)}catch(W){this.onError(W)}}var Ti=!1,cs=null,En=!1,No=null,ac={onError:function(n){Ti=!0,cs=n}};function hs(n,r,a,c,d,p,_,I,k){Ti=!1,cs=null,Ei.apply(ac,arguments)}function Qa(n,r,a,c,d,p,_,I,k){if(hs.apply(this,arguments),Ti){if(Ti){var F=cs;Ti=!1,cs=null}else throw Error(t(198));En||(En=!0,No=F)}}function Tn(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ii(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function In(n){if(Tn(n)!==n)throw Error(t(188))}function Ya(n){var r=n.alternate;if(!r){if(r=Tn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return In(d),n;if(p===c)return In(d),r;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=p;else{for(var _=!1,I=d.child;I;){if(I===a){_=!0,a=d,c=p;break}if(I===c){_=!0,c=d,a=p;break}I=I.sibling}if(!_){for(I=p.child;I;){if(I===a){_=!0,a=p,c=d;break}if(I===c){_=!0,c=p,a=d;break}I=I.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Do(n){return n=Ya(n),n!==null?ds(n):null}function ds(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=ds(n);if(r!==null)return r;n=n.sibling}return null}var fs=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,Xa=e.unstable_shouldYield,lc=e.unstable_requestPaint,$e=e.unstable_now,Ja=e.unstable_getCurrentPriorityLevel,Si=e.unstable_ImmediatePriority,Nr=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,Oo=e.unstable_LowPriority,Za=e.unstable_IdlePriority,Ai=null,tn=null;function el(n){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ai,n,void 0,(n.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:nl,Mo=Math.log,tl=Math.LN2;function nl(n){return n>>>=0,n===0?32:31-(Mo(n)/tl|0)|0}var ps=64,ms=4194304;function Dr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ki(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,p=n.pingedLanes,_=a&268435455;if(_!==0){var I=_&~d;I!==0?c=Dr(I):(p&=_,p!==0&&(c=Dr(p)))}else _=a&~d,_!==0?c=Dr(_):p!==0&&(c=Dr(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-zt(r),d=1<<a,c|=n[a],r&=~d;return c}function uc(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var _=31-zt(p),I=1<<_,k=d[_];k===-1?((I&a)===0||(I&c)!==0)&&(d[_]=uc(I,r)):k<=r&&(n.expiredLanes|=I),p&=~I}}function nn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ri(){var n=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),n}function Vr(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Or(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-zt(r),n[r]=a}function je(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-zt(a),p=1<<d;r[d]=0,c[d]=-1,n[d]=-1,a&=~p}}function Mr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-zt(a),d=1<<c;d&r|n[c]&r&&(n[c]|=r),a&=~d}}var Re=0;function Lr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var rl,gs,il,sl,ol,Lo=!1,Un=[],Et=null,Sn=null,An=null,br=new Map,dn=new Map,jn=[],cc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function al(n,r){switch(n){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":br.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(r.pointerId)}}function Ht(n,r,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Xo(r),r!==null&&gs(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function hc(n,r,a,c,d){switch(r){case"focusin":return Et=Ht(Et,n,r,a,c,d),!0;case"dragenter":return Sn=Ht(Sn,n,r,a,c,d),!0;case"mouseover":return An=Ht(An,n,r,a,c,d),!0;case"pointerover":var p=d.pointerId;return br.set(p,Ht(br.get(p)||null,n,r,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,dn.set(p,Ht(dn.get(p)||null,n,r,a,c,d)),!0}return!1}function ll(n){var r=Di(n.target);if(r!==null){var a=Tn(r);if(a!==null){if(r=a.tag,r===13){if(r=Ii(a),r!==null){n.blockedOn=r,ol(n.priority,function(){il(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function or(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ys(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);vi=c,a.target.dispatchEvent(c),vi=null}else return r=Xo(a),r!==null&&gs(r),n.blockedOn=a,!1;r.shift()}return!0}function Ci(n,r,a){or(n)&&a.delete(r)}function ul(){Lo=!1,Et!==null&&or(Et)&&(Et=null),Sn!==null&&or(Sn)&&(Sn=null),An!==null&&or(An)&&(An=null),br.forEach(Ci),dn.forEach(Ci)}function kn(n,r){n.blockedOn===r&&(n.blockedOn=null,Lo||(Lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ul)))}function Rn(n){function r(d){return kn(d,n)}if(0<Un.length){kn(Un[0],n);for(var a=1;a<Un.length;a++){var c=Un[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Et!==null&&kn(Et,n),Sn!==null&&kn(Sn,n),An!==null&&kn(An,n),br.forEach(r),dn.forEach(r),a=0;a<jn.length;a++)c=jn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)ll(a),a.blockedOn===null&&jn.shift()}var ar=Ee.ReactCurrentBatchConfig,Fr=!0;function Ge(n,r,a,c){var d=Re,p=ar.transition;ar.transition=null;try{Re=1,bo(n,r,a,c)}finally{Re=d,ar.transition=p}}function dc(n,r,a,c){var d=Re,p=ar.transition;ar.transition=null;try{Re=4,bo(n,r,a,c)}finally{Re=d,ar.transition=p}}function bo(n,r,a,c){if(Fr){var d=ys(n,r,a,c);if(d===null)Ic(n,r,c,Pi,a),al(n,c);else if(hc(d,n,r,a,c))c.stopPropagation();else if(al(n,c),r&4&&-1<cc.indexOf(n)){for(;d!==null;){var p=Xo(d);if(p!==null&&rl(p),p=ys(n,r,a,c),p===null&&Ic(n,r,c,Pi,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Ic(n,r,c,null,a)}}var Pi=null;function ys(n,r,a,c){if(Pi=null,n=os(c),n=Di(n),n!==null)if(r=Tn(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Ii(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Pi=n,null}function Fo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ja()){case Si:return 1;case Nr:return 4;case hn:case Oo:return 16;case Za:return 536870912;default:return 16}default:return 16}}var rn=null,_s=null,Wt=null;function Uo(){if(Wt)return Wt;var n,r=_s,a=r.length,c,d="value"in rn?rn.value:rn.textContent,p=d.length;for(n=0;n<a&&r[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&r[a-c]===d[p-c];c++);return Wt=d.slice(n,1<c?1-c:void 0)}function vs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function zn(){return!0}function jo(){return!1}function Tt(n){function r(a,c,d,p,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?zn:jo,this.isPropagationStopped=jo,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=Tt(Cn),Bn=te({},Cn,{view:0,detail:0}),fc=Tt(Bn),Es,lr,Ur,xi=te({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ur&&(Ur&&n.type==="mousemove"?(Es=n.screenX-Ur.screenX,lr=n.screenY-Ur.screenY):lr=Es=0,Ur=n),Es)},movementY:function(n){return"movementY"in n?n.movementY:lr}}),Ts=Tt(xi),zo=te({},xi,{dataTransfer:0}),cl=Tt(zo),Is=te({},Bn,{relatedTarget:0}),Ss=Tt(Is),hl=te({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=Tt(hl),dl=te({},Cn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fl=Tt(dl),pl=te({},Cn,{data:0}),Bo=Tt(pl),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ml[n])?!!r[n]:!1}function $n(){return gl}var l=te({},Bn,{key:function(n){if(n.key){var r=As[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(n){return n.type==="keypress"?vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=Tt(l),y=te({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Tt(y),M=te({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n}),U=Tt(M),J=te({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=Tt(J),ht=te({},xi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=Tt(ht),gt=[9,13,27,32],st=m&&"CompositionEvent"in window,fn=null;m&&"documentMode"in document&&(fn=document.documentMode);var sn=m&&"TextEvent"in window&&!fn,Ni=m&&(!st||fn&&8<fn&&11>=fn),ks=" ",yf=!1;function _f(n,r){switch(n){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Rs=!1;function lv(n,r){switch(n){case"compositionend":return vf(r);case"keypress":return r.which!==32?null:(yf=!0,ks);case"textInput":return n=r.data,n===ks&&yf?null:n;default:return null}}function uv(n,r){if(Rs)return n==="compositionend"||!st&&_f(n,r)?(n=Uo(),Wt=_s=rn=null,Rs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ni&&r.locale!=="ko"?null:r.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!cv[n.type]:r==="textarea"}function Ef(n,r,a,c){Fn(c),r=El(r,"onChange"),0<r.length&&(a=new ws("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var $o=null,qo=null;function hv(n){Uf(n,0)}function yl(n){var r=Ds(n);if(ts(r))return n}function dv(n,r){if(n==="change")return r}var Tf=!1;if(m){var pc;if(m){var mc="oninput"in document;if(!mc){var If=document.createElement("div");If.setAttribute("oninput","return;"),mc=typeof If.oninput=="function"}pc=mc}else pc=!1;Tf=pc&&(!document.documentMode||9<document.documentMode)}function Sf(){$o&&($o.detachEvent("onpropertychange",Af),qo=$o=null)}function Af(n){if(n.propertyName==="value"&&yl(qo)){var r=[];Ef(r,qo,n,os(n)),xo(hv,r)}}function fv(n,r,a){n==="focusin"?(Sf(),$o=r,qo=a,$o.attachEvent("onpropertychange",Af)):n==="focusout"&&Sf()}function pv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(qo)}function mv(n,r){if(n==="click")return yl(r)}function gv(n,r){if(n==="input"||n==="change")return yl(r)}function yv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Pn=typeof Object.is=="function"?Object.is:yv;function Ho(n,r){if(Pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(r,d)||!Pn(n[d],r[d]))return!1}return!0}function kf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rf(n,r){var a=kf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kf(a)}}function Cf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Cf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Pf(){for(var n=window,r=Pr();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Pr(n.document)}return r}function gc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function _v(n){var r=Pf(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&Cf(a.ownerDocument.documentElement,a)){if(c!==null&&gc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!n.extend&&p>c&&(d=c,c=p,p=d),d=Rf(a,p);var _=Rf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),p>c?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vv=m&&"documentMode"in document&&11>=document.documentMode,Cs=null,yc=null,Wo=null,_c=!1;function xf(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_c||Cs==null||Cs!==Pr(c)||(c=Cs,"selectionStart"in c&&gc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wo&&Ho(Wo,c)||(Wo=c,c=El(yc,"onSelect"),0<c.length&&(r=new ws("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Cs)))}function _l(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ps={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},vc={},Nf={};m&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function vl(n){if(vc[n])return vc[n];if(!Ps[n])return n;var r=Ps[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Nf)return vc[n]=r[a];return n}var Df=vl("animationend"),Vf=vl("animationiteration"),Of=vl("animationstart"),Mf=vl("transitionend"),Lf=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(n,r){Lf.set(n,r),u(r,[n])}for(var wc=0;wc<bf.length;wc++){var Ec=bf[wc],wv=Ec.toLowerCase(),Ev=Ec[0].toUpperCase()+Ec.slice(1);jr(wv,"on"+Ev)}jr(Df,"onAnimationEnd"),jr(Vf,"onAnimationIteration"),jr(Of,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Mf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function Ff(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,Qa(c,r,void 0,n),n.currentTarget=null}function Uf(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],k=I.instance,F=I.currentTarget;if(I=I.listener,k!==p&&d.isPropagationStopped())break e;Ff(d,I,F),p=k}else for(_=0;_<c.length;_++){if(I=c[_],k=I.instance,F=I.currentTarget,I=I.listener,k!==p&&d.isPropagationStopped())break e;Ff(d,I,F),p=k}}}if(En)throw n=No,En=!1,No=null,n}function He(n,r){var a=r[Pc];a===void 0&&(a=r[Pc]=new Set);var c=n+"__bubble";a.has(c)||(jf(r,n,2,!1),a.add(c))}function Tc(n,r,a){var c=0;r&&(c|=4),jf(a,n,c,r)}var wl="_reactListening"+Math.random().toString(36).slice(2);function Go(n){if(!n[wl]){n[wl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Tv.has(a)||Tc(a,!1,n),Tc(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[wl]||(r[wl]=!0,Tc("selectionchange",!1,r))}}function jf(n,r,a,c){switch(Fo(r)){case 1:var d=Ge;break;case 4:d=dc;break;default:d=bo}a=d.bind(null,r,a,n),d=void 0,!us||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Ic(n,r,a,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var k=_.tag;if((k===3||k===4)&&(k=_.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Di(I),_===null)return;if(k=_.tag,k===5||k===6){c=p=_;continue e}I=I.parentNode}}c=c.return}xo(function(){var F=p,W=os(a),Q=[];e:{var H=Lf.get(n);if(H!==void 0){var ee=ws,re=n;switch(n){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":ee=f;break;case"focusin":re="focus",ee=Ss;break;case"focusout":re="blur",ee=Ss;break;case"beforeblur":case"afterblur":ee=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=U;break;case Df:case Vf:case Of:ee=ur;break;case Mf:ee=be;break;case"scroll":ee=fc;break;case"wheel":ee=xe;break;case"copy":case"cut":case"paste":ee=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=w}var se=(r&4)!==0,rt=!se&&n==="scroll",L=se?H!==null?H+"Capture":null:H;se=[];for(var x=F,b;x!==null;){b=x;var X=b.stateNode;if(b.tag===5&&X!==null&&(b=X,L!==null&&(X=nt(x,L),X!=null&&se.push(Qo(x,X,b)))),rt)break;x=x.return}0<se.length&&(H=new ee(H,re,null,a,W),Q.push({event:H,listeners:se}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",H&&a!==vi&&(re=a.relatedTarget||a.fromElement)&&(Di(re)||re[cr]))break e;if((ee||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,ee?(re=a.relatedTarget||a.toElement,ee=F,re=re?Di(re):null,re!==null&&(rt=Tn(re),re!==rt||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=F),ee!==re)){if(se=Ts,X="onMouseLeave",L="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(se=w,X="onPointerLeave",L="onPointerEnter",x="pointer"),rt=ee==null?H:Ds(ee),b=re==null?H:Ds(re),H=new se(X,x+"leave",ee,a,W),H.target=rt,H.relatedTarget=b,X=null,Di(W)===F&&(se=new se(L,x+"enter",re,a,W),se.target=b,se.relatedTarget=rt,X=se),rt=X,ee&&re)t:{for(se=ee,L=re,x=0,b=se;b;b=xs(b))x++;for(b=0,X=L;X;X=xs(X))b++;for(;0<x-b;)se=xs(se),x--;for(;0<b-x;)L=xs(L),b--;for(;x--;){if(se===L||L!==null&&se===L.alternate)break t;se=xs(se),L=xs(L)}se=null}else se=null;ee!==null&&zf(Q,H,ee,se,!1),re!==null&&rt!==null&&zf(Q,rt,re,se,!0)}}e:{if(H=F?Ds(F):window,ee=H.nodeName&&H.nodeName.toLowerCase(),ee==="select"||ee==="input"&&H.type==="file")var ae=dv;else if(wf(H))if(Tf)ae=gv;else{ae=pv;var he=fv}else(ee=H.nodeName)&&ee.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ae=mv);if(ae&&(ae=ae(n,F))){Ef(Q,ae,a,W);break e}he&&he(n,H,F),n==="focusout"&&(he=H._wrapperState)&&he.controlled&&H.type==="number"&&rs(H,"number",H.value)}switch(he=F?Ds(F):window,n){case"focusin":(wf(he)||he.contentEditable==="true")&&(Cs=he,yc=F,Wo=null);break;case"focusout":Wo=yc=Cs=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,xf(Q,a,W);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":xf(Q,a,W)}var de;if(st)e:{switch(n){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Rs?_f(n,a)&&(pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Ni&&a.locale!=="ko"&&(Rs||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Rs&&(de=Uo()):(rn=W,_s="value"in rn?rn.value:rn.textContent,Rs=!0)),he=El(F,pe),0<he.length&&(pe=new Bo(pe,n,null,a,W),Q.push({event:pe,listeners:he}),de?pe.data=de:(de=vf(a),de!==null&&(pe.data=de)))),(de=sn?lv(n,a):uv(n,a))&&(F=El(F,"onBeforeInput"),0<F.length&&(W=new Bo("onBeforeInput","beforeinput",null,a,W),Q.push({event:W,listeners:F}),W.data=de))}Uf(Q,r)})}function Qo(n,r,a){return{instance:n,listener:r,currentTarget:a}}function El(n,r){for(var a=r+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=nt(n,a),p!=null&&c.unshift(Qo(n,p,d)),p=nt(n,r),p!=null&&c.push(Qo(n,p,d))),n=n.return}return c}function xs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zf(n,r,a,c,d){for(var p=r._reactName,_=[];a!==null&&a!==c;){var I=a,k=I.alternate,F=I.stateNode;if(k!==null&&k===c)break;I.tag===5&&F!==null&&(I=F,d?(k=nt(a,p),k!=null&&_.unshift(Qo(a,k,I))):d||(k=nt(a,p),k!=null&&_.push(Qo(a,k,I)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var Iv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function Bf(n){return(typeof n=="string"?n:""+n).replace(Iv,`
`).replace(Sv,"")}function Tl(n,r,a){if(r=Bf(r),Bf(n)!==r&&a)throw Error(t(425))}function Il(){}var Sc=null,Ac=null;function kc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(n){return $f.resolve(null).then(n).catch(Rv)}:Rc;function Rv(n){setTimeout(function(){throw n})}function Cc(n,r){var a=r,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Rn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Rn(r)}function zr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function qf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),qn="__reactFiber$"+Ns,Yo="__reactProps$"+Ns,cr="__reactContainer$"+Ns,Pc="__reactEvents$"+Ns,Cv="__reactListeners$"+Ns,Pv="__reactHandles$"+Ns;function Di(n){var r=n[qn];if(r)return r;for(var a=n.parentNode;a;){if(r=a[cr]||a[qn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=qf(n);n!==null;){if(a=n[qn])return a;n=qf(n)}return r}n=a,a=n.parentNode}return null}function Xo(n){return n=n[qn]||n[cr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ds(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Sl(n){return n[Yo]||null}var xc=[],Vs=-1;function Br(n){return{current:n}}function We(n){0>Vs||(n.current=xc[Vs],xc[Vs]=null,Vs--)}function qe(n,r){Vs++,xc[Vs]=n.current,n.current=r}var $r={},Dt=Br($r),Kt=Br(!1),Vi=$r;function Os(n,r){var a=n.type.contextTypes;if(!a)return $r;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=r[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Gt(n){return n=n.childContextTypes,n!=null}function Al(){We(Kt),We(Dt)}function Hf(n,r,a){if(Dt.current!==$r)throw Error(t(168));qe(Dt,r),qe(Kt,a)}function Wf(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,Me(n)||"Unknown",d));return te({},a,c)}function kl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$r,Vi=Dt.current,qe(Dt,n),qe(Kt,Kt.current),!0}function Kf(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Wf(n,r,Vi),c.__reactInternalMemoizedMergedChildContext=n,We(Kt),We(Dt),qe(Dt,n)):We(Kt),qe(Kt,a)}var hr=null,Rl=!1,Nc=!1;function Gf(n){hr===null?hr=[n]:hr.push(n)}function xv(n){Rl=!0,Gf(n)}function qr(){if(!Nc&&hr!==null){Nc=!0;var n=0,r=Re;try{var a=hr;for(Re=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}hr=null,Rl=!1}catch(d){throw hr!==null&&(hr=hr.slice(n+1)),fs(Si,qr),d}finally{Re=r,Nc=!1}}return null}var Ms=[],Ls=0,Cl=null,Pl=0,pn=[],mn=0,Oi=null,dr=1,fr="";function Mi(n,r){Ms[Ls++]=Pl,Ms[Ls++]=Cl,Cl=n,Pl=r}function Qf(n,r,a){pn[mn++]=dr,pn[mn++]=fr,pn[mn++]=Oi,Oi=n;var c=dr;n=fr;var d=32-zt(c)-1;c&=~(1<<d),a+=1;var p=32-zt(r)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,dr=1<<32-zt(r)+d|a<<d|c,fr=p+n}else dr=1<<p|a<<d|c,fr=n}function Dc(n){n.return!==null&&(Mi(n,1),Qf(n,1,0))}function Vc(n){for(;n===Cl;)Cl=Ms[--Ls],Ms[Ls]=null,Pl=Ms[--Ls],Ms[Ls]=null;for(;n===Oi;)Oi=pn[--mn],pn[mn]=null,fr=pn[--mn],pn[mn]=null,dr=pn[--mn],pn[mn]=null}var on=null,an=null,Qe=!1,xn=null;function Yf(n,r){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function Xf(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,on=n,an=zr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,on=n,an=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Oi!==null?{id:dr,overflow:fr}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,on=n,an=null,!0):!1;default:return!1}}function Oc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Mc(n){if(Qe){var r=an;if(r){var a=r;if(!Xf(n,r)){if(Oc(n))throw Error(t(418));r=zr(a.nextSibling);var c=on;r&&Xf(n,r)?Yf(c,a):(n.flags=n.flags&-4097|2,Qe=!1,on=n)}}else{if(Oc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Qe=!1,on=n}}}function Jf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;on=n}function xl(n){if(n!==on)return!1;if(!Qe)return Jf(n),Qe=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!kc(n.type,n.memoizedProps)),r&&(r=an)){if(Oc(n))throw Zf(),Error(t(418));for(;r;)Yf(n,r),r=zr(r.nextSibling)}if(Jf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){an=zr(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}an=null}}else an=on?zr(n.stateNode.nextSibling):null;return!0}function Zf(){for(var n=an;n;)n=zr(n.nextSibling)}function bs(){an=on=null,Qe=!1}function Lc(n){xn===null?xn=[n]:xn.push(n)}var Nv=Ee.ReactCurrentBatchConfig;function Jo(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var I=d.refs;_===null?delete I[p]:I[p]=_},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Nl(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function ep(n){var r=n._init;return r(n._payload)}function tp(n){function r(L,x){if(n){var b=L.deletions;b===null?(L.deletions=[x],L.flags|=16):b.push(x)}}function a(L,x){if(!n)return null;for(;x!==null;)r(L,x),x=x.sibling;return null}function c(L,x){for(L=new Map;x!==null;)x.key!==null?L.set(x.key,x):L.set(x.index,x),x=x.sibling;return L}function d(L,x){return L=Jr(L,x),L.index=0,L.sibling=null,L}function p(L,x,b){return L.index=b,n?(b=L.alternate,b!==null?(b=b.index,b<x?(L.flags|=2,x):b):(L.flags|=2,x)):(L.flags|=1048576,x)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function I(L,x,b,X){return x===null||x.tag!==6?(x=Rh(b,L.mode,X),x.return=L,x):(x=d(x,b),x.return=L,x)}function k(L,x,b,X){var ae=b.type;return ae===N?W(L,x,b.props.children,X,b.key):x!==null&&(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Nt&&ep(ae)===x.type)?(X=d(x,b.props),X.ref=Jo(L,x,b),X.return=L,X):(X=tu(b.type,b.key,b.props,null,L.mode,X),X.ref=Jo(L,x,b),X.return=L,X)}function F(L,x,b,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Ch(b,L.mode,X),x.return=L,x):(x=d(x,b.children||[]),x.return=L,x)}function W(L,x,b,X,ae){return x===null||x.tag!==7?(x=$i(b,L.mode,X,ae),x.return=L,x):(x=d(x,b),x.return=L,x)}function Q(L,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Rh(""+x,L.mode,b),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ze:return b=tu(x.type,x.key,x.props,null,L.mode,b),b.ref=Jo(L,null,x),b.return=L,b;case Te:return x=Ch(x,L.mode,b),x.return=L,x;case Nt:var X=x._init;return Q(L,X(x._payload),b)}if(tr(x)||ce(x))return x=$i(x,L.mode,b,null),x.return=L,x;Nl(L,x)}return null}function H(L,x,b,X){var ae=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ae!==null?null:I(L,x,""+b,X);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ze:return b.key===ae?k(L,x,b,X):null;case Te:return b.key===ae?F(L,x,b,X):null;case Nt:return ae=b._init,H(L,x,ae(b._payload),X)}if(tr(b)||ce(b))return ae!==null?null:W(L,x,b,X,null);Nl(L,b)}return null}function ee(L,x,b,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number")return L=L.get(b)||null,I(x,L,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ze:return L=L.get(X.key===null?b:X.key)||null,k(x,L,X,ae);case Te:return L=L.get(X.key===null?b:X.key)||null,F(x,L,X,ae);case Nt:var he=X._init;return ee(L,x,b,he(X._payload),ae)}if(tr(X)||ce(X))return L=L.get(b)||null,W(x,L,X,ae,null);Nl(x,X)}return null}function re(L,x,b,X){for(var ae=null,he=null,de=x,pe=x=0,vt=null;de!==null&&pe<b.length;pe++){de.index>pe?(vt=de,de=null):vt=de.sibling;var Ve=H(L,de,b[pe],X);if(Ve===null){de===null&&(de=vt);break}n&&de&&Ve.alternate===null&&r(L,de),x=p(Ve,x,pe),he===null?ae=Ve:he.sibling=Ve,he=Ve,de=vt}if(pe===b.length)return a(L,de),Qe&&Mi(L,pe),ae;if(de===null){for(;pe<b.length;pe++)de=Q(L,b[pe],X),de!==null&&(x=p(de,x,pe),he===null?ae=de:he.sibling=de,he=de);return Qe&&Mi(L,pe),ae}for(de=c(L,de);pe<b.length;pe++)vt=ee(de,L,pe,b[pe],X),vt!==null&&(n&&vt.alternate!==null&&de.delete(vt.key===null?pe:vt.key),x=p(vt,x,pe),he===null?ae=vt:he.sibling=vt,he=vt);return n&&de.forEach(function(Zr){return r(L,Zr)}),Qe&&Mi(L,pe),ae}function se(L,x,b,X){var ae=ce(b);if(typeof ae!="function")throw Error(t(150));if(b=ae.call(b),b==null)throw Error(t(151));for(var he=ae=null,de=x,pe=x=0,vt=null,Ve=b.next();de!==null&&!Ve.done;pe++,Ve=b.next()){de.index>pe?(vt=de,de=null):vt=de.sibling;var Zr=H(L,de,Ve.value,X);if(Zr===null){de===null&&(de=vt);break}n&&de&&Zr.alternate===null&&r(L,de),x=p(Zr,x,pe),he===null?ae=Zr:he.sibling=Zr,he=Zr,de=vt}if(Ve.done)return a(L,de),Qe&&Mi(L,pe),ae;if(de===null){for(;!Ve.done;pe++,Ve=b.next())Ve=Q(L,Ve.value,X),Ve!==null&&(x=p(Ve,x,pe),he===null?ae=Ve:he.sibling=Ve,he=Ve);return Qe&&Mi(L,pe),ae}for(de=c(L,de);!Ve.done;pe++,Ve=b.next())Ve=ee(de,L,pe,Ve.value,X),Ve!==null&&(n&&Ve.alternate!==null&&de.delete(Ve.key===null?pe:Ve.key),x=p(Ve,x,pe),he===null?ae=Ve:he.sibling=Ve,he=Ve);return n&&de.forEach(function(c0){return r(L,c0)}),Qe&&Mi(L,pe),ae}function rt(L,x,b,X){if(typeof b=="object"&&b!==null&&b.type===N&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ze:e:{for(var ae=b.key,he=x;he!==null;){if(he.key===ae){if(ae=b.type,ae===N){if(he.tag===7){a(L,he.sibling),x=d(he,b.props.children),x.return=L,L=x;break e}}else if(he.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Nt&&ep(ae)===he.type){a(L,he.sibling),x=d(he,b.props),x.ref=Jo(L,he,b),x.return=L,L=x;break e}a(L,he);break}else r(L,he);he=he.sibling}b.type===N?(x=$i(b.props.children,L.mode,X,b.key),x.return=L,L=x):(X=tu(b.type,b.key,b.props,null,L.mode,X),X.ref=Jo(L,x,b),X.return=L,L=X)}return _(L);case Te:e:{for(he=b.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){a(L,x.sibling),x=d(x,b.children||[]),x.return=L,L=x;break e}else{a(L,x);break}else r(L,x);x=x.sibling}x=Ch(b,L.mode,X),x.return=L,L=x}return _(L);case Nt:return he=b._init,rt(L,x,he(b._payload),X)}if(tr(b))return re(L,x,b,X);if(ce(b))return se(L,x,b,X);Nl(L,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(a(L,x.sibling),x=d(x,b),x.return=L,L=x):(a(L,x),x=Rh(b,L.mode,X),x.return=L,L=x),_(L)):a(L,x)}return rt}var Fs=tp(!0),np=tp(!1),Dl=Br(null),Vl=null,Us=null,bc=null;function Fc(){bc=Us=Vl=null}function Uc(n){var r=Dl.current;We(Dl),n._currentValue=r}function jc(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function js(n,r){Vl=n,bc=Us=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Qt=!0),n.firstContext=null)}function gn(n){var r=n._currentValue;if(bc!==n)if(n={context:n,memoizedValue:r,next:null},Us===null){if(Vl===null)throw Error(t(308));Us=n,Vl.dependencies={lanes:0,firstContext:n}}else Us=Us.next=n;return r}var Li=null;function zc(n){Li===null?Li=[n]:Li.push(n)}function rp(n,r,a,c){var d=r.interleaved;return d===null?(a.next=a,zc(r)):(a.next=d.next,d.next=a),r.interleaved=a,pr(n,c)}function pr(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Hr=!1;function Bc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ip(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Wr(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(De&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,pr(n,a)}return d=c.interleaved,d===null?(r.next=r,zc(c)):(r.next=d.next,d.next=r),c.interleaved=r,pr(n,a)}function Ol(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Mr(n,a)}}function sp(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?d=p=r:p=p.next=r}else d=p=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function Ml(n,r,a,c){var d=n.updateQueue;Hr=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var k=I,F=k.next;k.next=null,_===null?p=F:_.next=F,_=k;var W=n.alternate;W!==null&&(W=W.updateQueue,I=W.lastBaseUpdate,I!==_&&(I===null?W.firstBaseUpdate=F:I.next=F,W.lastBaseUpdate=k))}if(p!==null){var Q=d.baseState;_=0,W=F=k=null,I=p;do{var H=I.lane,ee=I.eventTime;if((c&H)===H){W!==null&&(W=W.next={eventTime:ee,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var re=n,se=I;switch(H=r,ee=a,se.tag){case 1:if(re=se.payload,typeof re=="function"){Q=re.call(ee,Q,H);break e}Q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,H=typeof re=="function"?re.call(ee,Q,H):re,H==null)break e;Q=te({},Q,H);break e;case 2:Hr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,H=d.effects,H===null?d.effects=[I]:H.push(I))}else ee={eventTime:ee,lane:H,tag:I.tag,payload:I.payload,callback:I.callback,next:null},W===null?(F=W=ee,k=Q):W=W.next=ee,_|=H;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;H=I,I=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);if(W===null&&(k=Q),d.baseState=k,d.firstBaseUpdate=F,d.lastBaseUpdate=W,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Ui|=_,n.lanes=_,n.memoizedState=Q}}function op(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Zo={},Hn=Br(Zo),ea=Br(Zo),ta=Br(Zo);function bi(n){if(n===Zo)throw Error(t(174));return n}function $c(n,r){switch(qe(ta,r),qe(ea,n),qe(Hn,Zo),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ct(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=ct(r,n)}We(Hn),qe(Hn,r)}function zs(){We(Hn),We(ea),We(ta)}function ap(n){bi(ta.current);var r=bi(Hn.current),a=ct(r,n.type);r!==a&&(qe(ea,n),qe(Hn,a))}function qc(n){ea.current===n&&(We(Hn),We(ea))}var Xe=Br(0);function Ll(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hc=[];function Wc(){for(var n=0;n<Hc.length;n++)Hc[n]._workInProgressVersionPrimary=null;Hc.length=0}var bl=Ee.ReactCurrentDispatcher,Kc=Ee.ReactCurrentBatchConfig,Fi=0,Je=null,dt=null,yt=null,Fl=!1,na=!1,ra=0,Dv=0;function Vt(){throw Error(t(321))}function Gc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Pn(n[a],r[a]))return!1;return!0}function Qc(n,r,a,c,d,p){if(Fi=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,bl.current=n===null||n.memoizedState===null?Lv:bv,n=a(c,d),na){p=0;do{if(na=!1,ra=0,25<=p)throw Error(t(301));p+=1,yt=dt=null,r.updateQueue=null,bl.current=Fv,n=a(c,d)}while(na)}if(bl.current=zl,r=dt!==null&&dt.next!==null,Fi=0,yt=dt=Je=null,Fl=!1,r)throw Error(t(300));return n}function Yc(){var n=ra!==0;return ra=0,n}function Wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=n:yt=yt.next=n,yt}function yn(){if(dt===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var r=yt===null?Je.memoizedState:yt.next;if(r!==null)yt=r,dt=n;else{if(n===null)throw Error(t(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},yt===null?Je.memoizedState=yt=n:yt=yt.next=n}return yt}function ia(n,r){return typeof r=="function"?r(n):r}function Xc(n){var r=yn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=dt,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var I=_=null,k=null,F=p;do{var W=F.lane;if((Fi&W)===W)k!==null&&(k=k.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var Q={lane:W,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};k===null?(I=k=Q,_=c):k=k.next=Q,Je.lanes|=W,Ui|=W}F=F.next}while(F!==null&&F!==p);k===null?_=c:k.next=I,Pn(c,r.memoizedState)||(Qt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=k,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do p=d.lane,Je.lanes|=p,Ui|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Jc(n){var r=yn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do p=n(p,_.action),_=_.next;while(_!==d);Pn(p,r.memoizedState)||(Qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function lp(){}function up(n,r){var a=Je,c=yn(),d=r(),p=!Pn(c.memoizedState,d);if(p&&(c.memoizedState=d,Qt=!0),c=c.queue,Zc(dp.bind(null,a,c,n),[n]),c.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(a.flags|=2048,sa(9,hp.bind(null,a,c,d,r),void 0,null),_t===null)throw Error(t(349));(Fi&30)!==0||cp(a,r,d)}return d}function cp(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function hp(n,r,a,c){r.value=a,r.getSnapshot=c,fp(r)&&pp(n)}function dp(n,r,a){return a(function(){fp(r)&&pp(n)})}function fp(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Pn(n,a)}catch{return!0}}function pp(n){var r=pr(n,1);r!==null&&On(r,n,1,-1)}function mp(n){var r=Wn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:n},r.queue=n,n=n.dispatch=Mv.bind(null,Je,n),[r.memoizedState,n]}function sa(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function gp(){return yn().memoizedState}function Ul(n,r,a,c){var d=Wn();Je.flags|=n,d.memoizedState=sa(1|r,a,void 0,c===void 0?null:c)}function jl(n,r,a,c){var d=yn();c=c===void 0?null:c;var p=void 0;if(dt!==null){var _=dt.memoizedState;if(p=_.destroy,c!==null&&Gc(c,_.deps)){d.memoizedState=sa(r,a,p,c);return}}Je.flags|=n,d.memoizedState=sa(1|r,a,p,c)}function yp(n,r){return Ul(8390656,8,n,r)}function Zc(n,r){return jl(2048,8,n,r)}function _p(n,r){return jl(4,2,n,r)}function vp(n,r){return jl(4,4,n,r)}function wp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ep(n,r,a){return a=a!=null?a.concat([n]):null,jl(4,4,wp.bind(null,r,n),a)}function eh(){}function Tp(n,r){var a=yn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Gc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function Ip(n,r){var a=yn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Gc(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function Sp(n,r,a){return(Fi&21)===0?(n.baseState&&(n.baseState=!1,Qt=!0),n.memoizedState=a):(Pn(a,r)||(a=Ri(),Je.lanes|=a,Ui|=a,n.baseState=!0),r)}function Vv(n,r){var a=Re;Re=a!==0&&4>a?a:4,n(!0);var c=Kc.transition;Kc.transition={};try{n(!1),r()}finally{Re=a,Kc.transition=c}}function Ap(){return yn().memoizedState}function Ov(n,r,a){var c=Yr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},kp(n))Rp(r,a);else if(a=rp(n,r,a,c),a!==null){var d=qt();On(a,n,c,d),Cp(a,r,c)}}function Mv(n,r,a){var c=Yr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(kp(n))Rp(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,I=p(_,a);if(d.hasEagerState=!0,d.eagerState=I,Pn(I,_)){var k=r.interleaved;k===null?(d.next=d,zc(r)):(d.next=k.next,k.next=d),r.interleaved=d;return}}catch{}finally{}a=rp(n,r,d,c),a!==null&&(d=qt(),On(a,n,c,d),Cp(a,r,c))}}function kp(n){var r=n.alternate;return n===Je||r!==null&&r===Je}function Rp(n,r){na=Fl=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Cp(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Mr(n,a)}}var zl={readContext:gn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Lv={readContext:gn,useCallback:function(n,r){return Wn().memoizedState=[n,r===void 0?null:r],n},useContext:gn,useEffect:yp,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,Ul(4194308,4,wp.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Ul(4194308,4,n,r)},useInsertionEffect:function(n,r){return Ul(4,2,n,r)},useMemo:function(n,r){var a=Wn();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=Wn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=Ov.bind(null,Je,n),[c.memoizedState,n]},useRef:function(n){var r=Wn();return n={current:n},r.memoizedState=n},useState:mp,useDebugValue:eh,useDeferredValue:function(n){return Wn().memoizedState=n},useTransition:function(){var n=mp(!1),r=n[0];return n=Vv.bind(null,n[1]),Wn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=Je,d=Wn();if(Qe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),_t===null)throw Error(t(349));(Fi&30)!==0||cp(c,r,a)}d.memoizedState=a;var p={value:a,getSnapshot:r};return d.queue=p,yp(dp.bind(null,c,p,n),[n]),c.flags|=2048,sa(9,hp.bind(null,c,p,a,r),void 0,null),a},useId:function(){var n=Wn(),r=_t.identifierPrefix;if(Qe){var a=fr,c=dr;a=(c&~(1<<32-zt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=ra++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Dv++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},bv={readContext:gn,useCallback:Tp,useContext:gn,useEffect:Zc,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ip,useReducer:Xc,useRef:gp,useState:function(){return Xc(ia)},useDebugValue:eh,useDeferredValue:function(n){var r=yn();return Sp(r,dt.memoizedState,n)},useTransition:function(){var n=Xc(ia)[0],r=yn().memoizedState;return[n,r]},useMutableSource:lp,useSyncExternalStore:up,useId:Ap,unstable_isNewReconciler:!1},Fv={readContext:gn,useCallback:Tp,useContext:gn,useEffect:Zc,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ip,useReducer:Jc,useRef:gp,useState:function(){return Jc(ia)},useDebugValue:eh,useDeferredValue:function(n){var r=yn();return dt===null?r.memoizedState=n:Sp(r,dt.memoizedState,n)},useTransition:function(){var n=Jc(ia)[0],r=yn().memoizedState;return[n,r]},useMutableSource:lp,useSyncExternalStore:up,useId:Ap,unstable_isNewReconciler:!1};function Nn(n,r){if(n&&n.defaultProps){r=te({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function th(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:te({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bl={isMounted:function(n){return(n=n._reactInternals)?Tn(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=qt(),d=Yr(n),p=mr(c,d);p.payload=r,a!=null&&(p.callback=a),r=Wr(n,p,d),r!==null&&(On(r,n,d,c),Ol(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=qt(),d=Yr(n),p=mr(c,d);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Wr(n,p,d),r!==null&&(On(r,n,d,c),Ol(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=qt(),c=Yr(n),d=mr(a,c);d.tag=2,r!=null&&(d.callback=r),r=Wr(n,d,c),r!==null&&(On(r,n,c,a),Ol(r,n,c))}};function Pp(n,r,a,c,d,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Ho(a,c)||!Ho(d,p):!0}function xp(n,r,a){var c=!1,d=$r,p=r.contextType;return typeof p=="object"&&p!==null?p=gn(p):(d=Gt(r)?Vi:Dt.current,c=r.contextTypes,p=(c=c!=null)?Os(n,d):$r),r=new r(a,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Bl,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),r}function Np(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&Bl.enqueueReplaceState(r,r.state,null)}function nh(n,r,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Bc(n);var p=r.contextType;typeof p=="object"&&p!==null?d.context=gn(p):(p=Gt(r)?Vi:Dt.current,d.context=Os(n,p)),d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(th(n,r,p,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Bl.enqueueReplaceState(d,d.state,null),Ml(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Bs(n,r){try{var a="",c=r;do a+=Se(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:d,digest:null}}function rh(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function ih(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Uv=typeof WeakMap=="function"?WeakMap:Map;function Dp(n,r,a){a=mr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Ql||(Ql=!0,vh=c),ih(n,r)},a}function Vp(n,r,a){a=mr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){ih(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){ih(n,r),typeof c!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function Op(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Uv;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),n=Zv.bind(null,n,r,a),r.then(n,n))}function Mp(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Lp(n,r,a,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=mr(-1,1),r.tag=2,Wr(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var jv=Ee.ReactCurrentOwner,Qt=!1;function $t(n,r,a,c){r.child=n===null?np(r,null,a,c):Fs(r,n.child,a,c)}function bp(n,r,a,c,d){a=a.render;var p=r.ref;return js(r,d),c=Qc(n,r,a,c,p,d),a=Yc(),n!==null&&!Qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,gr(n,r,d)):(Qe&&a&&Dc(r),r.flags|=1,$t(n,r,c,d),r.child)}function Fp(n,r,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!kh(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,Up(n,r,p,c,d)):(n=tu(a.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&d)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,c)&&n.ref===r.ref)return gr(n,r,d)}return r.flags|=1,n=Jr(p,c),n.ref=r.ref,n.return=r,r.child=n}function Up(n,r,a,c,d){if(n!==null){var p=n.memoizedProps;if(Ho(p,c)&&n.ref===r.ref)if(Qt=!1,r.pendingProps=c=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Qt=!0);else return r.lanes=n.lanes,gr(n,r,d)}return sh(n,r,a,c,d)}function jp(n,r,a){var c=r.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(qs,ln),ln|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,qe(qs,ln),ln|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,qe(qs,ln),ln|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,qe(qs,ln),ln|=c;return $t(n,r,d,a),r.child}function zp(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function sh(n,r,a,c,d){var p=Gt(a)?Vi:Dt.current;return p=Os(r,p),js(r,d),a=Qc(n,r,a,c,p,d),c=Yc(),n!==null&&!Qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,gr(n,r,d)):(Qe&&c&&Dc(r),r.flags|=1,$t(n,r,a,d),r.child)}function Bp(n,r,a,c,d){if(Gt(a)){var p=!0;kl(r)}else p=!1;if(js(r,d),r.stateNode===null)ql(n,r),xp(r,a,c),nh(r,a,c,d),c=!0;else if(n===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var k=_.context,F=a.contextType;typeof F=="object"&&F!==null?F=gn(F):(F=Gt(a)?Vi:Dt.current,F=Os(r,F));var W=a.getDerivedStateFromProps,Q=typeof W=="function"||typeof _.getSnapshotBeforeUpdate=="function";Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||k!==F)&&Np(r,_,c,F),Hr=!1;var H=r.memoizedState;_.state=H,Ml(r,c,_,d),k=r.memoizedState,I!==c||H!==k||Kt.current||Hr?(typeof W=="function"&&(th(r,a,W,c),k=r.memoizedState),(I=Hr||Pp(r,a,I,c,H,k,F))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=k),_.props=c,_.state=k,_.context=F,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,ip(n,r),I=r.memoizedProps,F=r.type===r.elementType?I:Nn(r.type,I),_.props=F,Q=r.pendingProps,H=_.context,k=a.contextType,typeof k=="object"&&k!==null?k=gn(k):(k=Gt(a)?Vi:Dt.current,k=Os(r,k));var ee=a.getDerivedStateFromProps;(W=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Q||H!==k)&&Np(r,_,c,k),Hr=!1,H=r.memoizedState,_.state=H,Ml(r,c,_,d);var re=r.memoizedState;I!==Q||H!==re||Kt.current||Hr?(typeof ee=="function"&&(th(r,a,ee,c),re=r.memoizedState),(F=Hr||Pp(r,a,F,c,H,re,k)||!1)?(W||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,re,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,re,k)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=re),_.props=c,_.state=re,_.context=k,c=F):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),c=!1)}return oh(n,r,a,c,p,d)}function oh(n,r,a,c,d,p){zp(n,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&Kf(r,a,!1),gr(n,r,p);c=r.stateNode,jv.current=r;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&_?(r.child=Fs(r,n.child,null,p),r.child=Fs(r,null,I,p)):$t(n,r,I,p),r.memoizedState=c.state,d&&Kf(r,a,!0),r.child}function $p(n){var r=n.stateNode;r.pendingContext?Hf(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Hf(n,r.context,!1),$c(n,r.containerInfo)}function qp(n,r,a,c,d){return bs(),Lc(d),r.flags|=256,$t(n,r,a,c),r.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function lh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Hp(n,r,a){var c=r.pendingProps,d=Xe.current,p=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Xe,d&1),n===null)return Mc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=c.children,n=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=nu(_,c,0,null),n=$i(n,c,a,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=lh(a),r.memoizedState=ah,n):uh(r,_));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return zv(n,r,_,c,I,d,a);if(p){p=c.fallback,_=r.mode,d=n.child,I=d.sibling;var k={mode:"hidden",children:c.children};return(_&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=k,r.deletions=null):(c=Jr(d,k),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?p=Jr(I,p):(p=$i(p,_,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=n.child.memoizedState,_=_===null?lh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=n.childLanes&~a,r.memoizedState=ah,c}return p=n.child,n=p.sibling,c=Jr(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function uh(n,r){return r=nu({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function $l(n,r,a,c){return c!==null&&Lc(c),Fs(r,n.child,null,a),n=uh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function zv(n,r,a,c,d,p,_){if(a)return r.flags&256?(r.flags&=-257,c=rh(Error(t(422))),$l(n,r,_,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=nu({mode:"visible",children:c.children},d,0,null),p=$i(p,d,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&Fs(r,n.child,null,_),r.child.memoizedState=lh(_),r.memoizedState=ah,p);if((r.mode&1)===0)return $l(n,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(t(419)),c=rh(p,c,void 0),$l(n,r,_,c)}if(I=(_&n.childLanes)!==0,Qt||I){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,pr(n,d),On(c,n,d,-1))}return Ah(),c=rh(Error(t(421))),$l(n,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=e0.bind(null,n),d._reactRetry=r,null):(n=p.treeContext,an=zr(d.nextSibling),on=r,Qe=!0,xn=null,n!==null&&(pn[mn++]=dr,pn[mn++]=fr,pn[mn++]=Oi,dr=n.id,fr=n.overflow,Oi=r),r=uh(r,c.children),r.flags|=4096,r)}function Wp(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),jc(n.return,r,a)}function ch(n,r,a,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function Kp(n,r,a){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if($t(n,r,c.children,a),c=Xe.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wp(n,a,r);else if(n.tag===19)Wp(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Xe,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Ll(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),ch(r,!1,d,a,p);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Ll(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ch(r,!0,a,null,p);break;case"together":ch(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ql(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function gr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ui|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=Jr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Jr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Bv(n,r,a){switch(r.tag){case 3:$p(r),bs();break;case 5:ap(r);break;case 1:Gt(r.type)&&kl(r);break;case 4:$c(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;qe(Dl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(qe(Xe,Xe.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Hp(n,r,a):(qe(Xe,Xe.current&1),n=gr(n,r,a),n!==null?n.sibling:null);qe(Xe,Xe.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Kp(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Xe,Xe.current),c)break;return null;case 22:case 23:return r.lanes=0,jp(n,r,a)}return gr(n,r,a)}var Gp,hh,Qp,Yp;Gp=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},hh=function(){},Qp=function(n,r,a,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,bi(Hn.current);var p=null;switch(a){case"input":d=gi(n,d),c=gi(n,c),p=[];break;case"select":d=te({},d,{value:void 0}),c=te({},c,{value:void 0}),p=[];break;case"textarea":d=wo(n,d),c=wo(n,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Il)}ko(a,c);var _;a=null;for(F in d)if(!c.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var I=d[F];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in c){var k=c[F];if(I=d?.[F],c.hasOwnProperty(F)&&k!==I&&(k!=null||I!=null))if(F==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||k&&k.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in k)k.hasOwnProperty(_)&&I[_]!==k[_]&&(a||(a={}),a[_]=k[_])}else a||(p||(p=[]),p.push(F,a)),a=k;else F==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(p=p||[]).push(F,k)):F==="children"?typeof k!="string"&&typeof k!="number"||(p=p||[]).push(F,""+k):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(k!=null&&F==="onScroll"&&He("scroll",n),p||I===k||(p=[])):(p=p||[]).push(F,k))}a&&(p=p||[]).push("style",a);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Yp=function(n,r,a,c){a!==c&&(r.flags|=4)};function oa(n,r){if(!Qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function $v(n,r,a){var c=r.pendingProps;switch(Vc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return Gt(r.type)&&Al(),Ot(r),null;case 3:return c=r.stateNode,zs(),We(Kt),We(Dt),Wc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(xl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xn!==null&&(Th(xn),xn=null))),hh(n,r),Ot(r),null;case 5:qc(r);var d=bi(ta.current);if(a=r.type,n!==null&&r.stateNode!=null)Qp(n,r,a,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return Ot(r),null}if(n=bi(Hn.current),xl(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[qn]=r,c[Yo]=p,n=(r.mode&1)!==0,a){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<Ko.length;d++)He(Ko[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":ns(c,p),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},He("invalid",c);break;case"textarea":is(c,p),He("invalid",c)}ko(a,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var I=p[_];_==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&Tl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&Tl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&He("scroll",c)}switch(a){case"input":er(c),Ga(c,p,!0);break;case"textarea":er(c),Eo(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Il)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ut(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[qn]=r,n[Yo]=c,Gp(n,r,!1,!1),r.stateNode=n;e:{switch(_=Ro(a,c),a){case"dialog":He("cancel",n),He("close",n),d=c;break;case"iframe":case"object":case"embed":He("load",n),d=c;break;case"video":case"audio":for(d=0;d<Ko.length;d++)He(Ko[d],n);d=c;break;case"source":He("error",n),d=c;break;case"img":case"image":case"link":He("error",n),He("load",n),d=c;break;case"details":He("toggle",n),d=c;break;case"input":ns(n,c),d=gi(n,c),He("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=te({},c,{value:void 0}),He("invalid",n);break;case"textarea":is(n,c),d=wo(n,c),He("invalid",n);break;default:d=c}ko(a,d),I=d;for(p in I)if(I.hasOwnProperty(p)){var k=I[p];p==="style"?So(n,k):p==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&To(n,k)):p==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&xr(n,k):typeof k=="number"&&xr(n,""+k):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?k!=null&&p==="onScroll"&&He("scroll",n):k!=null&&ye(n,p,k,_))}switch(a){case"input":er(n),Ga(n,c,!1);break;case"textarea":er(n),Eo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Le(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?nr(n,!!c.multiple,p,!1):c.defaultValue!=null&&nr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Il)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ot(r),null;case 6:if(n&&r.stateNode!=null)Yp(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=bi(ta.current),bi(Hn.current),xl(r)){if(c=r.stateNode,a=r.memoizedProps,c[qn]=r,(p=c.nodeValue!==a)&&(n=on,n!==null))switch(n.tag){case 3:Tl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Tl(c.nodeValue,a,(n.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[qn]=r,r.stateNode=c}return Ot(r),null;case 13:if(We(Xe),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&an!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Zf(),bs(),r.flags|=98560,p=!1;else if(p=xl(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[qn]=r}else bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ot(r),p=!1}else xn!==null&&(Th(xn),xn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Xe.current&1)!==0?ft===0&&(ft=3):Ah())),r.updateQueue!==null&&(r.flags|=4),Ot(r),null);case 4:return zs(),hh(n,r),n===null&&Go(r.stateNode.containerInfo),Ot(r),null;case 10:return Uc(r.type._context),Ot(r),null;case 17:return Gt(r.type)&&Al(),Ot(r),null;case 19:if(We(Xe),p=r.memoizedState,p===null)return Ot(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)oa(p,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=Ll(n),_!==null){for(r.flags|=128,oa(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,n=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,n=_.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Xe,Xe.current&1|2),r.child}n=n.sibling}p.tail!==null&&$e()>Hs&&(r.flags|=128,c=!0,oa(p,!1),r.lanes=4194304)}else{if(!c)if(n=Ll(_),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),oa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Qe)return Ot(r),null}else 2*$e()-p.renderingStartTime>Hs&&a!==1073741824&&(r.flags|=128,c=!0,oa(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(a=p.last,a!==null?a.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,a=Xe.current,qe(Xe,c?a&1|2:a&1),r):(Ot(r),null);case 22:case 23:return Sh(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(ln&1073741824)!==0&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function qv(n,r){switch(Vc(r),r.tag){case 1:return Gt(r.type)&&Al(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return zs(),We(Kt),We(Dt),Wc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return qc(r),null;case 13:if(We(Xe),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));bs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return We(Xe),null;case 4:return zs(),null;case 10:return Uc(r.type._context),null;case 22:case 23:return Sh(),null;case 24:return null;default:return null}}var Hl=!1,Mt=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,ne=null;function $s(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){et(n,r,c)}else a.current=null}function dh(n,r,a){try{a()}catch(c){et(n,r,c)}}var Xp=!1;function Wv(n,r){if(Sc=Fr,n=Pf(),gc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,I=-1,k=-1,F=0,W=0,Q=n,H=null;t:for(;;){for(var ee;Q!==a||d!==0&&Q.nodeType!==3||(I=_+d),Q!==p||c!==0&&Q.nodeType!==3||(k=_+c),Q.nodeType===3&&(_+=Q.nodeValue.length),(ee=Q.firstChild)!==null;)H=Q,Q=ee;for(;;){if(Q===n)break t;if(H===a&&++F===d&&(I=_),H===p&&++W===c&&(k=_),(ee=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=ee}a=I===-1||k===-1?null:{start:I,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ac={focusedElem:n,selectionRange:a},Fr=!1,ne=r;ne!==null;)if(r=ne,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ne=n;else for(;ne!==null;){r=ne;try{var re=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,rt=re.memoizedState,L=r.stateNode,x=L.getSnapshotBeforeUpdate(r.elementType===r.type?se:Nn(r.type,se),rt);L.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){et(r,r.return,X)}if(n=r.sibling,n!==null){n.return=r.return,ne=n;break}ne=r.return}return re=Xp,Xp=!1,re}function aa(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&dh(r,a,p)}d=d.next}while(d!==c)}}function Wl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function fh(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function Jp(n){var r=n.alternate;r!==null&&(n.alternate=null,Jp(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[qn],delete r[Yo],delete r[Pc],delete r[Cv],delete r[Pv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Zp(n){return n.tag===5||n.tag===3||n.tag===4}function em(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ph(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Il));else if(c!==4&&(n=n.child,n!==null))for(ph(n,r,a),n=n.sibling;n!==null;)ph(n,r,a),n=n.sibling}function mh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(mh(n,r,a),n=n.sibling;n!==null;)mh(n,r,a),n=n.sibling}var It=null,Dn=!1;function Kr(n,r,a){for(a=a.child;a!==null;)tm(n,r,a),a=a.sibling}function tm(n,r,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:Mt||$s(a,r);case 6:var c=It,d=Dn;It=null,Kr(n,r,a),It=c,Dn=d,It!==null&&(Dn?(n=It,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):It.removeChild(a.stateNode));break;case 18:It!==null&&(Dn?(n=It,a=a.stateNode,n.nodeType===8?Cc(n.parentNode,a):n.nodeType===1&&Cc(n,a),Rn(n)):Cc(It,a.stateNode));break;case 4:c=It,d=Dn,It=a.stateNode.containerInfo,Dn=!0,Kr(n,r,a),It=c,Dn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&dh(a,r,_),d=d.next}while(d!==c)}Kr(n,r,a);break;case 1:if(!Mt&&($s(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){et(a,r,I)}Kr(n,r,a);break;case 21:Kr(n,r,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,Kr(n,r,a),Mt=c):Kr(n,r,a);break;default:Kr(n,r,a)}}function nm(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Hv),r.forEach(function(c){var d=t0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Vn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=n,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:It=I.stateNode,Dn=!1;break e;case 3:It=I.stateNode.containerInfo,Dn=!0;break e;case 4:It=I.stateNode.containerInfo,Dn=!0;break e}I=I.return}if(It===null)throw Error(t(160));tm(p,_,d),It=null,Dn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(F){et(d,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)rm(r,n),r=r.sibling}function rm(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vn(r,n),Kn(n),c&4){try{aa(3,n,n.return),Wl(3,n)}catch(se){et(n,n.return,se)}try{aa(5,n,n.return)}catch(se){et(n,n.return,se)}}break;case 1:Vn(r,n),Kn(n),c&512&&a!==null&&$s(a,a.return);break;case 5:if(Vn(r,n),Kn(n),c&512&&a!==null&&$s(a,a.return),n.flags&32){var d=n.stateNode;try{xr(d,"")}catch(se){et(n,n.return,se)}}if(c&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,_=a!==null?a.memoizedProps:p,I=n.type,k=n.updateQueue;if(n.updateQueue=null,k!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&_o(d,p),Ro(I,_);var F=Ro(I,p);for(_=0;_<k.length;_+=2){var W=k[_],Q=k[_+1];W==="style"?So(d,Q):W==="dangerouslySetInnerHTML"?To(d,Q):W==="children"?xr(d,Q):ye(d,W,Q,F)}switch(I){case"input":vo(d,p);break;case"textarea":ss(d,p);break;case"select":var H=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?nr(d,!!p.multiple,ee,!1):H!==!!p.multiple&&(p.defaultValue!=null?nr(d,!!p.multiple,p.defaultValue,!0):nr(d,!!p.multiple,p.multiple?[]:"",!1))}d[Yo]=p}catch(se){et(n,n.return,se)}}break;case 6:if(Vn(r,n),Kn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(se){et(n,n.return,se)}}break;case 3:if(Vn(r,n),Kn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Rn(r.containerInfo)}catch(se){et(n,n.return,se)}break;case 4:Vn(r,n),Kn(n);break;case 13:Vn(r,n),Kn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(_h=$e())),c&4&&nm(n);break;case 22:if(W=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(F=Mt)||W,Vn(r,n),Mt=F):Vn(r,n),Kn(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!W&&(n.mode&1)!==0)for(ne=n,W=n.child;W!==null;){for(Q=ne=W;ne!==null;){switch(H=ne,ee=H.child,H.tag){case 0:case 11:case 14:case 15:aa(4,H,H.return);break;case 1:$s(H,H.return);var re=H.stateNode;if(typeof re.componentWillUnmount=="function"){c=H,a=H.return;try{r=c,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(se){et(c,a,se)}}break;case 5:$s(H,H.return);break;case 22:if(H.memoizedState!==null){om(Q);continue}}ee!==null?(ee.return=H,ne=ee):om(Q)}W=W.sibling}e:for(W=null,Q=n;;){if(Q.tag===5){if(W===null){W=Q;try{d=Q.stateNode,F?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Q.stateNode,k=Q.memoizedProps.style,_=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=Io("display",_))}catch(se){et(n,n.return,se)}}}else if(Q.tag===6){if(W===null)try{Q.stateNode.nodeValue=F?"":Q.memoizedProps}catch(se){et(n,n.return,se)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===n)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===n)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===n)break e;W===Q&&(W=null),Q=Q.return}W===Q&&(W=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Vn(r,n),Kn(n),c&4&&nm(n);break;case 21:break;default:Vn(r,n),Kn(n)}}function Kn(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(Zp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(xr(d,""),c.flags&=-33);var p=em(n);mh(n,p,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=em(n);ph(n,I,_);break;default:throw Error(t(161))}}catch(k){et(n,n.return,k)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Kv(n,r,a){ne=n,im(n)}function im(n,r,a){for(var c=(n.mode&1)!==0;ne!==null;){var d=ne,p=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Hl;if(!_){var I=d.alternate,k=I!==null&&I.memoizedState!==null||Mt;I=Hl;var F=Mt;if(Hl=_,(Mt=k)&&!F)for(ne=d;ne!==null;)_=ne,k=_.child,_.tag===22&&_.memoizedState!==null?am(d):k!==null?(k.return=_,ne=k):am(d);for(;p!==null;)ne=p,im(p),p=p.sibling;ne=d,Hl=I,Mt=F}sm(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ne=p):sm(n)}}function sm(n){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Mt||Wl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Nn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&op(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}op(r,_,a)}break;case 5:var I=r.stateNode;if(a===null&&r.flags&4){a=I;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var W=F.memoizedState;if(W!==null){var Q=W.dehydrated;Q!==null&&Rn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||r.flags&512&&fh(r)}catch(H){et(r,r.return,H)}}if(r===n){ne=null;break}if(a=r.sibling,a!==null){a.return=r.return,ne=a;break}ne=r.return}}function om(n){for(;ne!==null;){var r=ne;if(r===n){ne=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ne=a;break}ne=r.return}}function am(n){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Wl(4,r)}catch(k){et(r,a,k)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(k){et(r,d,k)}}var p=r.return;try{fh(r)}catch(k){et(r,p,k)}break;case 5:var _=r.return;try{fh(r)}catch(k){et(r,_,k)}}}catch(k){et(r,r.return,k)}if(r===n){ne=null;break}var I=r.sibling;if(I!==null){I.return=r.return,ne=I;break}ne=r.return}}var Gv=Math.ceil,Kl=Ee.ReactCurrentDispatcher,gh=Ee.ReactCurrentOwner,_n=Ee.ReactCurrentBatchConfig,De=0,_t=null,ot=null,St=0,ln=0,qs=Br(0),ft=0,la=null,Ui=0,Gl=0,yh=0,ua=null,Yt=null,_h=0,Hs=1/0,yr=null,Ql=!1,vh=null,Gr=null,Yl=!1,Qr=null,Xl=0,ca=0,wh=null,Jl=-1,Zl=0;function qt(){return(De&6)!==0?$e():Jl!==-1?Jl:Jl=$e()}function Yr(n){return(n.mode&1)===0?1:(De&2)!==0&&St!==0?St&-St:Nv.transition!==null?(Zl===0&&(Zl=Ri()),Zl):(n=Re,n!==0||(n=window.event,n=n===void 0?16:Fo(n.type)),n)}function On(n,r,a,c){if(50<ca)throw ca=0,wh=null,Error(t(185));Or(n,a,c),((De&2)===0||n!==_t)&&(n===_t&&((De&2)===0&&(Gl|=a),ft===4&&Xr(n,St)),Xt(n,c),a===1&&De===0&&(r.mode&1)===0&&(Hs=$e()+500,Rl&&qr()))}function Xt(n,r){var a=n.callbackNode;sr(n,r);var c=ki(n,n===_t?St:0);if(c===0)a!==null&&Vo(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&Vo(a),r===1)n.tag===0?xv(um.bind(null,n)):Gf(um.bind(null,n)),kv(function(){(De&6)===0&&qr()}),a=null;else{switch(Lr(c)){case 1:a=Si;break;case 4:a=Nr;break;case 16:a=hn;break;case 536870912:a=Za;break;default:a=hn}a=ym(a,lm.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function lm(n,r){if(Jl=-1,Zl=0,(De&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Ws()&&n.callbackNode!==a)return null;var c=ki(n,n===_t?St:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=eu(n,c);else{r=c;var d=De;De|=2;var p=hm();(_t!==n||St!==r)&&(yr=null,Hs=$e()+500,zi(n,r));do try{Xv();break}catch(I){cm(n,I)}while(!0);Fc(),Kl.current=p,De=d,ot!==null?r=0:(_t=null,St=0,r=ft)}if(r!==0){if(r===2&&(d=nn(n),d!==0&&(c=d,r=Eh(n,d))),r===1)throw a=la,zi(n,0),Xr(n,c),Xt(n,$e()),a;if(r===6)Xr(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Qv(d)&&(r=eu(n,c),r===2&&(p=nn(n),p!==0&&(c=p,r=Eh(n,p))),r===1))throw a=la,zi(n,0),Xr(n,c),Xt(n,$e()),a;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:Bi(n,Yt,yr);break;case 3:if(Xr(n,c),(c&130023424)===c&&(r=_h+500-$e(),10<r)){if(ki(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){qt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Rc(Bi.bind(null,n,Yt,yr),r);break}Bi(n,Yt,yr);break;case 4:if(Xr(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var _=31-zt(c);p=1<<_,_=r[_],_>d&&(d=_),c&=~p}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Gv(c/1960))-c,10<c){n.timeoutHandle=Rc(Bi.bind(null,n,Yt,yr),c);break}Bi(n,Yt,yr);break;case 5:Bi(n,Yt,yr);break;default:throw Error(t(329))}}}return Xt(n,$e()),n.callbackNode===a?lm.bind(null,n):null}function Eh(n,r){var a=ua;return n.current.memoizedState.isDehydrated&&(zi(n,r).flags|=256),n=eu(n,r),n!==2&&(r=Yt,Yt=a,r!==null&&Th(r)),n}function Th(n){Yt===null?Yt=n:Yt.push.apply(Yt,n)}function Qv(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Pn(p(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xr(n,r){for(r&=~yh,r&=~Gl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-zt(r),c=1<<a;n[a]=-1,r&=~c}}function um(n){if((De&6)!==0)throw Error(t(327));Ws();var r=ki(n,0);if((r&1)===0)return Xt(n,$e()),null;var a=eu(n,r);if(n.tag!==0&&a===2){var c=nn(n);c!==0&&(r=c,a=Eh(n,c))}if(a===1)throw a=la,zi(n,0),Xr(n,r),Xt(n,$e()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Bi(n,Yt,yr),Xt(n,$e()),null}function Ih(n,r){var a=De;De|=1;try{return n(r)}finally{De=a,De===0&&(Hs=$e()+500,Rl&&qr())}}function ji(n){Qr!==null&&Qr.tag===0&&(De&6)===0&&Ws();var r=De;De|=1;var a=_n.transition,c=Re;try{if(_n.transition=null,Re=1,n)return n()}finally{Re=c,_n.transition=a,De=r,(De&6)===0&&qr()}}function Sh(){ln=qs.current,We(qs)}function zi(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Av(a)),ot!==null)for(a=ot.return;a!==null;){var c=a;switch(Vc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Al();break;case 3:zs(),We(Kt),We(Dt),Wc();break;case 5:qc(c);break;case 4:zs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Uc(c.type._context);break;case 22:case 23:Sh()}a=a.return}if(_t=n,ot=n=Jr(n.current,null),St=ln=r,ft=0,la=null,yh=Gl=Ui=0,Yt=ua=null,Li!==null){for(r=0;r<Li.length;r++)if(a=Li[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var _=p.next;p.next=d,c.next=_}a.pending=c}Li=null}return n}function cm(n,r){do{var a=ot;try{if(Fc(),bl.current=zl,Fl){for(var c=Je.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Fl=!1}if(Fi=0,yt=dt=Je=null,na=!1,ra=0,gh.current=null,a===null||a.return===null){ft=1,la=r,ot=null;break}e:{var p=n,_=a.return,I=a,k=r;if(r=St,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var F=k,W=I,Q=W.tag;if((W.mode&1)===0&&(Q===0||Q===11||Q===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var ee=Mp(_);if(ee!==null){ee.flags&=-257,Lp(ee,_,I,p,r),ee.mode&1&&Op(p,F,r),r=ee,k=F;var re=r.updateQueue;if(re===null){var se=new Set;se.add(k),r.updateQueue=se}else re.add(k);break e}else{if((r&1)===0){Op(p,F,r),Ah();break e}k=Error(t(426))}}else if(Qe&&I.mode&1){var rt=Mp(_);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Lp(rt,_,I,p,r),Lc(Bs(k,I));break e}}p=k=Bs(k,I),ft!==4&&(ft=2),ua===null?ua=[p]:ua.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=Dp(p,k,r);sp(p,L);break e;case 1:I=k;var x=p.type,b=p.stateNode;if((p.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gr===null||!Gr.has(b)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=Vp(p,I,r);sp(p,X);break e}}p=p.return}while(p!==null)}fm(a)}catch(ae){r=ae,ot===a&&a!==null&&(ot=a=a.return);continue}break}while(!0)}function hm(){var n=Kl.current;return Kl.current=zl,n===null?zl:n}function Ah(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||(Ui&268435455)===0&&(Gl&268435455)===0||Xr(_t,St)}function eu(n,r){var a=De;De|=2;var c=hm();(_t!==n||St!==r)&&(yr=null,zi(n,r));do try{Yv();break}catch(d){cm(n,d)}while(!0);if(Fc(),De=a,Kl.current=c,ot!==null)throw Error(t(261));return _t=null,St=0,ft}function Yv(){for(;ot!==null;)dm(ot)}function Xv(){for(;ot!==null&&!Xa();)dm(ot)}function dm(n){var r=gm(n.alternate,n,ln);n.memoizedProps=n.pendingProps,r===null?fm(n):ot=r,gh.current=null}function fm(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=$v(a,r,ln),a!==null){ot=a;return}}else{if(a=qv(a,r),a!==null){a.flags&=32767,ot=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ft=6,ot=null;return}}if(r=r.sibling,r!==null){ot=r;return}ot=r=n}while(r!==null);ft===0&&(ft=5)}function Bi(n,r,a){var c=Re,d=_n.transition;try{_n.transition=null,Re=1,Jv(n,r,a,c)}finally{_n.transition=d,Re=c}return null}function Jv(n,r,a,c){do Ws();while(Qr!==null);if((De&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(je(n,p),n===_t&&(ot=_t=null,St=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Yl||(Yl=!0,ym(hn,function(){return Ws(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=_n.transition,_n.transition=null;var _=Re;Re=1;var I=De;De|=4,gh.current=null,Wv(n,a),rm(a,n),_v(Ac),Fr=!!Sc,Ac=Sc=null,n.current=a,Kv(a),lc(),De=I,Re=_,_n.transition=p}else n.current=a;if(Yl&&(Yl=!1,Qr=n,Xl=d),p=n.pendingLanes,p===0&&(Gr=null),el(a.stateNode),Xt(n,$e()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Ql)throw Ql=!1,n=vh,vh=null,n;return(Xl&1)!==0&&n.tag!==0&&Ws(),p=n.pendingLanes,(p&1)!==0?n===wh?ca++:(ca=0,wh=n):ca=0,qr(),null}function Ws(){if(Qr!==null){var n=Lr(Xl),r=_n.transition,a=Re;try{if(_n.transition=null,Re=16>n?16:n,Qr===null)var c=!1;else{if(n=Qr,Qr=null,Xl=0,(De&6)!==0)throw Error(t(331));var d=De;for(De|=4,ne=n.current;ne!==null;){var p=ne,_=p.child;if((ne.flags&16)!==0){var I=p.deletions;if(I!==null){for(var k=0;k<I.length;k++){var F=I[k];for(ne=F;ne!==null;){var W=ne;switch(W.tag){case 0:case 11:case 15:aa(8,W,p)}var Q=W.child;if(Q!==null)Q.return=W,ne=Q;else for(;ne!==null;){W=ne;var H=W.sibling,ee=W.return;if(Jp(W),W===F){ne=null;break}if(H!==null){H.return=ee,ne=H;break}ne=ee}}}var re=p.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var rt=se.sibling;se.sibling=null,se=rt}while(se!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,ne=_;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:aa(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,ne=L;break e}ne=p.return}}var x=n.current;for(ne=x;ne!==null;){_=ne;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,ne=b;else e:for(_=x;ne!==null;){if(I=ne,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Wl(9,I)}}catch(ae){et(I,I.return,ae)}if(I===_){ne=null;break e}var X=I.sibling;if(X!==null){X.return=I.return,ne=X;break e}ne=I.return}}if(De=d,qr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ai,n)}catch{}c=!0}return c}finally{Re=a,_n.transition=r}}return!1}function pm(n,r,a){r=Bs(a,r),r=Dp(n,r,1),n=Wr(n,r,1),r=qt(),n!==null&&(Or(n,1,r),Xt(n,r))}function et(n,r,a){if(n.tag===3)pm(n,n,a);else for(;r!==null;){if(r.tag===3){pm(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gr===null||!Gr.has(c))){n=Bs(a,n),n=Vp(r,n,1),r=Wr(r,n,1),n=qt(),r!==null&&(Or(r,1,n),Xt(r,n));break}}r=r.return}}function Zv(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=qt(),n.pingedLanes|=n.suspendedLanes&a,_t===n&&(St&a)===a&&(ft===4||ft===3&&(St&130023424)===St&&500>$e()-_h?zi(n,0):yh|=a),Xt(n,r)}function mm(n,r){r===0&&((n.mode&1)===0?r=1:(r=ms,ms<<=1,(ms&130023424)===0&&(ms=4194304)));var a=qt();n=pr(n,r),n!==null&&(Or(n,r,a),Xt(n,a))}function e0(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),mm(n,a)}function t0(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),mm(n,a)}var gm;gm=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||Kt.current)Qt=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return Qt=!1,Bv(n,r,a);Qt=(n.flags&131072)!==0}else Qt=!1,Qe&&(r.flags&1048576)!==0&&Qf(r,Pl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;ql(n,r),n=r.pendingProps;var d=Os(r,Dt.current);js(r,a),d=Qc(null,r,c,n,d,a);var p=Yc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Gt(c)?(p=!0,kl(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Bc(r),d.updater=Bl,r.stateNode=d,d._reactInternals=r,nh(r,c,n,a),r=oh(null,r,c,!0,p,a)):(r.tag=0,Qe&&p&&Dc(r),$t(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(ql(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=r0(c),n=Nn(c,n),d){case 0:r=sh(null,r,c,n,a);break e;case 1:r=Bp(null,r,c,n,a);break e;case 11:r=bp(null,r,c,n,a);break e;case 14:r=Fp(null,r,c,Nn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),sh(n,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),Bp(n,r,c,d,a);case 3:e:{if($p(r),n===null)throw Error(t(387));c=r.pendingProps,p=r.memoizedState,d=p.element,ip(n,r),Ml(r,c,null,a);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=Bs(Error(t(423)),r),r=qp(n,r,c,a,d);break e}else if(c!==d){d=Bs(Error(t(424)),r),r=qp(n,r,c,a,d);break e}else for(an=zr(r.stateNode.containerInfo.firstChild),on=r,Qe=!0,xn=null,a=np(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bs(),c===d){r=gr(n,r,a);break e}$t(n,r,c,a)}r=r.child}return r;case 5:return ap(r),n===null&&Mc(r),c=r.type,d=r.pendingProps,p=n!==null?n.memoizedProps:null,_=d.children,kc(c,d)?_=null:p!==null&&kc(c,p)&&(r.flags|=32),zp(n,r),$t(n,r,_,a),r.child;case 6:return n===null&&Mc(r),null;case 13:return Hp(n,r,a);case 4:return $c(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Fs(r,null,c,a):$t(n,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),bp(n,r,c,d,a);case 7:return $t(n,r,r.pendingProps,a),r.child;case 8:return $t(n,r,r.pendingProps.children,a),r.child;case 12:return $t(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,qe(Dl,c._currentValue),c._currentValue=_,p!==null)if(Pn(p.value,_)){if(p.children===d.children&&!Kt.current){r=gr(n,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){_=p.child;for(var k=I.firstContext;k!==null;){if(k.context===c){if(p.tag===1){k=mr(-1,a&-a),k.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var W=F.pending;W===null?k.next=k:(k.next=W.next,W.next=k),F.pending=k}}p.lanes|=a,k=p.alternate,k!==null&&(k.lanes|=a),jc(p.return,a,r),I.lanes|=a;break}k=k.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(t(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),jc(_,a,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}$t(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,js(r,a),d=gn(d),c=c(d),r.flags|=1,$t(n,r,c,a),r.child;case 14:return c=r.type,d=Nn(c,r.pendingProps),d=Nn(c.type,d),Fp(n,r,c,d,a);case 15:return Up(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),ql(n,r),r.tag=1,Gt(c)?(n=!0,kl(r)):n=!1,js(r,a),xp(r,c,d),nh(r,c,d,a),oh(null,r,c,!0,n,a);case 19:return Kp(n,r,a);case 22:return jp(n,r,a)}throw Error(t(156,r.tag))};function ym(n,r){return fs(n,r)}function n0(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,r,a,c){return new n0(n,r,a,c)}function kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function r0(n){if(typeof n=="function")return kh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===xt)return 14}return 2}function Jr(n,r){var a=n.alternate;return a===null?(a=vn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function tu(n,r,a,c,d,p){var _=2;if(c=n,typeof n=="function")kh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case N:return $i(a.children,d,p,r);case S:_=8,d|=8;break;case T:return n=vn(12,a,r,d|2),n.elementType=T,n.lanes=p,n;case A:return n=vn(13,a,r,d),n.elementType=A,n.lanes=p,n;case Ye:return n=vn(19,a,r,d),n.elementType=Ye,n.lanes=p,n;case Ue:return nu(a,d,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:_=10;break e;case P:_=9;break e;case V:_=11;break e;case xt:_=14;break e;case Nt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=vn(_,a,r,d),r.elementType=n,r.type=c,r.lanes=p,r}function $i(n,r,a,c){return n=vn(7,n,c,r),n.lanes=a,n}function nu(n,r,a,c){return n=vn(22,n,c,r),n.elementType=Ue,n.lanes=a,n.stateNode={isHidden:!1},n}function Rh(n,r,a){return n=vn(6,n,null,r),n.lanes=a,n}function Ch(n,r,a){return r=vn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function i0(n,r,a,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ph(n,r,a,c,d,p,_,I,k){return n=new i0(n,r,a,I,k),r===1?(r=1,p===!0&&(r|=8)):r=0,p=vn(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(p),n}function s0(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function _m(n){if(!n)return $r;n=n._reactInternals;e:{if(Tn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Gt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Gt(a))return Wf(n,a,r)}return r}function vm(n,r,a,c,d,p,_,I,k){return n=Ph(a,c,!0,n,d,p,_,I,k),n.context=_m(null),a=n.current,c=qt(),d=Yr(a),p=mr(c,d),p.callback=r??null,Wr(a,p,d),n.current.lanes=d,Or(n,d,c),Xt(n,c),n}function ru(n,r,a,c){var d=r.current,p=qt(),_=Yr(d);return a=_m(a),r.context===null?r.context=a:r.pendingContext=a,r=mr(p,_),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Wr(d,r,_),n!==null&&(On(n,d,_,p),Ol(n,d,_)),_}function iu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function xh(n,r){wm(n,r),(n=n.alternate)&&wm(n,r)}function o0(){return null}var Em=typeof reportError=="function"?reportError:function(n){console.error(n)};function Nh(n){this._internalRoot=n}su.prototype.render=Nh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));ru(n,r,null,null)},su.prototype.unmount=Nh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ji(function(){ru(null,n,null,null)}),r[cr]=null}};function su(n){this._internalRoot=n}su.prototype.unstable_scheduleHydration=function(n){if(n){var r=sl();n={blockedOn:null,target:n,priority:r};for(var a=0;a<jn.length&&r!==0&&r<jn[a].priority;a++);jn.splice(a,0,n),a===0&&ll(n)}};function Dh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Tm(){}function a0(n,r,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var F=iu(_);p.call(F)}}var _=vm(r,c,n,0,null,!1,!1,"",Tm);return n._reactRootContainer=_,n[cr]=_.current,Go(n.nodeType===8?n.parentNode:n),ji(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var F=iu(k);I.call(F)}}var k=Ph(n,0,!1,null,null,!1,!1,"",Tm);return n._reactRootContainer=k,n[cr]=k.current,Go(n.nodeType===8?n.parentNode:n),ji(function(){ru(r,k,a,c)}),k}function au(n,r,a,c,d){var p=a._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var I=d;d=function(){var k=iu(_);I.call(k)}}ru(r,_,n,d)}else _=a0(a,r,n,d,c);return iu(_)}rl=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Dr(r.pendingLanes);a!==0&&(Mr(r,a|1),Xt(r,$e()),(De&6)===0&&(Hs=$e()+500,qr()))}break;case 13:ji(function(){var c=pr(n,1);if(c!==null){var d=qt();On(c,n,1,d)}}),xh(n,1)}},gs=function(n){if(n.tag===13){var r=pr(n,134217728);if(r!==null){var a=qt();On(r,n,134217728,a)}xh(n,134217728)}},il=function(n){if(n.tag===13){var r=Yr(n),a=pr(n,r);if(a!==null){var c=qt();On(a,n,r,c)}xh(n,r)}},sl=function(){return Re},ol=function(n,r){var a=Re;try{return Re=n,r()}finally{Re=a}},as=function(n,r,a){switch(r){case"input":if(vo(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var d=Sl(c);if(!d)throw Error(t(90));ts(c),vo(c,d)}}}break;case"textarea":ss(n,a);break;case"select":r=a.value,r!=null&&nr(n,!!a.multiple,r,!1)}},wi=Ih,Po=ji;var l0={usingClientEntryPoint:!1,Events:[Xo,Ds,Sl,Fn,Co,Ih]},ha={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u0={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Do(n),n===null?null:n.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Ai=lu.inject(u0),tn=lu}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0,Jt.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(r))throw Error(t(200));return s0(n,r,null,a)},Jt.createRoot=function(n,r){if(!Dh(n))throw Error(t(299));var a=!1,c="",d=Em;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Ph(n,1,!1,null,null,a,!1,c,d),n[cr]=r.current,Go(n.nodeType===8?n.parentNode:n),new Nh(r)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Do(r),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return ji(n)},Jt.hydrate=function(n,r,a){if(!ou(r))throw Error(t(200));return au(null,n,r,!0,a)},Jt.hydrateRoot=function(n,r,a){if(!Dh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",_=Em;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=vm(r,null,n,1,a??null,d,!1,p,_),n[cr]=r.current,Go(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new su(r)},Jt.render=function(n,r,a){if(!ou(r))throw Error(t(200));return au(null,n,r,!1,a)},Jt.unmountComponentAtNode=function(n){if(!ou(n))throw Error(t(40));return n._reactRootContainer?(ji(function(){au(null,null,n,!1,function(){n._reactRootContainer=null,n[cr]=null})}),!0):!1},Jt.unstable_batchedUpdates=Ih,Jt.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!ou(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return au(n,r,a,!1,c)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var xm;function _0(){if(xm)return Mh.exports;xm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mh.exports=y0(),Mh.exports}var Nm;function v0(){if(Nm)return uu;Nm=1;var i=_0();return uu.createRoot=i.createRoot,uu.hydrateRoot=i.hydrateRoot,uu}var w0=v0();const E0=Yg(w0);var Dm={};const Xg=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},T0=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,v=g?i[o+2]:0,E=u>>2,R=(u&3)<<4|m>>4;let D=(m&15)<<2|v>>6,j=v&63;g||(j=64,h||(D=64)),s.push(t[E],t[R],t[D],t[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Xg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):T0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const v=o<i.length?t[i.charAt(o)]:64;++o;const R=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||v==null||R==null)throw new I0;const D=u<<2|m>>4;if(s.push(D),v!==64){const j=m<<4&240|v>>2;if(s.push(j),R!==64){const G=v<<6&192|R;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class I0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S0=function(i){const e=Xg(i);return Jg.encodeByteArray(e,!0)},ku=function(i){return S0(i).replace(/\./g,"")},Zg=function(i){try{return Jg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k0=()=>A0().__FIREBASE_DEFAULTS__,R0=()=>{if(typeof process>"u"||typeof Dm>"u")return;const i=Dm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},C0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Zg(i[1]);return e&&JSON.parse(e)},qu=()=>{try{return k0()||R0()||C0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ey=i=>{var e,t;return(t=(e=qu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},P0=i=>{const e=ey(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},ty=()=>{var i;return(i=qu())===null||i===void 0?void 0:i.config},ny=i=>{var e;return(e=qu())===null||e===void 0?void 0:e[`_${i}`]};class x0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function N0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ku(JSON.stringify(t)),ku(JSON.stringify(h)),""].join(".")}function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function V0(){var i;const e=(i=qu())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function L0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b0(){const i=Ut();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function F0(){return!V0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U0(){try{return typeof indexedDB=="object"}catch{return!1}}function j0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}const z0="FirebaseError";class Cr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=z0,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?B0(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Cr(o,m,s)}}function B0(i,e){return i.replace($0,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $0=/\{\$([^}]+)}/g;function q0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ru(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Vm(u)&&Vm(h)){if(!Ru(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Vm(i){return i!==null&&typeof i=="object"}function Oa(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function H0(i,e){const t=new W0(i,e);return t.subscribe.bind(t)}class W0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");K0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Fh),o.error===void 0&&(o.error=Fh),o.complete===void 0&&(o.complete=Fh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K0(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Fh(){}function Ct(i){return i&&i._delegate?i._delegate:i}class Gi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qi="[DEFAULT]";class G0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new x0;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y0(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Q0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q0(i){return i===qi?void 0:i}function Y0(i){return i.instantiationMode==="EAGER"}class X0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new G0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ce;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ce||(Ce={}));const J0={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Z0=Ce.INFO,ew={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},tw=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=ew[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Id{constructor(e){this.name=e,this._logLevel=Z0,this._logHandler=tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const nw=(i,e)=>e.some(t=>i instanceof t);let Om,Mm;function rw(){return Om||(Om=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iw(){return Mm||(Mm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ry=new WeakMap,Yh=new WeakMap,iy=new WeakMap,Uh=new WeakMap,Sd=new WeakMap;function sw(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ai(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ry.set(t,i)}).catch(()=>{}),Sd.set(e,i),e}function ow(i){if(Yh.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Yh.set(i,e)}let Xh={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Yh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iy.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ai(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aw(i){Xh=i(Xh)}function lw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(jh(this),e,...t);return iy.set(s,e.sort?e.sort():[e]),ai(s)}:iw().includes(i)?function(...e){return i.apply(jh(this),e),ai(ry.get(this))}:function(...e){return ai(i.apply(jh(this),e))}}function uw(i){return typeof i=="function"?lw(i):(i instanceof IDBTransaction&&ow(i),nw(i,rw())?new Proxy(i,Xh):i)}function ai(i){if(i instanceof IDBRequest)return sw(i);if(Uh.has(i))return Uh.get(i);const e=uw(i);return e!==i&&(Uh.set(i,e),Sd.set(e,i)),e}const jh=i=>Sd.get(i);function cw(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ai(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ai(h.result),g.oldVersion,g.newVersion,ai(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const hw=["get","getKey","getAll","getAllKeys","count"],dw=["put","add","delete","clear"],zh=new Map;function Lm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=dw.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hw.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),o&&g.done]))[0]};return zh.set(e,u),u}aw(i=>({...i,get:(e,t,s)=>Lm(e,t)||i.get(e,t,s),has:(e,t)=>!!Lm(e,t)||i.has(e,t)}));class fw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function pw(i){const e=i.getComponent();return e?.type==="VERSION"}const Jh="@firebase/app",bm="0.10.13";const Tr=new Id("@firebase/app"),mw="@firebase/app-compat",gw="@firebase/analytics-compat",yw="@firebase/analytics",_w="@firebase/app-check-compat",vw="@firebase/app-check",ww="@firebase/auth",Ew="@firebase/auth-compat",Tw="@firebase/database",Iw="@firebase/data-connect",Sw="@firebase/database-compat",Aw="@firebase/functions",kw="@firebase/functions-compat",Rw="@firebase/installations",Cw="@firebase/installations-compat",Pw="@firebase/messaging",xw="@firebase/messaging-compat",Nw="@firebase/performance",Dw="@firebase/performance-compat",Vw="@firebase/remote-config",Ow="@firebase/remote-config-compat",Mw="@firebase/storage",Lw="@firebase/storage-compat",bw="@firebase/firestore",Fw="@firebase/vertexai-preview",Uw="@firebase/firestore-compat",jw="firebase",zw="10.14.1";const Zh="[DEFAULT]",Bw={[Jh]:"fire-core",[mw]:"fire-core-compat",[yw]:"fire-analytics",[gw]:"fire-analytics-compat",[vw]:"fire-app-check",[_w]:"fire-app-check-compat",[ww]:"fire-auth",[Ew]:"fire-auth-compat",[Tw]:"fire-rtdb",[Iw]:"fire-data-connect",[Sw]:"fire-rtdb-compat",[Aw]:"fire-fn",[kw]:"fire-fn-compat",[Rw]:"fire-iid",[Cw]:"fire-iid-compat",[Pw]:"fire-fcm",[xw]:"fire-fcm-compat",[Nw]:"fire-perf",[Dw]:"fire-perf-compat",[Vw]:"fire-rc",[Ow]:"fire-rc-compat",[Mw]:"fire-gcs",[Lw]:"fire-gcs-compat",[bw]:"fire-fst",[Uw]:"fire-fst-compat",[Fw]:"fire-vertex","fire-js":"fire-js",[jw]:"fire-js-all"};const Cu=new Map,$w=new Map,ed=new Map;function Fm(i,e){try{i.container.addComponent(e)}catch(t){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function no(i){const e=i.name;if(ed.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,i);for(const t of Cu.values())Fm(t,i);for(const t of $w.values())Fm(t,i);return!0}function Ad(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i.settings!==void 0}const qw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Va("app","Firebase",qw);class Hw{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}const ho=zw;function sy(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw li.create("bad-app-name",{appName:String(o)});if(t||(t=ty()),!t)throw li.create("no-options");const u=Cu.get(o);if(u){if(Ru(t,u.options)&&Ru(s,u.config))return u;throw li.create("duplicate-app",{appName:o})}const h=new X0(o);for(const g of ed.values())h.addComponent(g);const m=new Hw(t,s,h);return Cu.set(o,m),m}function oy(i=Zh){const e=Cu.get(i);if(!e&&i===Zh&&ty())return sy();if(!e)throw li.create("no-app",{appName:i});return e}function ui(i,e,t){var s;let o=(s=Bw[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(m.join(" "));return}no(new Gi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const Ww="firebase-heartbeat-database",Kw=1,Sa="firebase-heartbeat-store";let Bh=null;function ay(){return Bh||(Bh=cw(Ww,Kw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Sa)}catch(t){console.warn(t)}}}}).catch(i=>{throw li.create("idb-open",{originalErrorMessage:i.message})})),Bh}async function Gw(i){try{const t=(await ay()).transaction(Sa),s=await t.objectStore(Sa).get(ly(i));return await t.done,s}catch(e){if(e instanceof Cr)Tr.warn(e.message);else{const t=li.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(t.message)}}}async function Um(i,e){try{const s=(await ay()).transaction(Sa,"readwrite");await s.objectStore(Sa).put(e,ly(i)),await s.done}catch(t){if(t instanceof Cr)Tr.warn(t.message);else{const s=li.create("idb-set",{originalErrorMessage:t?.message});Tr.warn(s.message)}}}function ly(i){return`${i.name}!${i.options.appId}`}const Qw=1024,Yw=720*60*60*1e3;class Xw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zw(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=jm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=Yw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jm(),{heartbeatsToSend:s,unsentEntries:o}=Jw(this._heartbeatsCache.heartbeats),u=ku(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Tr.warn(t),""}}}function jm(){return new Date().toISOString().substring(0,10)}function Jw(i,e=Qw){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),zm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),zm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Zw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U0()?j0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Gw(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Um(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Um(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function zm(i){return ku(JSON.stringify({version:2,heartbeats:i})).length}function eE(i){no(new Gi("platform-logger",e=>new fw(e),"PRIVATE")),no(new Gi("heartbeat",e=>new Xw(e),"PRIVATE")),ui(Jh,bm,i),ui(Jh,bm,"esm2017"),ui("fire-js","")}eE("");var tE="firebase",nE="10.14.1";ui(tE,nE,"app");function kd(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function uy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rE=uy,cy=new Va("auth","Firebase",uy());const Pu=new Id("@firebase/auth");function iE(i,...e){Pu.logLevel<=Ce.WARN&&Pu.warn(`Auth (${ho}): ${i}`,...e)}function gu(i,...e){Pu.logLevel<=Ce.ERROR&&Pu.error(`Auth (${ho}): ${i}`,...e)}function Ir(i,...e){throw Rd(i,...e)}function Qn(i,...e){return Rd(i,...e)}function hy(i,e,t){const s=Object.assign(Object.assign({},rE()),{[e]:t});return new Va("auth","Firebase",s).create(e,{appName:i.name})}function Er(i){return hy(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rd(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return cy.create(i,...e)}function me(i,e,...t){if(!i)throw Rd(e,...t)}function _r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw gu(e),new Error(e)}function Sr(i,e){i||_r(e)}function td(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function sE(){return Bm()==="http:"||Bm()==="https:"}function Bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function oE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sE()||M0()||"connection"in navigator)?navigator.onLine:!0}function aE(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ma{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sr(t>e,"Short delay should be less than long delay!"),this.isMobile=D0()||L0()}get(){return oE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cd(i,e){Sr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dy{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uE=new Ma(3e4,6e4);function La(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function fo(i,e,t,s,o={}){return fy(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Oa(Object.assign({key:i.config.apiKey},h)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const v=Object.assign({method:e,headers:g},u);return O0()||(v.referrerPolicy="no-referrer"),dy.fetch()(py(i,i.config.apiHost,t,m),v)})}async function fy(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},lE),e);try{const o=new cE(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw cu(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw cu(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw cu(i,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw hy(i,E,v);Ir(i,E)}}catch(o){if(o instanceof Cr)throw o;Ir(i,"network-request-failed",{message:String(o)})}}async function Pd(i,e,t,s,o={}){const u=await fo(i,e,t,s,o);return"mfaPendingCredential"in u&&Ir(i,"multi-factor-auth-required",{_serverResponse:u}),u}function py(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Cd(i.config,o):`${i.config.apiScheme}://${o}`}class cE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),uE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qn(i,e,s);return o.customData._tokenResponse=t,o}async function hE(i,e){return fo(i,"POST","/v1/accounts:delete",e)}async function my(i,e){return fo(i,"POST","/v1/accounts:lookup",e)}function va(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dE(i,e=!1){const t=Ct(i),s=await t.getIdToken(e),o=xd(s);me(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:va($h(o.auth_time)),issuedAtTime:va($h(o.iat)),expirationTime:va($h(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $h(i){return Number(i)*1e3}function xd(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Zg(t);return o?JSON.parse(o):(gu("Failed to decode base64 JWT payload"),null)}catch(o){return gu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $m(i){const e=xd(i);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Aa(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Cr&&fE(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function fE({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class pE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xu(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Aa(i,my(t,{idToken:s}));me(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?gy(u.providerUserInfo):[],m=gE(i.providerData,h),g=i.isAnonymous,v=!(i.email&&u.passwordHash)&&!m?.length,E=g?v:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new nd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,R)}async function mE(i){const e=Ct(i);await xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gE(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function gy(i){return i.map(e=>{var{providerId:t}=e,s=kd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function yE(i,e){const t=await fy(i,{},async()=>{const s=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=py(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",dy.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _E(i,e){return fo(i,"POST","/v2/accounts:revokeToken",La(i,e))}class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$m(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=$m(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await yE(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Js;return s&&(me(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(me(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(me(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return _r("not implemented")}}function ei(i,e){me(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class vr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=kd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new nd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Aa(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dE(this,e)}reload(){return mE(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await xu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Er(this.auth));const e=await this.getIdToken();return await Aa(this,hE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,g,v,E;const R=(s=t.displayName)!==null&&s!==void 0?s:void 0,D=(o=t.email)!==null&&o!==void 0?o:void 0,j=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,G=(h=t.photoURL)!==null&&h!==void 0?h:void 0,Y=(m=t.tenantId)!==null&&m!==void 0?m:void 0,B=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,fe=(v=t.createdAt)!==null&&v!==void 0?v:void 0,_e=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ye,emailVerified:Ee,isAnonymous:ze,providerData:Te,stsTokenManager:N}=t;me(ye&&N,e,"internal-error");const S=Js.fromJSON(this.name,N);me(typeof ye=="string",e,"internal-error"),ei(R,e.name),ei(D,e.name),me(typeof Ee=="boolean",e,"internal-error"),me(typeof ze=="boolean",e,"internal-error"),ei(j,e.name),ei(G,e.name),ei(Y,e.name),ei(B,e.name),ei(fe,e.name),ei(_e,e.name);const T=new vr({uid:ye,auth:e,email:D,emailVerified:Ee,displayName:R,isAnonymous:ze,photoURL:G,phoneNumber:j,tenantId:Y,stsTokenManager:S,createdAt:fe,lastLoginAt:_e});return Te&&Array.isArray(Te)&&(T.providerData=Te.map(C=>Object.assign({},C))),B&&(T._redirectEventId=B),T}static async _fromIdTokenResponse(e,t,s=!1){const o=new Js;o.updateFromServerResponse(t);const u=new vr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?gy(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Js;m.updateFromIdToken(s);const g=new vr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new nd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,v),g}}const qm=new Map;function wr(i){Sr(i instanceof Function,"Expected a class definition");let e=qm.get(i);return e?(Sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,qm.set(i,e),e)}class yy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yy.type="NONE";const Hm=yy;function yu(i,e,t){return`firebase:${i}:${e}:${t}`}class Zs{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yu(this.userKey,o.apiKey,u),this.fullPersistenceKey=yu("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zs(wr(Hm),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||wr(Hm);const h=yu(s,e.config.apiKey,e.name);let m=null;for(const v of t)try{const E=await v._get(h);if(E){const R=vr._fromJSON(e,E);v!==u&&(m=R),u=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Zs(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new Zs(u,e,s))}}function Wm(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ey(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_y(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iy(e))return"Blackberry";if(Sy(e))return"Webos";if(vy(e))return"Safari";if((e.includes("chrome/")||wy(e))&&!e.includes("edge/"))return"Chrome";if(Ty(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function _y(i=Ut()){return/firefox\//i.test(i)}function vy(i=Ut()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wy(i=Ut()){return/crios\//i.test(i)}function Ey(i=Ut()){return/iemobile/i.test(i)}function Ty(i=Ut()){return/android/i.test(i)}function Iy(i=Ut()){return/blackberry/i.test(i)}function Sy(i=Ut()){return/webos/i.test(i)}function Nd(i=Ut()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function vE(i=Ut()){var e;return Nd(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wE(){return b0()&&document.documentMode===10}function Ay(i=Ut()){return Nd(i)||Ty(i)||Sy(i)||Iy(i)||/windows phone/i.test(i)||Ey(i)}function ky(i,e=[]){let t;switch(i){case"Browser":t=Wm(Ut());break;case"Worker":t=`${Wm(Ut())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ho}/${s}`}class EE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function TE(i,e={}){return fo(i,"GET","/v2/passwordPolicy",La(i,e))}const IE=6;class SE{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:IE,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class AE{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Km(this),this.idTokenSubscription=new Km(this),this.beforeStateQueue=new EE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await my(this,{idToken:e}),s=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o?._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Er(this));const t=e?Ct(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TE(this),t=new SE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Va("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await _E(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ky(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&iE(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ba(i){return Ct(i)}class Km{constructor(e){this.auth=e,this.observer=null,this.addObserver=H0(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kE(i){Dd=i}function RE(i){return Dd.loadJS(i)}function CE(){return Dd.gapiScript}function PE(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function xE(i,e){const t=Ad(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ru(u,e??{}))return o;Ir(o,"already-initialized")}return t.initialize({options:e})}function NE(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(wr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function DE(i,e,t){const s=ba(i);me(s._canInitEmulator,s,"emulator-config-failed"),me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Ry(e),{host:h,port:m}=VE(e),g=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),OE()}function Ry(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function VE(i){const e=Ry(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Gm(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Gm(h)}}}function Gm(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function OE(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Cy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function eo(i,e){return Pd(i,"POST","/v1/accounts:signInWithIdp",La(i,e))}const ME="http://localhost";class Qi extends Cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=kd(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Qi(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return eo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,eo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,eo(e,t)}buildRequest(){const e={requestUri:ME,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Oa(t)}return e}}class Py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fa extends Py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ni extends Fa{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";class ri extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ri.credential(t,s)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";class ii extends Fa{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";class si extends Fa{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return si.credential(t,s)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";async function LE(i,e){return Pd(i,"POST","/v1/accounts:signUp",La(i,e))}class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await vr._fromIdTokenResponse(e,s,o),h=Qm(s);return new Ar({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Qm(s);return new Ar({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Qm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function bE(i){var e;if(Gn(i.app))return Promise.reject(Er(i));const t=ba(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ar({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await LE(t,{returnSecureToken:!0}),o=await Ar._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}class Nu extends Cr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nu(e,t,s,o)}}function xy(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nu._fromErrorAndOperation(i,u,e,s):u})}async function FE(i,e,t=!1){const s=await Aa(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ar._forOperation(i,"link",s)}async function UE(i,e,t=!1){const{auth:s}=i;if(Gn(s.app))return Promise.reject(Er(s));const o="reauthenticate";try{const u=await Aa(i,xy(s,o,e,i),t);me(u.idToken,s,"internal-error");const h=xd(u.idToken);me(h,s,"internal-error");const{sub:m}=h;return me(i.uid===m,s,"user-mismatch"),Ar._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ir(s,"user-mismatch"),u}}async function jE(i,e,t=!1){if(Gn(i.app))return Promise.reject(Er(i));const s="signIn",o=await xy(i,s,e),u=await Ar._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function zE(i,e){return Pd(i,"POST","/v1/accounts:signInWithCustomToken",La(i,e))}async function BE(i,e){if(Gn(i.app))return Promise.reject(Er(i));const t=ba(i),s=await zE(t,{token:e,returnSecureToken:!0}),o=await Ar._fromIdTokenResponse(t,"signIn",s);return await t._updateCurrentUser(o.user),o}function $E(i,e,t,s){return Ct(i).onIdTokenChanged(e,t,s)}function qE(i,e,t){return Ct(i).beforeAuthStateChanged(e,t)}function HE(i,e,t,s){return Ct(i).onAuthStateChanged(e,t,s)}const Du="__sak";class Ny{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Du,"1"),this.storage.removeItem(Du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WE=1e3,KE=10;class Dy extends Ny{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ay(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);wE()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KE):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},WE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dy.type="LOCAL";const GE=Dy;class Vy extends Ny{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Vy.type="SESSION";const Oy=Vy;function QE(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Hu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Hu(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async v=>v(t.origin,u)),g=await QE(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hu.receivers=[];function Vd(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class YE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const v=Vd("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(R){const D=R;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Yn(){return window}function XE(i){Yn().location.href=i}function My(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function JE(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZE(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function eT(){return My()?self:null}const Ly="firebaseLocalStorageDb",tT=1,Vu="firebaseLocalStorage",by="fbase_key";class Ua{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wu(i,e){return i.transaction([Vu],e?"readwrite":"readonly").objectStore(Vu)}function nT(){const i=indexedDB.deleteDatabase(Ly);return new Ua(i).toPromise()}function rd(){const i=indexedDB.open(Ly,tT);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Vu,{keyPath:by})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Vu)?e(s):(s.close(),await nT(),e(await rd()))})})}async function Ym(i,e,t){const s=Wu(i,!0).put({[by]:e,value:t});return new Ua(s).toPromise()}async function rT(i,e){const t=Wu(i,!1).get(e),s=await new Ua(t).toPromise();return s===void 0?null:s.value}function Xm(i,e){const t=Wu(i,!0).delete(e);return new Ua(t).toPromise()}const iT=800,sT=3;class Fy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>sT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return My()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hu._getInstance(eT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await JE(),!this.activeServiceWorker)return;this.sender=new YE(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rd();return await Ym(e,Du,"1"),await Xm(e,Du),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ym(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>rT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wu(o,!1).getAll();return new Ua(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fy.type="LOCAL";const oT=Fy;new Ma(3e4,6e4);function aT(i,e){return e?wr(e):(me(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Od extends Cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lT(i){return jE(i.auth,new Od(i),i.bypassAuthState)}function uT(i){const{auth:e,user:t}=i;return me(t,e,"internal-error"),UE(t,new Od(i),i.bypassAuthState)}async function cT(i){const{auth:e,user:t}=i;return me(t,e,"internal-error"),FE(t,new Od(i),i.bypassAuthState)}class Uy{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lT;case"linkViaPopup":case"linkViaRedirect":return cT;case"reauthViaPopup":case"reauthViaRedirect":return uT;default:Ir(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hT=new Ma(2e3,1e4);class Xs extends Uy{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Vd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hT.get())};e()}}Xs.currentPopupAction=null;const dT="pendingRedirect",_u=new Map;class fT extends Uy{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=_u.get(this.auth._key());if(!e){try{const s=await pT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}_u.set(this.auth._key(),e)}return this.bypassAuthState||_u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pT(i,e){const t=yT(e),s=gT(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function mT(i,e){_u.set(i._key(),e)}function gT(i){return wr(i._redirectPersistence)}function yT(i){return yu(dT,i.config.apiKey,i.name)}async function _T(i,e,t=!1){if(Gn(i.app))return Promise.reject(Er(i));const s=ba(i),o=aT(s,e),h=await new fT(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const vT=600*1e3;class wT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ET(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!jy(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jm(e))}saveEventToCache(e){this.cachedEventUids.add(Jm(e)),this.lastProcessedEventTime=Date.now()}}function Jm(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function jy({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function ET(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jy(i);default:return!1}}async function TT(i,e={}){return fo(i,"GET","/v1/projects",e)}const IT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ST=/^https?/;async function AT(i){if(i.config.emulator)return;const{authorizedDomains:e}=await TT(i);for(const t of e)try{if(kT(t))return}catch{}Ir(i,"unauthorized-domain")}function kT(i){const e=td(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!ST.test(t))return!1;if(IT.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const RT=new Ma(3e4,6e4);function Zm(){const i=Yn().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function CT(i){return new Promise((e,t)=>{var s,o,u;function h(){Zm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zm(),t(Qn(i,"network-request-failed"))},timeout:RT.get()})}if(!((o=(s=Yn().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Yn().gapi)===null||u===void 0)&&u.load)h();else{const m=PE("iframefcb");return Yn()[m]=()=>{gapi.load?h():t(Qn(i,"network-request-failed"))},RE(`${CE()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw vu=null,e})}let vu=null;function PT(i){return vu=vu||CT(i),vu}const xT=new Ma(5e3,15e3),NT="__/auth/iframe",DT="emulator/auth/iframe",VT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MT(i){const e=i.config;me(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Cd(e,DT):`https://${i.config.authDomain}/${NT}`,s={apiKey:e.apiKey,appName:i.name,v:ho},o=OT.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Oa(s).slice(1)}`}async function LT(i){const e=await PT(i),t=Yn().gapi;return me(t,i,"internal-error"),e.open({where:document.body,url:MT(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VT,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Qn(i,"network-request-failed"),m=Yn().setTimeout(()=>{u(h)},xT.get());function g(){Yn().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const bT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FT=500,UT=600,jT="_blank",zT="http://localhost";class eg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BT(i,e,t,s=FT,o=UT){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},bT),{width:s.toString(),height:o.toString(),top:u,left:h}),v=Ut().toLowerCase();t&&(m=wy(v)?jT:t),_y(v)&&(e=e||zT,g.scrollbars="yes");const E=Object.entries(g).reduce((D,[j,G])=>`${D}${j}=${G},`,"");if(vE(v)&&m!=="_self")return $T(e||"",m),new eg(null);const R=window.open(e||"",m,E);me(R,i,"popup-blocked");try{R.focus()}catch{}return new eg(R)}function $T(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const qT="__/auth/handler",HT="emulator/auth/handler",WT=encodeURIComponent("fac");async function tg(i,e,t,s,o,u){me(i.config.authDomain,i,"auth-domain-config-required"),me(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ho,eventId:o};if(e instanceof Py){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",q0(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))h[E]=R}if(e instanceof Fa){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),v=g?`#${WT}=${encodeURIComponent(g)}`:"";return`${KT(i)}?${Oa(m).slice(1)}${v}`}function KT({config:i}){return i.emulator?Cd(i,HT):`https://${i.authDomain}/${qT}`}const qh="webStorageSupport";class GT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oy,this._completeRedirectFn=_T,this._overrideRedirectResult=mT}async _openPopup(e,t,s,o){var u;Sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await tg(e,t,s,td(),o);return BT(e,h,Vd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await tg(e,t,s,td(),o);return XE(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await LT(e),s=new wT(e);return t.register("authEvent",o=>(me(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qh,{type:qh},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[qh];h!==void 0&&t(!!h),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ay()||vy()||Nd()}}const QT=GT;var ng="@firebase/auth",rg="1.7.9";class YT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XT(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JT(i){no(new Gi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;me(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ky(i)},v=new AE(s,o,u,g);return NE(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),no(new Gi("auth-internal",e=>{const t=ba(e.getProvider("auth").getImmediate());return(s=>new YT(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(ng,rg,XT(i)),ui(ng,rg,"esm2017")}const ZT=300,eI=ny("authIdTokenMaxAge")||ZT;let ig=null;const tI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>eI)return;const o=t?.token;ig!==o&&(ig=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nI(i=oy()){const e=Ad(i,"auth");if(e.isInitialized())return e.getImmediate();const t=xE(i,{popupRedirectResolver:QT,persistence:[oT,GE,Oy]}),s=ny("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=tI(u.toString());qE(t,h,()=>h(t.currentUser)),$E(t,m=>h(m))}}const o=ey("auth");return o&&DE(t,`http://${o}`),t}function rI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}kE({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",rI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JT("Browser");var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wi,zy;(function(){var i;function e(N,S){function T(){}T.prototype=S.prototype,N.D=S.prototype,N.prototype=new T,N.prototype.constructor=N,N.C=function(C,P,V){for(var A=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)A[Ye-2]=arguments[Ye];return S.prototype[P].apply(C,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,T){T||(T=0);var C=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)C[P]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(P=0;16>P;++P)C[P]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=N.g[0],T=N.g[1],P=N.g[2];var V=N.g[3],A=S+(V^T&(P^V))+C[0]+3614090360&4294967295;S=T+(A<<7&4294967295|A>>>25),A=V+(P^S&(T^P))+C[1]+3905402710&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(T^V&(S^T))+C[2]+606105819&4294967295,P=V+(A<<17&4294967295|A>>>15),A=T+(S^P&(V^S))+C[3]+3250441966&4294967295,T=P+(A<<22&4294967295|A>>>10),A=S+(V^T&(P^V))+C[4]+4118548399&4294967295,S=T+(A<<7&4294967295|A>>>25),A=V+(P^S&(T^P))+C[5]+1200080426&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(T^V&(S^T))+C[6]+2821735955&4294967295,P=V+(A<<17&4294967295|A>>>15),A=T+(S^P&(V^S))+C[7]+4249261313&4294967295,T=P+(A<<22&4294967295|A>>>10),A=S+(V^T&(P^V))+C[8]+1770035416&4294967295,S=T+(A<<7&4294967295|A>>>25),A=V+(P^S&(T^P))+C[9]+2336552879&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(T^V&(S^T))+C[10]+4294925233&4294967295,P=V+(A<<17&4294967295|A>>>15),A=T+(S^P&(V^S))+C[11]+2304563134&4294967295,T=P+(A<<22&4294967295|A>>>10),A=S+(V^T&(P^V))+C[12]+1804603682&4294967295,S=T+(A<<7&4294967295|A>>>25),A=V+(P^S&(T^P))+C[13]+4254626195&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(T^V&(S^T))+C[14]+2792965006&4294967295,P=V+(A<<17&4294967295|A>>>15),A=T+(S^P&(V^S))+C[15]+1236535329&4294967295,T=P+(A<<22&4294967295|A>>>10),A=S+(P^V&(T^P))+C[1]+4129170786&4294967295,S=T+(A<<5&4294967295|A>>>27),A=V+(T^P&(S^T))+C[6]+3225465664&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^T&(V^S))+C[11]+643717713&4294967295,P=V+(A<<14&4294967295|A>>>18),A=T+(V^S&(P^V))+C[0]+3921069994&4294967295,T=P+(A<<20&4294967295|A>>>12),A=S+(P^V&(T^P))+C[5]+3593408605&4294967295,S=T+(A<<5&4294967295|A>>>27),A=V+(T^P&(S^T))+C[10]+38016083&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^T&(V^S))+C[15]+3634488961&4294967295,P=V+(A<<14&4294967295|A>>>18),A=T+(V^S&(P^V))+C[4]+3889429448&4294967295,T=P+(A<<20&4294967295|A>>>12),A=S+(P^V&(T^P))+C[9]+568446438&4294967295,S=T+(A<<5&4294967295|A>>>27),A=V+(T^P&(S^T))+C[14]+3275163606&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^T&(V^S))+C[3]+4107603335&4294967295,P=V+(A<<14&4294967295|A>>>18),A=T+(V^S&(P^V))+C[8]+1163531501&4294967295,T=P+(A<<20&4294967295|A>>>12),A=S+(P^V&(T^P))+C[13]+2850285829&4294967295,S=T+(A<<5&4294967295|A>>>27),A=V+(T^P&(S^T))+C[2]+4243563512&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^T&(V^S))+C[7]+1735328473&4294967295,P=V+(A<<14&4294967295|A>>>18),A=T+(V^S&(P^V))+C[12]+2368359562&4294967295,T=P+(A<<20&4294967295|A>>>12),A=S+(T^P^V)+C[5]+4294588738&4294967295,S=T+(A<<4&4294967295|A>>>28),A=V+(S^T^P)+C[8]+2272392833&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^T)+C[11]+1839030562&4294967295,P=V+(A<<16&4294967295|A>>>16),A=T+(P^V^S)+C[14]+4259657740&4294967295,T=P+(A<<23&4294967295|A>>>9),A=S+(T^P^V)+C[1]+2763975236&4294967295,S=T+(A<<4&4294967295|A>>>28),A=V+(S^T^P)+C[4]+1272893353&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^T)+C[7]+4139469664&4294967295,P=V+(A<<16&4294967295|A>>>16),A=T+(P^V^S)+C[10]+3200236656&4294967295,T=P+(A<<23&4294967295|A>>>9),A=S+(T^P^V)+C[13]+681279174&4294967295,S=T+(A<<4&4294967295|A>>>28),A=V+(S^T^P)+C[0]+3936430074&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^T)+C[3]+3572445317&4294967295,P=V+(A<<16&4294967295|A>>>16),A=T+(P^V^S)+C[6]+76029189&4294967295,T=P+(A<<23&4294967295|A>>>9),A=S+(T^P^V)+C[9]+3654602809&4294967295,S=T+(A<<4&4294967295|A>>>28),A=V+(S^T^P)+C[12]+3873151461&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^T)+C[15]+530742520&4294967295,P=V+(A<<16&4294967295|A>>>16),A=T+(P^V^S)+C[2]+3299628645&4294967295,T=P+(A<<23&4294967295|A>>>9),A=S+(P^(T|~V))+C[0]+4096336452&4294967295,S=T+(A<<6&4294967295|A>>>26),A=V+(T^(S|~P))+C[7]+1126891415&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~T))+C[14]+2878612391&4294967295,P=V+(A<<15&4294967295|A>>>17),A=T+(V^(P|~S))+C[5]+4237533241&4294967295,T=P+(A<<21&4294967295|A>>>11),A=S+(P^(T|~V))+C[12]+1700485571&4294967295,S=T+(A<<6&4294967295|A>>>26),A=V+(T^(S|~P))+C[3]+2399980690&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~T))+C[10]+4293915773&4294967295,P=V+(A<<15&4294967295|A>>>17),A=T+(V^(P|~S))+C[1]+2240044497&4294967295,T=P+(A<<21&4294967295|A>>>11),A=S+(P^(T|~V))+C[8]+1873313359&4294967295,S=T+(A<<6&4294967295|A>>>26),A=V+(T^(S|~P))+C[15]+4264355552&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~T))+C[6]+2734768916&4294967295,P=V+(A<<15&4294967295|A>>>17),A=T+(V^(P|~S))+C[13]+1309151649&4294967295,T=P+(A<<21&4294967295|A>>>11),A=S+(P^(T|~V))+C[4]+4149444226&4294967295,S=T+(A<<6&4294967295|A>>>26),A=V+(T^(S|~P))+C[11]+3174756917&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~T))+C[2]+718787259&4294967295,P=V+(A<<15&4294967295|A>>>17),A=T+(V^(P|~S))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var T=S-this.blockSize,C=this.B,P=this.h,V=0;V<S;){if(P==0)for(;V<=T;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(C[P++]=N.charCodeAt(V++),P==this.blockSize){o(this,C),P=0;break}}else for(;V<S;)if(C[P++]=N[V++],P==this.blockSize){o(this,C),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var T=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=T&255,T/=256;for(this.u(N),N=Array(16),S=T=0;4>S;++S)for(var C=0;32>C;C+=8)N[T++]=this.g[S]>>>C&255;return N};function u(N,S){var T=m;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=S(N)}function h(N,S){this.h=S;for(var T=[],C=!0,P=N.length-1;0<=P;P--){var V=N[P]|0;C&&V==S||(T[P]=V,C=!1)}this.g=T}var m={};function g(N){return-128<=N&&128>N?u(N,function(S){return new h([S|0],0>S?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return R;if(0>N)return B(v(-N));for(var S=[],T=1,C=0;N>=T;C++)S[C]=N/T|0,T*=4294967296;return new h(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return B(E(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=v(Math.pow(S,8)),C=R,P=0;P<N.length;P+=8){var V=Math.min(8,N.length-P),A=parseInt(N.substring(P,P+V),S);8>V?(V=v(Math.pow(S,V)),C=C.j(V).add(v(A))):(C=C.j(T),C=C.add(v(A)))}return C}var R=g(0),D=g(1),j=g(16777216);i=h.prototype,i.m=function(){if(Y(this))return-B(this).m();for(var N=0,S=1,T=0;T<this.g.length;T++){var C=this.i(T);N+=(0<=C?C:4294967296+C)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Y(this))return"-"+B(this).toString(N);for(var S=v(Math.pow(N,6)),T=this,C="";;){var P=Ee(T,S).g;T=fe(T,P.j(S));var V=((0<T.g.length?T.g[0]:T.h)>>>0).toString(N);if(T=P,G(T))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function Y(N){return N.h==-1}i.l=function(N){return N=fe(this,N),Y(N)?-1:G(N)?0:1};function B(N){for(var S=N.g.length,T=[],C=0;C<S;C++)T[C]=~N.g[C];return new h(T,~N.h).add(D)}i.abs=function(){return Y(this)?B(this):this},i.add=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],C=0,P=0;P<=S;P++){var V=C+(this.i(P)&65535)+(N.i(P)&65535),A=(V>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);C=A>>>16,V&=65535,A&=65535,T[P]=A<<16|V}return new h(T,T[T.length-1]&-2147483648?-1:0)};function fe(N,S){return N.add(B(S))}i.j=function(N){if(G(this)||G(N))return R;if(Y(this))return Y(N)?B(this).j(B(N)):B(B(this).j(N));if(Y(N))return B(this.j(B(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,T=[],C=0;C<2*S;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<N.g.length;P++){var V=this.i(C)>>>16,A=this.i(C)&65535,Ye=N.i(P)>>>16,xt=N.i(P)&65535;T[2*C+2*P]+=A*xt,_e(T,2*C+2*P),T[2*C+2*P+1]+=V*xt,_e(T,2*C+2*P+1),T[2*C+2*P+1]+=A*Ye,_e(T,2*C+2*P+1),T[2*C+2*P+2]+=V*Ye,_e(T,2*C+2*P+2)}for(C=0;C<S;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=S;C<2*S;C++)T[C]=0;return new h(T,0)};function _e(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ye(N,S){this.g=N,this.h=S}function Ee(N,S){if(G(S))throw Error("division by zero");if(G(N))return new ye(R,R);if(Y(N))return S=Ee(B(N),S),new ye(B(S.g),B(S.h));if(Y(S))return S=Ee(N,B(S)),new ye(B(S.g),S.h);if(30<N.g.length){if(Y(N)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var T=D,C=S;0>=C.l(N);)T=ze(T),C=ze(C);var P=Te(T,1),V=Te(C,1);for(C=Te(C,2),T=Te(T,2);!G(C);){var A=V.add(C);0>=A.l(N)&&(P=P.add(T),V=A),C=Te(C,1),T=Te(T,1)}return S=fe(N,P.j(S)),new ye(P,S)}for(P=R;0<=N.l(S);){for(T=Math.max(1,Math.floor(N.m()/S.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=v(T),A=V.j(S);Y(A)||0<A.l(N);)T-=C,V=v(T),A=V.j(S);G(V)&&(V=D),P=P.add(V),N=fe(N,A)}return new ye(P,N)}i.A=function(N){return Ee(this,N).h},i.and=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],C=0;C<S;C++)T[C]=this.i(C)&N.i(C);return new h(T,this.h&N.h)},i.or=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],C=0;C<S;C++)T[C]=this.i(C)|N.i(C);return new h(T,this.h|N.h)},i.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],C=0;C<S;C++)T[C]=this.i(C)^N.i(C);return new h(T,this.h^N.h)};function ze(N){for(var S=N.g.length+1,T=[],C=0;C<S;C++)T[C]=N.i(C)<<1|N.i(C-1)>>>31;return new h(T,N.h)}function Te(N,S){var T=S>>5;S%=32;for(var C=N.g.length-T,P=[],V=0;V<C;V++)P[V]=0<S?N.i(V+T)>>>S|N.i(V+T+1)<<32-S:N.i(V+T);return new h(P,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,zy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,Wi=h}).apply(typeof sg<"u"?sg:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var By,ma,$y,wu,id,qy,Hy,Wy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,f){if(f)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var M=l[w];if(!(M in y))break e;y=y[M]}l=l[l.length-1],w=y[l],f=f(w),f!=w&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var y=0,w=!1,M={next:function(){if(!w&&y<l.length){var U=y++;return{value:f(U,l[U]),done:!1}}return w=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(l){return l||function(){return u(this,function(f,y){return y})}});var h=h||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function E(l,f,y){return l.call.apply(l.bind,arguments)}function R(l,f,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,w),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function D(l,f,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,D.apply(null,arguments)}function j(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function G(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,M,U){for(var J=Array(arguments.length-2),be=2;be<arguments.length;be++)J[be-2]=arguments[be];return f.prototype[M].apply(w,J)}}function Y(l){const f=l.length;if(0<f){const y=Array(f);for(let w=0;w<f;w++)y[w]=l[w];return y}return[]}function B(l,f){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const M=l.length||0,U=w.length||0;l.length=M+U;for(let J=0;J<U;J++)l[M+J]=w[J]}else l.push(w)}}class fe{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _e(l){return/^[\s\xa0]*$/.test(l)}function ye(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Ee(l){return Ee[" "](l),l}Ee[" "]=function(){};var ze=ye().indexOf("Gecko")!=-1&&!(ye().toLowerCase().indexOf("webkit")!=-1&&ye().indexOf("Edge")==-1)&&!(ye().indexOf("Trident")!=-1||ye().indexOf("MSIE")!=-1)&&ye().indexOf("Edge")==-1;function Te(l,f,y){for(const w in l)f.call(y,l[w],w,l)}function N(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function S(l){const f={};for(const y in l)f[y]=l[y];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,f){let y,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(y in w)l[y]=w[y];for(let U=0;U<T.length;U++)y=T[U],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function P(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function V(l){m.setTimeout(()=>{throw l},0)}function A(){var l=ce;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ye{constructor(){this.h=this.g=null}add(f,y){const w=xt.get();w.set(f,y),this.h?this.h.next=w:this.g=w,this.h=w}}var xt=new fe(()=>new Nt,l=>l.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,Z=!1,ce=new Ye,te=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(O)}};var O=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){V(y)}var f=xt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}Z=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ie=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l})();function Se(l,f){if(le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ze){e:{try{Ee(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}G(Se,le);var Pe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Be(l,f,y,w,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!w,this.ha=M,this.key=++Le,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,f,y,w,M){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var J=Pr(l,f,w,M);return-1<J?(f=l[J],y||(f.fa=!1)):(f=new Be(f,this.src,U,!!w,M),f.fa=y,l.push(f)),f};function ts(l,f){var y=f.type;if(y in l.g){var w=l.g[y],M=Array.prototype.indexOf.call(w,f,void 0),U;(U=0<=M)&&Array.prototype.splice.call(w,M,1),U&&(mt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Pr(l,f,y,w){for(var M=0;M<l.length;++M){var U=l[M];if(!U.da&&U.listener==f&&U.capture==!!y&&U.ha==w)return M}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),ns={};function _o(l,f,y,w,M){if(Array.isArray(f)){for(var U=0;U<f.length;U++)_o(l,f[U],y,w,M);return null}return y=Eo(y),l&&l[Me]?l.K(f,y,v(w)?!!w.capture:!1,M):vo(l,f,y,!1,w,M)}function vo(l,f,y,w,M,U){if(!f)throw Error("Invalid event type");var J=v(M)?!!M.capture:!!M,be=is(l);if(be||(l[gi]=be=new er(l)),y=be.add(f,y,w,J,U),y.proxy)return y;if(w=Ga(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ie||(M=J),M===void 0&&(M=!1),l.addEventListener(f.toString(),w,M);else if(l.attachEvent)l.attachEvent(nr(f.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ga(){function l(y){return f.call(l.src,l.listener,y)}const f=wo;return l}function rs(l,f,y,w,M){if(Array.isArray(f))for(var U=0;U<f.length;U++)rs(l,f[U],y,w,M);else w=v(w)?!!w.capture:!!w,y=Eo(y),l&&l[Me]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],y=Pr(U,y,w,M),-1<y&&(mt(U[y]),Array.prototype.splice.call(U,y,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=is(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Pr(f,y,w,M)),(y=-1<l?f[l]:null)&&tr(y))}function tr(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Me])ts(f.i,l);else{var y=l.type,w=l.proxy;f.removeEventListener?f.removeEventListener(y,w,l.capture):f.detachEvent?f.detachEvent(nr(y),w):f.addListener&&f.removeListener&&f.removeListener(w),(y=is(f))?(ts(y,l),y.h==0&&(y.src=null,f[gi]=null)):mt(l)}}}function nr(l){return l in ns?ns[l]:ns[l]="on"+l}function wo(l,f){if(l.da)l=!0;else{f=new Se(f,this);var y=l.listener,w=l.ha||l.src;l.fa&&tr(l),l=y.call(w,f)}return l}function is(l){return l=l[gi],l instanceof er?l:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eo(l){return typeof l=="function"?l:(l[ss]||(l[ss]=function(f){return l.handleEvent(f)}),l[ss])}function ut(){$.call(this),this.i=new er(this),this.M=this,this.F=null}G(ut,$),ut.prototype[Me]=!0,ut.prototype.removeEventListener=function(l,f,y,w){rs(this,l,f,y,w)};function ct(l,f){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=f.type||f,typeof f=="string")f=new le(f,l);else if(f instanceof le)f.target=f.target||l;else{var M=f;f=new le(w,l),C(f,M)}if(M=!0,y)for(var U=y.length-1;0<=U;U--){var J=f.g=y[U];M=rr(J,w,!0,f)&&M}if(J=f.g=l,M=rr(J,w,!0,f)&&M,M=rr(J,w,!1,f)&&M,y)for(U=0;U<y.length;U++)J=f.g=y[U],M=rr(J,w,!1,f)&&M}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],w=0;w<y.length;w++)mt(y[w]);delete l.g[f],l.h--}}this.F=null},ut.prototype.K=function(l,f,y,w){return this.i.add(String(l),f,!1,y,w)},ut.prototype.L=function(l,f,y,w){return this.i.add(String(l),f,!0,y,w)};function rr(l,f,y,w){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,U=0;U<f.length;++U){var J=f[U];if(J&&!J.da&&J.capture==y){var be=J.listener,ht=J.ha||J.src;J.fa&&ts(l.i,J),M=be.call(ht,w)!==!1&&M}}return M&&!w.defaultPrevented}function To(l,f,y){if(typeof l=="function")y&&(l=D(l,y));else if(l&&typeof l.handleEvent=="function")l=D(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function xr(l){l.g=To(()=>{l.g=null,l.i&&(l.i=!1,xr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class yi extends ${constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(l){$.call(this),this.h=l,this.g={}}G(_i,$);var Io=[];function So(l){Te(l.g,function(f,y){this.g.hasOwnProperty(y)&&tr(f)},l),l.g={}}_i.prototype.N=function(){_i.aa.N.call(this),So(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ao=m.JSON.stringify,ko=m.JSON.parse,Ro=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function vi(){}vi.prototype.h=null;function os(l){return l.h||(l.h=l.i())}function as(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){le.call(this,"d")}G(bn,le);function ls(){le.call(this,"c")}G(ls,le);var Fn={},Co=null;function wi(){return Co=Co||new ut}Fn.La="serverreachability";function Po(l){le.call(this,Fn.La,l)}G(Po,le);function ir(l){const f=wi();ct(f,new Po(f))}Fn.STAT_EVENT="statevent";function xo(l,f){le.call(this,Fn.STAT_EVENT,l),this.stat=f}G(xo,le);function nt(l){const f=wi();ct(f,new xo(f,l))}Fn.Ma="timingevent";function us(l,f){le.call(this,Fn.Ma,l),this.size=f}G(us,le);function wn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ti(l,f,y,w,M,U){l.info(function(){if(l.g)if(U)for(var J="",be=U.split("&"),ht=0;ht<be.length;ht++){var xe=be[ht].split("=");if(1<xe.length){var gt=xe[0];xe=xe[1];var st=gt.split("_");J=2<=st.length&&st[1]=="type"?J+(gt+"="+xe+"&"):J+(gt+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+f+`
`+y+`
`+J})}function cs(l,f,y,w,M,U,J){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+f+`
`+y+`
`+U+" "+J})}function En(l,f,y,w){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+ac(l,y)+(w?" "+w:"")})}function No(l,f){l.info(function(){return"TIMEOUT: "+f})}Ei.prototype.info=function(){};function ac(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var M=w[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<M.length;J++)M[J]=""}}}}return Ao(y)}catch{return f}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tn;function Ii(){}G(Ii,vi),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},Tn=new Ii;function In(l,f,y,w){this.j=l,this.i=f,this.l=y,this.R=w||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ya}function Ya(){this.i=null,this.g="",this.h=!1}var Do={},ds={};function fs(l,f,y){l.L=1,l.v=Mr(nn(f)),l.m=y,l.P=!0,Vo(l,null)}function Vo(l,f){l.F=Date.now(),$e(l),l.A=nn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),br(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Ya,l.g=pl(l.j,y?f:null,!l.m),0<l.O&&(l.M=new yi(D(l.Y,l,l.g),l.O)),f=l.U,y=l.g,w=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Io[0]=M.toString()),M=Io);for(var U=0;U<M.length;U++){var J=_o(y,M[U],w||f.handleEvent,!1,f.h||f);if(!J)break;f.g[J.key]=J}f=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ir(),Ti(l.i,l.u,l.A,l.l,l.R,l.m)}In.prototype.ca=function(l){l=l.target;const f=this.M;f&&Wt(l)==3?f.j():this.Y(l)},In.prototype.Y=function(l){try{if(l==this.g)e:{const st=Wt(this.g);var f=this.g.Ba();const fn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||st!=4||f==7||(f==8||0>=fn?ir(3):ir(2)),Si(this);var y=this.g.Z();this.X=y;t:if(Xa(this)){var w=Uo(this.g);l="";var M=w.length,U=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Nr(this);var J="";break t}this.h.i=new m.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(w[f],{stream:!(U&&f==M-1)});w.length=0,this.h.g+=l,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,cs(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ht=this.g;if((be=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(be)){var xe=be;break t}}xe=null}if(y=xe)En(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,y);else{this.o=!1,this.s=3,nt(12),hn(this),Nr(this);break e}}if(this.P){y=!0;let sn;for(;!this.J&&this.C<J.length;)if(sn=lc(this,J),sn==ds){st==4&&(this.s=4,nt(14),y=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Do){this.s=4,nt(15),En(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else En(this.i,this.l,sn,null),Oo(this,sn);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||J.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)En(this.i,this.l,J,"[Invalid Chunked Response]"),hn(this),Nr(this);else if(0<J.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),zo(gt),gt.M=!0,nt(11))}}else En(this.i,this.l,J,null),Oo(this,J);st==4&&hn(this),this.o&&!this.J&&(st==4?Ss(this.j,this):(this.o=!1,$e(this)))}else vs(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),hn(this),Nr(this)}}}catch{}finally{}};function Xa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function lc(l,f){var y=l.C,w=f.indexOf(`
`,y);return w==-1?ds:(y=Number(f.substring(y,w)),isNaN(y)?Do:(w+=1,w+y>f.length?ds:(f=f.slice(w,w+y),l.C=w+y,f)))}In.prototype.cancel=function(){this.J=!0,hn(this)};function $e(l){l.S=Date.now()+l.I,Ja(l,l.I)}function Ja(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wn(D(l.ba,l),f)}function Si(l){l.B&&(m.clearTimeout(l.B),l.B=null)}In.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(No(this.i,this.A),this.L!=2&&(ir(),nt(17)),hn(this),this.s=2,Nr(this)):Ja(this,this.S-l)};function Nr(l){l.j.G==0||l.J||Ss(l.j,l)}function hn(l){Si(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,So(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Oo(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||zt(y.h,l))){if(!l.K&&zt(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Is(y),Cn(y);else break e;Ts(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=wn(D(y.Za,y),6e3));if(1>=el(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ur(y,11)}else if((l.K||y.g==l)&&Is(y),!_e(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let xe=M[f];if(y.T=xe[0],xe=xe[1],y.G==2)if(xe[0]=="c"){y.K=xe[1],y.ia=xe[2];const gt=xe[3];gt!=null&&(y.la=gt,y.j.info("VER="+y.la));const st=xe[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const fn=xe[5];fn!=null&&typeof fn=="number"&&0<fn&&(w=1.5*fn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const sn=l.g;if(sn){const Ni=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var U=w.h;U.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Mo(U,U.h),U.h=null))}if(w.D){const ks=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(w.ya=ks,je(w.I,w.D,ks))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var J=l;if(w.qa=fl(w,w.J?w.ia:null,w.W),J.K){tl(w.h,J);var be=J,ht=w.L;ht&&(be.I=ht),be.B&&(Si(be),$e(be)),w.g=J}else xi(w);0<y.i.length&&Bn(y)}else xe[0]!="stop"&&xe[0]!="close"||ur(y,7);else y.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?ur(y,7):Tt(y):xe[0]!="noop"&&y.l&&y.l.ta(xe),y.v=0)}}ir(4)}catch{}}var Za=class{constructor(l,f){this.g=l,this.map=f}};function Ai(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function el(l){return l.h?1:l.g?l.g.size:0}function zt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Mo(l,f){l.g?l.g.add(f):l.h=f}function tl(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Ai.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function nl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return Y(l.i)}function ps(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,w=0;w<y;w++)f.push(l[w]);return f}f=[],y=0;for(w in l)f[y++]=l[w];return f}function ms(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const w in l)f[y++]=w;return f}}}function Dr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=ms(l),w=ps(l),M=w.length,U=0;U<M;U++)f.call(void 0,w[U],y&&y[U],l)}var ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uc(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),M=null;if(0<=w){var U=l[y].substring(0,w);M=l[y].substring(w+1)}else U=l[y];f(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,Ri(this,l.j),this.o=l.o,this.g=l.g,Vr(this,l.s),this.l=l.l;var f=l.i,y=new Un;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Or(this,y),this.m=l.m}else l&&(f=String(l).match(ki))?(this.h=!1,Ri(this,f[1]||"",!0),this.o=Re(f[2]||""),this.g=Re(f[3]||"",!0),Vr(this,f[4]),this.l=Re(f[5]||"",!0),Or(this,f[6]||"",!0),this.m=Re(f[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}sr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Lr(f,gs,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Lr(f,gs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Lr(y,y.charAt(0)=="/"?sl:il,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Lr(y,Lo)),l.join("")};function nn(l){return new sr(l)}function Ri(l,f,y){l.j=y?Re(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Vr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Or(l,f,y){f instanceof Un?(l.i=f,jn(l.i,l.h)):(y||(f=Lr(f,ol)),l.i=new Un(f,l.h))}function je(l,f,y){l.i.set(f,y)}function Mr(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Re(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Lr(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,rl),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function rl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var gs=/[#\/\?@]/g,il=/[#\?:]/g,sl=/[#\?]/g,ol=/[#\?@]/g,Lo=/#/g;function Un(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&uc(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=Un.prototype,i.add=function(l,f){Et(this),this.i=null,l=dn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function Sn(l,f){Et(l),f=dn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function An(l,f){return Et(l),f=dn(l,f),l.g.has(f)}i.forEach=function(l,f){Et(this),this.g.forEach(function(y,w){y.forEach(function(M){l.call(f,M,w,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let w=0;w<f.length;w++){const M=l[w];for(let U=0;U<M.length;U++)y.push(f[w])}return y},i.V=function(l){Et(this);let f=[];if(typeof l=="string")An(this,l)&&(f=f.concat(this.g.get(dn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return Et(this),this.i=null,l=dn(this,l),An(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function br(l,f,y){Sn(l,f),0<y.length&&(l.i=null,l.g.set(dn(l,f),Y(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var w=f[y];const U=encodeURIComponent(String(w)),J=this.V(w);for(w=0;w<J.length;w++){var M=U;J[w]!==""&&(M+="="+encodeURIComponent(String(J[w]))),l.push(M)}}return this.i=l.join("&")};function dn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function jn(l,f){f&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(y,w){var M=w.toLowerCase();w!=M&&(Sn(this,w),br(this,M,y))},l)),l.j=f}function cc(l,f){const y=new Ei;if(m.Image){const w=new Image;w.onload=j(Ht,y,"TestLoadImage: loaded",!0,f,w),w.onerror=j(Ht,y,"TestLoadImage: error",!1,f,w),w.onabort=j(Ht,y,"TestLoadImage: abort",!1,f,w),w.ontimeout=j(Ht,y,"TestLoadImage: timeout",!1,f,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else f(!1)}function al(l,f){const y=new Ei,w=new AbortController,M=setTimeout(()=>{w.abort(),Ht(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:w.signal}).then(U=>{clearTimeout(M),U.ok?Ht(y,"TestPingServer: ok",!0,f):Ht(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Ht(y,"TestPingServer: error",!1,f)})}function Ht(l,f,y,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(y)}catch{}}function hc(){this.g=new Ro}function ll(l,f,y){const w=y||"";try{Dr(l,function(M,U){let J=M;v(M)&&(J=Ao(M)),f.push(w+U+"="+encodeURIComponent(J))})}catch(M){throw f.push(w+"type="+encodeURIComponent("_badmap")),M}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}G(or,vi),or.prototype.g=function(){return new Ci(this.l,this.j)},or.prototype.i=(function(l){return function(){return l}})({});function Ci(l,f){ut.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Ci,ut),i=Ci.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Rn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?kn(this):Rn(this),this.readyState==3&&ul(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,kn(this))},i.Qa=function(l){this.g&&(this.response=l,kn(this))},i.ga=function(){this.g&&kn(this)};function kn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function Rn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let f="";return Te(l,function(y,w){f+=w,f+=":",f+=y,f+=`\r
`}),f}function Fr(l,f,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=ar(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):je(l,f,y))}function Ge(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Ge,ut);var dc=/^https?$/i,bo=["POST","PUT"];i=Ge.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?os(this.o):os(Tn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){Pi(this,U);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)y.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())y.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bo,f,void 0))||w||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of y)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Pi(this,U)}};function Pi(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ys(l),rn(l)}function ys(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),rn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rn(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},i.bb=function(){Fo(this)};function Fo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Wt(l)!=4||l.Z()!=2)){if(l.u&&Wt(l)==4)To(l.Ea,0,l);else if(ct(l,"readystatechange"),Wt(l)==4){l.h=!1;try{const J=l.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var w;if(w=J===0){var M=String(l.D).match(ki)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),w=!dc.test(M?M.toLowerCase():"")}y=w}if(y)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var U=2<Wt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",ys(l)}}finally{rn(l)}}}}function rn(l,f){if(l.g){_s(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ct(l,"ready");try{y.onreadystatechange=w}catch{}}}function _s(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Wt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),ko(f)}};function Uo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const f={};l=(l.g&&2<=Wt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(_e(l[w]))continue;var y=P(l[w]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=f[M]||[];f[M]=U,U.push(y)}N(f,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function jo(l){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zn("baseRetryDelayMs",5e3,l),this.cb=zn("retryDelaySeedMs",1e4,l),this.Wa=zn("forwardChannelMaxRetries",2,l),this.wa=zn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(l&&l.concurrentRequestLimit),this.Da=new hc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=jo.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,w){nt(0),this.W=l,this.H=f||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=fl(this,null,this.W),Bn(this)};function Tt(l){if(ws(l),l.G==3){var f=l.U++,y=nn(l.I);if(je(y,"SID",l.K),je(y,"RID",f),je(y,"TYPE","terminate"),lr(l,y),f=new In(l,l.j,f),f.L=2,f.v=Mr(nn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=pl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$e(f)}dl(l)}function Cn(l){l.g&&(zo(l),l.g.cancel(),l.g=null)}function ws(l){Cn(l),l.u&&(m.clearTimeout(l.u),l.u=null),Is(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Bn(l){if(!tn(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ue||te(),Z||(Ue(),Z=!0),ce.add(f,l),l.B=0}}function fc(l,f){return el(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wn(D(l.Ga,l,f),hl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new In(this,this.j,l);let U=this.o;if(this.S&&(U?(U=S(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Ur(this,M,f),y=nn(this.I),je(y,"RID",l),je(y,"CVER",22),this.D&&je(y,"X-HTTP-Session-Id",this.D),lr(this,y),U&&(this.O?f="headers="+encodeURIComponent(String(ar(U)))+"&"+f:this.m&&Fr(y,this.m,U)),Mo(this.h,M),this.Ua&&je(y,"TYPE","init"),this.P?(je(y,"$req",f),je(y,"SID","null"),M.T=!0,fs(M,y,null)):fs(M,y,f),this.G=2}}else this.G==3&&(l?Es(this,l):this.i.length==0||tn(this.h)||Es(this))};function Es(l,f){var y;f?y=f.l:y=l.U++;const w=nn(l.I);je(w,"SID",l.K),je(w,"RID",y),je(w,"AID",l.T),lr(l,w),l.m&&l.o&&Fr(w,l.m,l.o),y=new In(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Ur(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Mo(l.h,y),fs(y,w,f)}function lr(l,f){l.H&&Te(l.H,function(y,w){je(f,w,y)}),l.l&&Dr({},function(y,w){je(f,w,y)})}function Ur(l,f,y){y=Math.min(l.i.length,y);var w=l.l?D(l.l.Na,l.l,l):null;e:{var M=l.i;let U=-1;for(;;){const J=["count="+y];U==-1?0<y?(U=M[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let be=!0;for(let ht=0;ht<y;ht++){let xe=M[ht].g;const gt=M[ht].map;if(xe-=U,0>xe)U=Math.max(0,M[ht].g-100),be=!1;else try{ll(gt,J,"req"+xe+"_")}catch{w&&w(gt)}}if(be){w=J.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,w}function xi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ue||te(),Z||(Ue(),Z=!0),ce.add(f,l),l.v=0}}function Ts(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wn(D(l.Fa,l),hl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,cl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wn(D(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Cn(this),cl(this))};function zo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function cl(l){l.g=new In(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=nn(l.qa);je(f,"RID","rpc"),je(f,"SID",l.K),je(f,"AID",l.T),je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(f,"TO",l.ja),je(f,"TYPE","xmlhttp"),lr(l,f),l.m&&l.o&&Fr(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Mr(nn(f)),y.m=null,y.P=!0,Vo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Cn(this),Ts(this),nt(19))};function Is(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Ss(l,f){var y=null;if(l.g==f){Is(l),zo(l),l.g=null;var w=2}else if(zt(l.h,f))y=f.D,tl(l.h,f),w=1;else return;if(l.G!=0){if(f.o)if(w==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;w=wi(),ct(w,new us(w,y)),Bn(l)}else xi(l);else if(M=f.s,M==3||M==0&&0<f.X||!(w==1&&fc(l,f)||w==2&&Ts(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function hl(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function ur(l,f){if(l.j.info("Error code "+f),f==2){var y=D(l.fb,l),w=l.Xa;const M=!w;w=new sr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ri(w,"https"),Mr(w),M?cc(w.toString(),y):al(w.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(f),dl(l),ws(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function dl(l){if(l.G=0,l.ka=[],l.l){const f=nl(l.h);(f.length!=0||l.i.length!=0)&&(B(l.ka,f),B(l.ka,l.i),l.h.i.length=0,Y(l.i),l.i.length=0),l.l.ra()}}function fl(l,f,y){var w=y instanceof sr?nn(y):new sr(y);if(w.g!="")f&&(w.g=f+"."+w.g),Vr(w,w.s);else{var M=m.location;w=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var U=new sr(null);w&&Ri(U,w),f&&(U.g=f),M&&Vr(U,M),y&&(U.l=y),w=U}return y=l.D,f=l.ya,y&&f&&je(w,y,f),je(w,"VER",l.la),lr(l,w),w}function pl(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ge(new or({eb:y})):new Ge(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}i=Bo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function As(){}As.prototype.g=function(l,f){return new Bt(l,f)};function Bt(l,f){ut.call(this),this.g=new jo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!_e(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_e(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new $n(this)}G(Bt,ut),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Tt(this.g)},Bt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Ao(l),l=y);f.i.push(new Za(f.Ya++,l)),f.G==3&&Bn(f)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,Bt.aa.N.call(this)};function ml(l){bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}G(ml,bn);function gl(){ls.call(this),this.status=1}G(gl,ls);function $n(l){this.g=l}G($n,Bo),$n.prototype.ua=function(){ct(this.g,"a")},$n.prototype.ta=function(l){ct(this.g,new ml(l))},$n.prototype.sa=function(l){ct(this.g,new gl)},$n.prototype.ra=function(){ct(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Wy=function(){return new As},Hy=function(){return wi()},qy=Fn,id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,wu=hs,Qa.COMPLETE="complete",$y=Qa,as.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ma=as,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,By=Ge}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const og="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let po="10.14.0";const Yi=new Id("@firebase/firestore");function fa(){return Yi.logLevel}function oe(i,...e){if(Yi.logLevel<=Ce.DEBUG){const t=e.map(Md);Yi.debug(`Firestore (${po}): ${i}`,...t)}}function kr(i,...e){if(Yi.logLevel<=Ce.ERROR){const t=e.map(Md);Yi.error(`Firestore (${po}): ${i}`,...t)}}function ro(i,...e){if(Yi.logLevel<=Ce.WARN){const t=e.map(Md);Yi.warn(`Firestore (${po}): ${i}`,...t)}}function Md(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function ge(i="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+i;throw kr(e),new Error(e)}function Fe(i,e){i||ge()}function we(i,e){return i}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ky{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bt.UNAUTHENTICATED)))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oI{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new Ky(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new bt(e)}}class aI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new aI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(bt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new uI(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=hI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function io(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}class pt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new pt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new pt(0,0))}static max(){return new ve(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ka{constructor(e,t,s){t===void 0?t=0:t>e.length&&ge(),s===void 0?s=e.length-t:s>e.length-t&&ge(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ke extends ka{construct(e,t,s){return new Ke(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ke(t)}static emptyPath(){return new Ke([])}}const dI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends ka{construct(e,t,s){return new kt(e,t,s)}static isValidIdentifier(e){return dI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ie(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ie(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ie(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(t)}static emptyPath(){return new kt([])}}class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ke.fromString(e))}static fromName(e){return new ue(Ke.fromString(e).popFirst(5))}static empty(){return new ue(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ke(e.slice()))}}function fI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new pt(t+1,0):new pt(t,s));return new di(o,ue.empty(),e)}function pI(i){return new di(i.readTime,i.key,-1)}class di{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new di(ve.min(),ue.empty(),-1)}static max(){return new di(ve.max(),ue.empty(),-1)}}function mI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(i.documentKey,e.documentKey),t!==0?t:Oe(i.largestBatchId,e.largestBatchId))}const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ja(i){if(i.code!==q.FAILED_PRECONDITION||i.message!==gI)throw i;oe("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,s)=>{t(e)}))}static reject(e){return new K(((t,s)=>{s(e)}))}static waitFor(e){return new K(((t,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&t()}),(g=>s(g)))})),h=!0,u===o&&t()}))}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next((o=>o?K.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new K(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next((E=>{h[v]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new K(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function _I(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function za(i){return i.name==="IndexedDbTransactionError"}class Ld{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ld.oe=-1;function Ku(i){return i==null}function Ou(i){return i===0&&1/i==-1/0}function vI(i){return typeof i=="number"&&Number.isInteger(i)&&!Ou(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function ag(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Zi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Qy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ze{constructor(e,t){this.comparator=e,this.root=t||At.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??At.RED,this.left=o??At.EMPTY,this.right=u??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new At(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return At.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,t,s,o,u){return this}insert(e,t,s){return new At(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lg(this.data.getIterator())}getIteratorFrom(e){return new lg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class lg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class un{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new un([])}unionWith(e){let t=new Rt(kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Yy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Yy("Invalid base64 string: "+u):u}})(e);return new Pt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const wI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(i){if(Fe(!!i),typeof i=="string"){let e=0;const t=wI.exec(i);if(Fe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}function bd(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Fd(i){const e=i.mapValue.fields.__previous_value__;return bd(e)?Fd(e):e}function Ra(i){const e=fi(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}class EI{constructor(e,t,s,o,u,h,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}class Ca{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}const fu={mapValue:{}};function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bd(i)?4:II(i)?9007199254740991:TI(i)?10:11:ge()}function Zn(i,e){if(i===e)return!0;const t=Ji(i);if(t!==Ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ra(i).isEqual(Ra(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fi(o.timestampValue),m=fi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return it(o.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(o.geoPointValue.longitude)===it(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return it(o.integerValue)===it(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=it(o.doubleValue),m=it(u.doubleValue);return h===m?Ou(h)===Ou(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return io(i.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ag(h)!==ag(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Zn(h[g],m[g])))return!1;return!0})(i,e);default:return ge()}}function Pa(i,e){return(i.values||[]).find((t=>Zn(t,e)))!==void 0}function so(i,e){if(i===e)return 0;const t=Ji(i),s=Ji(e);if(t!==s)return Oe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return ug(i.timestampValue,e.timestampValue);case 4:return ug(Ra(i),Ra(e));case 5:return Oe(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Xi(u),g=Xi(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const E=Oe(m[v],g[v]);if(E!==0)return E}return Oe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Oe(it(u.latitude),it(h.latitude));return m!==0?m:Oe(it(u.longitude),it(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return cg(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var m,g,v,E;const R=u.fields||{},D=h.fields||{},j=(m=R.value)===null||m===void 0?void 0:m.arrayValue,G=(g=D.value)===null||g===void 0?void 0:g.arrayValue,Y=Oe(((v=j?.values)===null||v===void 0?void 0:v.length)||0,((E=G?.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:cg(j,G)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===fu.mapValue&&h===fu.mapValue)return 0;if(u===fu.mapValue)return 1;if(h===fu.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let R=0;R<g.length&&R<E.length;++R){const D=Oe(g[R],E[R]);if(D!==0)return D;const j=so(m[g[R]],v[E[R]]);if(j!==0)return j}return Oe(g.length,E.length)})(i.mapValue,e.mapValue);default:throw ge()}}function ug(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const t=fi(i),s=fi(e),o=Oe(t.seconds,s.seconds);return o!==0?o:Oe(t.nanos,s.nanos)}function cg(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=so(t[o],s[o]);if(u)return u}return Oe(t.length,s.length)}function oo(i){return sd(i)}function sd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=fi(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Xi(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ue.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=sd(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${sd(t.fields[h])}`;return o+"}"})(i.mapValue):ge()}function hg(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function od(i){return!!i&&"integerValue"in i}function Ud(i){return!!i&&"arrayValue"in i}function dg(i){return!!i&&"nullValue"in i}function fg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eu(i){return!!i&&"mapValue"in i}function TI(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function wa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Zi(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=wa(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wa(i.arrayValue.values[t]);return e}return Object.assign({},i)}function II(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(t)}setAll(e){let t=kt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=wa(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Zi(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Zt(wa(this.value))}}function Xy(i){const e=[];return Zi(i.fields,((t,s)=>{const o=new kt([t]);if(Eu(s)){const u=Xy(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new un(e)}class Ft{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,ve.min(),ve.min(),ve.min(),Zt.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,ve.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,ve.min(),ve.min(),Zt.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,ve.min(),ve.min(),Zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mu{constructor(e,t){this.position=e,this.inclusive=t}}function pg(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ue.comparator(ue.fromName(h.referenceValue),t.key):s=so(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function mg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Zn(i.position[t],e.position[t]))return!1;return!0}class Lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function SI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Jy{}class lt extends Jy{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kI(e,t,s):t==="array-contains"?new PI(e,s):t==="in"?new xI(e,s):t==="not-in"?new NI(e,s):t==="array-contains-any"?new DI(e,s):new lt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RI(e,s):new CI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(so(t,this.value)):t!==null&&Ji(this.value)===Ji(t)&&this.matchesComparison(so(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Jy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ln(e,t)}matches(e){return Zy(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zy(i){return i.op==="and"}function e_(i){return AI(i)&&Zy(i)}function AI(i){for(const e of i.filters)if(e instanceof Ln)return!1;return!0}function ad(i){if(i instanceof lt)return i.field.canonicalString()+i.op.toString()+oo(i.value);if(e_(i))return i.filters.map((e=>ad(e))).join(",");{const e=i.filters.map((t=>ad(t))).join(",");return`${i.op}(${e})`}}function t_(i,e){return i instanceof lt?(function(s,o){return o instanceof lt&&s.op===o.op&&s.field.isEqual(o.field)&&Zn(s.value,o.value)})(i,e):i instanceof Ln?(function(s,o){return o instanceof Ln&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&t_(h,o.filters[m])),!0):!1})(i,e):void ge()}function n_(i){return i instanceof lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${oo(t.value)}`})(i):i instanceof Ln?(function(t){return t.op.toString()+" {"+t.getFilters().map(n_).join(" ,")+"}"})(i):"Filter"}class kI extends lt{constructor(e,t,s){super(e,t,s),this.key=ue.fromName(s.referenceValue)}matches(e){const t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class RI extends lt{constructor(e,t){super(e,"in",t),this.keys=r_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class CI extends lt{constructor(e,t){super(e,"not-in",t),this.keys=r_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function r_(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>ue.fromName(s.referenceValue)))}class PI extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ud(t)&&Pa(t.arrayValue,this.value)}}class xI extends lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pa(this.value.arrayValue,t)}}class NI extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pa(this.value.arrayValue,t)}}class DI extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ud(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Pa(this.value.arrayValue,s)))}}class VI{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function gg(i,e=null,t=[],s=[],o=null,u=null,h=null){return new VI(i,e,t,s,o,u,h)}function jd(i){const e=we(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ad(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ku(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>oo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>oo(s))).join(",")),e.ue=t}return e.ue}function zd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!SI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!t_(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!mg(i.startAt,e.startAt)&&mg(i.endAt,e.endAt)}function ld(i){return ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ba{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OI(i,e,t,s,o,u,h,m){return new Ba(i,e,t,s,o,u,h,m)}function Bd(i){return new Ba(i)}function yg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function i_(i){return i.collectionGroup!==null}function Ea(i){const e=we(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Rt(kt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Lu(u,s))})),t.has(kt.keyField().canonicalString())||e.ce.push(new Lu(kt.keyField(),s))}return e.ce}function Xn(i){const e=we(i);return e.le||(e.le=MI(e,Ea(i))),e.le}function MI(i,e){if(i.limitType==="F")return gg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lu(o.field,u)}));const t=i.endAt?new Mu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mu(i.startAt.position,i.startAt.inclusive):null;return gg(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function ud(i,e){const t=i.filters.concat([e]);return new Ba(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function cd(i,e,t){return new Ba(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Gu(i,e){return zd(Xn(i),Xn(e))&&i.limitType===e.limitType}function s_(i){return`${jd(Xn(i))}|lt:${i.limitType}`}function Ks(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>n_(o))).join(", ")}]`),Ku(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>oo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>oo(o))).join(",")),`Target(${s})`})(Xn(i))}; limitType=${i.limitType})`}function Qu(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ue.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Ea(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const v=pg(h,m,g);return h.inclusive?v<=0:v<0})(s.startAt,Ea(s),o)||s.endAt&&!(function(h,m,g){const v=pg(h,m,g);return h.inclusive?v>=0:v>0})(s.endAt,Ea(s),o))})(i,e)}function LI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function o_(i){return(e,t)=>{let s=!1;for(const o of Ea(i)){const u=bI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bI(i,e,t){const s=i.field.isKeyField()?ue.comparator(e.key,t.key):(function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?so(g,v):ge()})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ge()}}class mo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Qy(this.inner)}size(){return this.innerSize}}const FI=new Ze(ue.comparator);function Rr(){return FI}const a_=new Ze(ue.comparator);function ga(...i){let e=a_;for(const t of i)e=e.insert(t.key,t);return e}function l_(i){let e=a_;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Hi(){return Ta()}function u_(){return Ta()}function Ta(){return new mo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const UI=new Ze(ue.comparator),jI=new Rt(ue.comparator);function ke(...i){let e=jI;for(const t of i)e=e.add(t);return e}const zI=new Rt(Oe);function BI(){return zI}function $d(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function c_(i){return{integerValue:""+i}}function $I(i,e){return vI(e)?c_(e):$d(i,e)}class Yu{constructor(){this._=void 0}}function qI(i,e,t){return i instanceof xa?(function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bd(u)&&(u=Fd(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}})(t,e):i instanceof Na?d_(i,e):i instanceof Da?f_(i,e):(function(o,u){const h=h_(o,u),m=_g(h)+_g(o.Pe);return od(h)&&od(o.Pe)?c_(m):$d(o.serializer,m)})(i,e)}function HI(i,e,t){return i instanceof Na?d_(i,e):i instanceof Da?f_(i,e):t}function h_(i,e){return i instanceof bu?(function(s){return od(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xa extends Yu{}class Na extends Yu{constructor(e){super(),this.elements=e}}function d_(i,e){const t=p_(e);for(const s of i.elements)t.some((o=>Zn(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Da extends Yu{constructor(e){super(),this.elements=e}}function f_(i,e){let t=p_(e);for(const s of i.elements)t=t.filter((o=>!Zn(o,s)));return{arrayValue:{values:t}}}class bu extends Yu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function _g(i){return it(i.integerValue||i.doubleValue)}function p_(i){return Ud(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class WI{constructor(e,t){this.field=e,this.transform=t}}function KI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Na&&o instanceof Na||s instanceof Da&&o instanceof Da?io(s.elements,o.elements,Zn):s instanceof bu&&o instanceof bu?Zn(s.Pe,o.Pe):s instanceof xa&&o instanceof xa})(i.transform,e.transform)}class GI{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Xu{}function m_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new qd(i.key,Mn.none()):new $a(i.key,i.data,Mn.none());{const t=i.data,s=Zt.empty();let o=new Rt(kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new mi(i.key,s,new un(o.toArray()),Mn.none())}}function QI(i,e,t){i instanceof $a?(function(o,u,h){const m=o.value.clone(),g=wg(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,t):i instanceof mi?(function(o,u,h){if(!Tu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=wg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(g_(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Ia(i,e,t,s){return i instanceof $a?(function(u,h,m,g){if(!Tu(u.precondition,h))return m;const v=u.value.clone(),E=Eg(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,t,s):i instanceof mi?(function(u,h,m,g){if(!Tu(u.precondition,h))return m;const v=Eg(u.fieldTransforms,g,h),E=h.data;return E.setAll(g_(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(i,e,t,s):(function(u,h,m){return Tu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,t)}function YI(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=h_(s.transform,o||null);u!=null&&(t===null&&(t=Zt.empty()),t.set(s.field,u))}return t||null}function vg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,((u,h)=>KI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class $a extends Xu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mi extends Xu{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function g_(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function wg(i,e,t){const s=new Map;Fe(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,HI(h,m,t[o]))}return s}function Eg(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,qI(u,h,e))}return s}class qd extends Xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XI extends Xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QI(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ia(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ia(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=u_();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=m_(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((t,s)=>vg(t,s)))&&io(this.baseMutations,e.baseMutations,((t,s)=>vg(t,s)))}}class Hd{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length);let o=(function(){return UI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Hd(e,t,s,o)}}class ZI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eS{constructor(e,t){this.count=e,this.unchangedNames=t}}var at,Ne;function tS(i){switch(i){default:return ge();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function y_(i){if(i===void 0)return kr("GRPC error has no .code"),q.UNKNOWN;switch(i){case at.OK:return q.OK;case at.CANCELLED:return q.CANCELLED;case at.UNKNOWN:return q.UNKNOWN;case at.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case at.INTERNAL:return q.INTERNAL;case at.UNAVAILABLE:return q.UNAVAILABLE;case at.UNAUTHENTICATED:return q.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case at.NOT_FOUND:return q.NOT_FOUND;case at.ALREADY_EXISTS:return q.ALREADY_EXISTS;case at.PERMISSION_DENIED:return q.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case at.ABORTED:return q.ABORTED;case at.OUT_OF_RANGE:return q.OUT_OF_RANGE;case at.UNIMPLEMENTED:return q.UNIMPLEMENTED;case at.DATA_LOSS:return q.DATA_LOSS;default:return ge()}}(Ne=at||(at={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";function nS(){return new TextEncoder}const rS=new Wi([4294967295,4294967295],0);function Tg(i){const e=nS().encode(i),t=new zy;return t.update(e),new Uint8Array(t.digest())}function Ig(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wi([t,s],0),new Wi([o,u],0)]}class Wd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ya(`Invalid padding: ${t}`);if(s<0)throw new ya(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ya(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wi.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(Wi.fromNumber(s)));return o.compare(rS)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Tg(e),[s,o]=Ig(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wd(u,o,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.Ie===0)return;const t=Tg(e),[s,o]=Ig(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ju{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,qa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ju(ve.min(),o,new Ze(Oe),Rr(),ke())}}class qa{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new qa(s,t,ke(),ke(),ke())}}class Iu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class __{constructor(e,t){this.targetId=e,this.me=t}}class v_{constructor(e,t,s=Pt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Sg{constructor(){this.fe=0,this.ge=kg(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),s=ke();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ge()}})),new qa(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=kg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=Ag(),this.Qe=new Ze(Oe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:ge()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(ld(u))if(s===0){const h=new ue(u.path);this.Ue(t,h,Ft.newNoDocument(h,ve.min()))}else Fe(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),g=m?this.Xe(m,e,h):1;if(g!==0){this.je(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Xi(s).toUint8Array()}catch(g){if(g instanceof Yy)return ro("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Wd(h,o,u)}catch(g){return ro(g instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((u,h)=>{const m=this.Je(h);if(m){if(u.current&&ld(m.target)){const g=new ue(m.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,Ft.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}}));let s=ke();this.qe.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const v=this.Je(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ke.forEach(((u,h)=>h.setReadTime(e)));const o=new Ju(e,t,this.Qe,this.ke,s);return this.ke=Rr(),this.qe=Ag(),this.Qe=new Ze(Oe),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Sg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Rt(Oe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ag(){return new Ze(ue.comparator)}function kg(){return new Ze(ue.comparator)}const sS={asc:"ASCENDING",desc:"DESCENDING"},oS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aS={and:"AND",or:"OR"};class lS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hd(i,e){return i.useProto3Json||Ku(e)?e:{value:e}}function Fu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function uS(i,e){return Fu(i,e.toTimestamp())}function Jn(i){return Fe(!!i),ve.fromTimestamp((function(t){const s=fi(t);return new pt(s.seconds,s.nanos)})(i))}function Kd(i,e){return dd(i,e).canonicalString()}function dd(i,e){const t=(function(o){return new Ke(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function E_(i){const e=Ke.fromString(i);return Fe(k_(e)),e}function fd(i,e){return Kd(i.databaseId,e.path)}function Hh(i,e){const t=E_(e);if(t.get(1)!==i.databaseId.projectId)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ue(I_(t))}function T_(i,e){return Kd(i.databaseId,e)}function cS(i){const e=E_(i);return e.length===4?Ke.emptyPath():I_(e)}function pd(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function I_(i){return Fe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Rg(i,e,t){return{name:fd(i,e),fields:t.value.mapValue.fields}}function hS(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ge()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(Fe(E===void 0||typeof E=="string"),Pt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Pt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const E=v.code===void 0?q.UNKNOWN:y_(v.code);return new ie(E,v.message||"")})(h);t=new v_(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hh(i,s.document.name),u=Jn(s.document.updateTime),h=s.document.createTime?Jn(s.document.createTime):ve.min(),m=new Zt({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,h,m),v=s.targetIds||[],E=s.removedTargetIds||[];t=new Iu(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hh(i,s.document),u=s.readTime?Jn(s.readTime):ve.min(),h=Ft.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Iu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hh(i,s.document),u=s.removedTargetIds||[];t=new Iu([],u,o,null)}else{if(!("filter"in e))return ge();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new eS(o,u),m=s.targetId;t=new __(m,h)}}return t}function dS(i,e){let t;if(e instanceof $a)t={update:Rg(i,e.key,e.value)};else if(e instanceof qd)t={delete:fd(i,e.key)};else if(e instanceof mi)t={update:Rg(i,e.key,e.data),updateMask:ES(e.fieldMask)};else{if(!(e instanceof XI))return ge();t={verify:fd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof xa)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Na)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Da)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bu)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw ge()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:uS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ge()})(i,e.precondition)),t}function fS(i,e){return i&&i.length>0?(Fe(e!==void 0),i.map((t=>(function(o,u){let h=o.updateTime?Jn(o.updateTime):Jn(u);return h.isEqual(ve.min())&&(h=Jn(u)),new GI(h,o.transformResults||[])})(t,e)))):[]}function pS(i,e){return{documents:[T_(i,e.path)]}}function mS(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=T_(i,o);const u=(function(v){if(v.length!==0)return A_(Ln.create(v,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((E=>(function(D){return{field:Gs(D.field),direction:_S(D.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=hd(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:t,parent:o}}function gS(i){let e=cS(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(R){const D=S_(R);return D instanceof Ln&&e_(D)?D.getFilters():[D]})(t.where));let h=[];t.orderBy&&(h=(function(R){return R.map((D=>(function(G){return new Lu(Qs(G.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(D)))})(t.orderBy));let m=null;t.limit&&(m=(function(R){let D;return D=typeof R=="object"?R.value:R,Ku(D)?null:D})(t.limit));let g=null;t.startAt&&(g=(function(R){const D=!!R.before,j=R.values||[];return new Mu(j,D)})(t.startAt));let v=null;return t.endAt&&(v=(function(R){const D=!R.before,j=R.values||[];return new Mu(j,D)})(t.endAt)),OI(e,o,h,u,m,"F",g,v)}function yS(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function S_(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Qs(t.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(t.unaryFilter.field);return lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(t.unaryFilter.field);return lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qs(t.unaryFilter.field);return lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return ge()}})(i):i.fieldFilter!==void 0?(function(t){return lt.create(Qs(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Ln.create(t.compositeFilter.filters.map((s=>S_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge()}})(t.compositeFilter.op))})(i):ge()}function _S(i){return sS[i]}function vS(i){return oS[i]}function wS(i){return aS[i]}function Gs(i){return{fieldPath:i.canonicalString()}}function Qs(i){return kt.fromServerFormat(i.fieldPath)}function A_(i){return i instanceof lt?(function(t){if(t.op==="=="){if(fg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(dg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(dg(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:vS(t.op),value:t.value}}})(i):i instanceof Ln?(function(t){const s=t.getFilters().map((o=>A_(o)));return s.length===1?s[0]:{compositeFilter:{op:wS(t.op),filters:s}}})(i):ge()}function ES(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function k_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class oi{constructor(e,t,s,o,u=ve.min(),h=ve.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TS{constructor(e){this.ct=e}}function IS(i){const e=gS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?cd(e,e.limit,"L"):e}class SS{constructor(){this.un=new AS}addToCollectionParentIndex(e,t){return this.un.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(di.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class AS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Rt(Ke.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(Ke.comparator)).toArray()}}class ao{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ao(0)}static kn(){return new ao(-1)}}class kS{constructor(){this.changes=new mo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class CS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Ia(s.mutation,o,un.empty(),pt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=Hi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=ga();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=Hi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,o){let u=Rr();const h=Ta(),m=(function(){return Ta()})();return t.forEach(((g,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof mi)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Ia(E.mutation,v,E.mutation.getFieldMask(),pt.now())):h.set(v.key,un.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,E)=>h.set(v,E))),t.forEach(((v,E)=>{var R;return m.set(v,new RS(E,(R=h.get(v))!==null&&R!==void 0?R:null))})),m)))}recalculateAndSaveOverlays(e,t){const s=Ta();let o=new Ze(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((g=>{const v=t.get(g);if(v===null)return;let E=s.get(g)||un.empty();E=m.applyToLocalView(v,E),s.set(g,E);const R=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,R)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,E=g.value,R=u_();E.forEach((D=>{if(!u.has(D)){const j=m_(t.get(D),s.get(D));j!==null&&R.set(D,j),u=u.add(D)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,R))}return K.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ue.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):K.resolve(Hi());let m=-1,g=u;return h.next((v=>K.forEach(v,((E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(E)?K.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{g=g.insert(E,D)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,ke()))).next((E=>({batchId:m,changes:l_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next((s=>{let o=ga();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ga();return this.indexManager.getCollectionParents(e,u).next((m=>K.forEach(m,(g=>{const v=(function(R,D){return new Ba(D,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((E=>{E.forEach(((R,D)=>{h=h.insert(R,D)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,Ft.newInvalidDocument(E)))}));let m=ga();return h.forEach(((g,v)=>{const E=u.get(g);E!==void 0&&Ia(E.mutation,v,un.empty(),pt.now()),Qu(t,v)&&(m=m.insert(g,v))})),m}))}}class PS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return K.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Jn(o.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:IS(o.bundledQuery),readTime:Jn(o.readTime)}})(t)),K.resolve()}}class xS{constructor(){this.overlays=new Ze(ue.comparator),this.Ir=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hi();return K.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.ht(e,t,u)})),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=Hi(),u=t.length+1,h=new ue(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Ze(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=Hi(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=Hi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,E)=>m.set(v,E))),!(m.size()>=o)););return K.resolve(m)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ZI(t,s));let u=this.Ir.get(t);u===void 0&&(u=ke(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}class NS{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class Gd{constructor(){this.Tr=new Rt(wt.Er),this.dr=new Rt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new wt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new wt(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new ue(new Ke([])),s=new wt(t,e),o=new wt(t,e+1),u=[];return this.dr.forEachInRange([s,o],(h=>{this.Vr(h),u.push(h.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ue(new Ke([])),s=new wt(t,e),o=new wt(t,e+1);let u=ke();return this.dr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new wt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ue.comparator(e.key,t.key)||Oe(e.wr,t.wr)}static Ar(e,t){return Oe(e.wr,t.wr)||ue.comparator(e.key,t.key)}}class DS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Rt(wt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new JI(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.br=this.br.add(new wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wt(t,0),o=new wt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],(h=>{const m=this.Dr(h.wr);u.push(m)})),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Rt(Oe);return t.forEach((o=>{const u=new wt(o,0),h=new wt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],(m=>{s=s.add(m.wr)}))})),K.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ue.isDocumentKey(u)||(u=u.child(""));const h=new wt(new ue(u),0);let m=new Rt(Oe);return this.br.forEachWhile((g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(m=m.add(g.wr)),!0)}),h),K.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Fe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return K.forEach(t.mutations,(o=>{const u=new wt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new wt(t,0),o=this.br.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VS{constructor(e){this.Mr=e,this.docs=(function(){return new Ze(ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=Rr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Rr();const h=t.path,m=new ue(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||mI(pI(E),s)<=0||(o.has(E.key)||Qu(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,t,s,o){ge()}Or(e,t){return K.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new OS(this)}getSize(e){return K.resolve(this.size)}}class OS extends kS{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),K.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class MS{constructor(e){this.persistence=e,this.Nr=new mo((t=>jd(t)),zd),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gd,this.targetCount=0,this.kr=ao.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),K.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ao(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Kn(t),K.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),K.waitFor(u).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),K.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.Br.containsKey(t))}}class LS{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ld(0),this.Kr=!1,this.Kr=!0,this.$r=new NS,this.referenceDelegate=e(this),this.Ur=new MS(this),this.indexManager=new SS,this.remoteDocumentCache=(function(o){return new VS(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new TS(t),this.Gr=new PS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new DS(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){oe("MemoryPersistence","Starting transaction:",e);const o=new bS(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,t){return K.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class bS extends yI{constructor(e){super(),this.currentSequenceNumber=e}}class Qd{constructor(e){this.persistence=e,this.Jr=new Gd,this.Yr=null}static Zr(e){return new Qd(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),K.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,(s=>{const o=ue.fromPath(s);return this.ei(e,o).next((u=>{u||t.removeEntry(o,ve.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return K.or([()=>K.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Yd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yd(e,t.fromCache,s,o)}}class FS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class US{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return F0()?8:_I(Ut())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.Zi(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new FS;return this.Xi(e,t,h).next((m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)}))})).next((()=>u.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(fa()<=Ce.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(fa()<=Ce.DEBUG&&oe("QueryEngine","Query:",Ks(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(fa()<=Ce.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(t))):K.resolve())}Yi(e,t){if(yg(t))return K.resolve(null);let s=Xn(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=cd(t,null,"F"),s=Xn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.Ji.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const v=this.ts(t,m);return this.ns(t,v,h,g.readTime)?this.Yi(e,cd(t,null,"F")):this.rs(e,v,t,g)}))))})))))}Zi(e,t,s,o){return yg(t)||o.isEqual(ve.min())?K.resolve(null):this.Ji.getDocuments(e,s).next((u=>{const h=this.ts(t,u);return this.ns(t,h,s,o)?K.resolve(null):(fa()<=Ce.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(t)),this.rs(e,h,t,fI(o,-1)).next((m=>m)))}))}ts(e,t){let s=new Rt(o_(e));return t.forEach(((o,u)=>{Qu(e,u)&&(s=s.add(u))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return fa()<=Ce.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ks(t)),this.Ji.getDocumentsMatchingQuery(e,t,di.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}class jS{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new Ze(Oe),this._s=new mo((u=>jd(u)),zd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function zS(i,e,t,s){return new jS(i,e,t,s)}async function R_(i,e){const t=we(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=ke();for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next((v=>({hs:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function BS(i,e){const t=we(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return(function(m,g,v,E){const R=v.batch,D=R.keys();let j=K.resolve();return D.forEach((G=>{j=j.next((()=>E.getEntry(g,G))).next((Y=>{const B=v.docVersions.get(G);Fe(B!==null),Y.version.compareTo(B)<0&&(R.applyToRemoteDocument(Y,v),Y.isValidDocument()&&(Y.setReadTime(v.commitVersion),E.addEntry(Y)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,R)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function C_(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function $S(i,e){const t=we(i),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach(((E,R)=>{const D=o.get(R);if(!D)return;m.push(t.Ur.removeMatchingKeys(u,E.removedDocuments,R).next((()=>t.Ur.addMatchingKeys(u,E.addedDocuments,R))));let j=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?j=j.withResumeToken(Pt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(R,j),(function(Y,B,fe){return Y.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(D,j,E)&&m.push(t.Ur.updateTargetData(u,j))}));let g=Rr(),v=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(qS(u,h,e.documentUpdates).next((E=>{g=E.Ps,v=E.Is}))),!s.isEqual(ve.min())){const E=t.Ur.getLastRemoteSnapshotVersion(u).next((R=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return K.waitFor(m).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(t.os=o,u)))}function qS(i,e,t){let s=ke(),o=ke();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Rr();return t.forEach(((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)})),{Ps:h,Is:o}}))}function HS(i,e){const t=we(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WS(i,e){const t=we(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((u=>u?(o=u,K.resolve(o)):t.Ur.allocateTargetId(s).next((h=>(o=new oi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function md(i,e,t){const s=we(i),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!za(h))throw h;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Cg(i,e,t){const s=we(i);let o=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,E){const R=we(g),D=R._s.get(E);return D!==void 0?K.resolve(R.os.get(D)):R.Ur.getTargetData(v,E)})(s,h,Xn(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:ve.min(),t?u:ke()))).next((m=>(KS(s,LI(e),m),{documents:m,Ts:u})))))}function KS(i,e,t){let s=i.us.get(e)||ve.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.us.set(e,s)}class Pg{constructor(){this.activeTargetIds=BI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GS{constructor(){this.so=new Pg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QS{_o(e){}shutdown(){}}class xg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pu=null;function Wh(){return pu===null?pu=(function(){return 268435456+Math.round(2147483648*Math.random())})():pu++,"0x"+pu.toString(16)}const YS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Lt="WebChannelConnection";class JS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,h){const m=Wh(),g=this.xo(t,s.toUriEncodedString());oe("RestConnection",`Sending RPC '${t}' ${m}:`,g,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,u,h),this.No(t,g,v,o).then((E=>(oe("RestConnection",`Received RPC '${t}' ${m}: `,E),E)),(E=>{throw ro("RestConnection",`RPC '${t}' ${m} failed with error: `,E,"url: ",g,"request:",o),E}))}Lo(t,s,o,u,h,m){return this.Mo(t,s,o,u,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,h)=>t[h]=u)),o&&o.headers.forEach(((u,h)=>t[h]=u))}xo(t,s){const o=YS[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=Wh();return new Promise(((h,m)=>{const g=new By;g.setWithCredentials(!0),g.listenOnce($y.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wu.NO_ERROR:const E=g.getResponseJson();oe(Lt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case wu.TIMEOUT:oe(Lt,`RPC '${e}' ${u} timed out`),m(new ie(q.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:const R=g.getStatus();if(oe(Lt,`RPC '${e}' ${u} failed with status:`,R,"response text:",g.getResponseText()),R>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const G=(function(B){const fe=B.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(fe)>=0?fe:q.UNKNOWN})(j.status);m(new ie(G,j.message))}else m(new ie(q.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ie(q.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{oe(Lt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);oe(Lt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)}))}Bo(e,t,s){const o=Wh(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Wy(),m=Hy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=u.join("");oe(Lt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const R=h.createWebChannel(E,g);let D=!1,j=!1;const G=new XS({Io:B=>{j?oe(Lt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(D||(oe(Lt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),D=!0),oe(Lt,`RPC '${e}' stream ${o} sending:`,B),R.send(B))},To:()=>R.close()}),Y=(B,fe,_e)=>{B.listen(fe,(ye=>{try{_e(ye)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return Y(R,ma.EventType.OPEN,(()=>{j||(oe(Lt,`RPC '${e}' stream ${o} transport opened.`),G.yo())})),Y(R,ma.EventType.CLOSE,(()=>{j||(j=!0,oe(Lt,`RPC '${e}' stream ${o} transport closed`),G.So())})),Y(R,ma.EventType.ERROR,(B=>{j||(j=!0,ro(Lt,`RPC '${e}' stream ${o} transport errored:`,B),G.So(new ie(q.UNAVAILABLE,"The operation could not be completed")))})),Y(R,ma.EventType.MESSAGE,(B=>{var fe;if(!j){const _e=B.data[0];Fe(!!_e);const ye=_e,Ee=ye.error||((fe=ye[0])===null||fe===void 0?void 0:fe.error);if(Ee){oe(Lt,`RPC '${e}' stream ${o} received error:`,Ee);const ze=Ee.status;let Te=(function(T){const C=at[T];if(C!==void 0)return y_(C)})(ze),N=Ee.message;Te===void 0&&(Te=q.INTERNAL,N="Unknown error status: "+ze+" with message "+Ee.message),j=!0,G.So(new ie(Te,N)),R.close()}else oe(Lt,`RPC '${e}' stream ${o} received:`,_e),G.bo(_e)}})),Y(m,qy.STAT_EVENT,(B=>{B.stat===id.PROXY?oe(Lt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===id.NOPROXY&&oe(Lt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.wo()}),0),G}}function Kh(){return typeof document<"u"?document:null}function Zu(i){return new lS(i,!0)}class P_{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class x_{constructor(e,t,s,o,u,h,m,g){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new P_(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new ie(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZS extends x_{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=hS(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ve.min():h.readTime?Jn(h.readTime):ve.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=pd(this.serializer),t.addTarget=(function(u,h){let m;const g=h.target;if(m=ld(g)?{documents:pS(u,g)}:{query:mS(u,g)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=w_(u,h.resumeToken);const v=hd(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(ve.min())>0){m.readTime=Fu(u,h.snapshotVersion.toTimestamp());const v=hd(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=yS(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=pd(this.serializer),t.removeTarget=e,this.a_(t)}}class eA extends x_{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=fS(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=pd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>dS(this.serializer,s)))};this.a_(t)}}class tA extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Mo(e,dd(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(q.UNKNOWN,u.toString())}))}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Lo(e,dd(t,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ie(q.UNKNOWN,h.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class nA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kr(t),this.D_=!1):oe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class rA{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((h=>{s.enqueueAndForget((async()=>{es(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const v=we(g);v.L_.add(4),await Ha(v),v.q_.set("Unknown"),v.L_.delete(4),await ec(v)})(this))}))})),this.q_=new nA(s,o)}}async function ec(i){if(es(i))for(const e of i.B_)await e(!0)}async function Ha(i){for(const e of i.B_)await e(!1)}function N_(i,e){const t=we(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),ef(t)?Zd(t):go(t).r_()&&Jd(t,e))}function Xd(i,e){const t=we(i),s=go(t);t.N_.delete(e),s.r_()&&D_(t,e),t.N_.size===0&&(s.r_()?s.o_():es(t)&&t.q_.set("Unknown"))}function Jd(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}go(i).A_(e)}function D_(i,e){i.Q_.xe(e),go(i).R_(e)}function Zd(i){i.Q_=new iS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),go(i).start(),i.q_.v_()}function ef(i){return es(i)&&!go(i).n_()&&i.N_.size>0}function es(i){return we(i).L_.size===0}function V_(i){i.Q_=void 0}async function iA(i){i.q_.set("Online")}async function sA(i){i.N_.forEach(((e,t)=>{Jd(i,e)}))}async function oA(i,e){V_(i),ef(i)?(i.q_.M_(e),Zd(i)):i.q_.set("Unknown")}async function aA(i,e,t){if(i.q_.set("Online"),e instanceof v_&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.N_.delete(m),o.Q_.removeTarget(m))})(i,e)}catch(s){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uu(i,s)}else if(e instanceof Iu?i.Q_.Ke(e):e instanceof __?i.Q_.He(e):i.Q_.We(e),!t.isEqual(ve.min()))try{const s=await C_(i.localStore);t.compareTo(s)>=0&&await(function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.N_.get(v);E&&u.N_.set(v,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,v)=>{const E=u.N_.get(g);if(!E)return;u.N_.set(g,E.withResumeToken(Pt.EMPTY_BYTE_STRING,E.snapshotVersion)),D_(u,g);const R=new oi(E.target,g,v,E.sequenceNumber);Jd(u,R)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){oe("RemoteStore","Failed to raise snapshot:",s),await Uu(i,s)}}async function Uu(i,e,t){if(!za(e))throw e;i.L_.add(1),await Ha(i),i.q_.set("Offline"),t||(t=()=>C_(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),i.L_.delete(1),await ec(i)}))}function O_(i,e){return e().catch((t=>Uu(i,t,e)))}async function tc(i){const e=we(i),t=pi(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lA(e);)try{const o=await HS(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,uA(e,o)}catch(o){await Uu(e,o)}M_(e)&&L_(e)}function lA(i){return es(i)&&i.O_.length<10}function uA(i,e){i.O_.push(e);const t=pi(i);t.r_()&&t.V_&&t.m_(e.mutations)}function M_(i){return es(i)&&!pi(i).n_()&&i.O_.length>0}function L_(i){pi(i).start()}async function cA(i){pi(i).p_()}async function hA(i){const e=pi(i);for(const t of i.O_)e.m_(t.mutations)}async function dA(i,e,t){const s=i.O_.shift(),o=Hd.from(s,e,t);await O_(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await tc(i)}async function fA(i,e){e&&pi(i).V_&&await(async function(s,o){if((function(h){return tS(h)&&h!==q.ABORTED})(o.code)){const u=s.O_.shift();pi(s).s_(),await O_(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tc(s)}})(i,e),M_(i)&&L_(i)}async function Ng(i,e){const t=we(i);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const s=es(t);t.L_.add(3),await Ha(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await ec(t)}async function pA(i,e){const t=we(i);e?(t.L_.delete(2),await ec(t)):e||(t.L_.add(2),await Ha(t),t.q_.set("Unknown"))}function go(i){return i.K_||(i.K_=(function(t,s,o){const u=we(t);return u.w_(),new ZS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Eo:iA.bind(null,i),Ro:sA.bind(null,i),mo:oA.bind(null,i),d_:aA.bind(null,i)}),i.B_.push((async e=>{e?(i.K_.s_(),ef(i)?Zd(i):i.q_.set("Unknown")):(await i.K_.stop(),V_(i))}))),i.K_}function pi(i){return i.U_||(i.U_=(function(t,s,o){const u=we(t);return u.w_(),new eA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cA.bind(null,i),mo:fA.bind(null,i),f_:hA.bind(null,i),g_:dA.bind(null,i)}),i.B_.push((async e=>{e?(i.U_.s_(),await tc(i)):(await i.U_.stop(),i.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))}))),i.U_}class tf{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new tf(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nf(i,e){if(kr("AsyncQueue",`${e}: ${i}`),za(i))return new ie(q.UNAVAILABLE,`${e}: ${i}`);throw i}class to{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ue.comparator(t.key,s.key):(t,s)=>ue.comparator(t.key,s.key),this.keyedMap=ga(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new to(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Dg{constructor(){this.W_=new Ze(ue.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class lo{constructor(e,t,s,o,u,h,m,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new lo(e,t,to.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class mA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class gA{constructor(){this.queries=Vg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=we(t),u=o.queries;o.queries=Vg(),u.forEach(((h,m)=>{for(const g of m.j_)g.onError(s)}))})(this,new ie(q.ABORTED,"Firestore shutting down"))}}function Vg(){return new mo((i=>s_(i)),Gu)}async function yA(i,e){const t=we(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new mA,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=nf(h,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&rf(t)}async function _A(i,e){const t=we(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function vA(i,e){const t=we(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(o)&&(s=!0);h.z_=o}}s&&rf(t)}function wA(i,e,t){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function rf(i){i.Y_.forEach((e=>{e.next()}))}var gd,Og;(Og=gd||(gd={})).ea="default",Og.Cache="cache";class EA{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gd.Cache}}class b_{constructor(e){this.key=e}}class F_{constructor(e){this.key=e}}class TA{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=o_(e),this.Ra=new to(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new Dg,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,R)=>{const D=o.get(E),j=Qu(this.query,R)?R:null,G=!!D&&this.mutatedKeys.has(D.key),Y=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;D&&j?D.data.isEqual(j.data)?G!==Y&&(s.track({type:3,doc:j}),B=!0):this.ga(D,j)||(s.track({type:2,doc:j}),B=!0,(g&&this.Aa(j,g)>0||v&&this.Aa(j,v)<0)&&(m=!0)):!D&&j?(s.track({type:0,doc:j}),B=!0):D&&!j&&(s.track({type:1,doc:D}),B=!0,(g||v)&&(m=!0)),B&&(j?(h=h.add(j),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(((E,R)=>(function(j,G){const Y=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return Y(j)-Y(G)})(E.type,R.type)||this.Aa(E.doc,R.doc))),this.pa(s),o=o!=null&&o;const m=t&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,v=g!==this.Ea;return this.Ea=g,h.length!==0||v?{snapshot:new lo(this.query,e.Ra,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new F_(s))})),this.da.forEach((s=>{e.has(s)||t.push(new b_(s))})),t}ba(e){this.Ta=e.Ts,this.da=ke();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return lo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class SA{constructor(e){this.key=e,this.va=!1}}class AA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new mo((m=>s_(m)),Gu),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(ue.comparator),this.Na=new Map,this.La=new Gd,this.Ba={},this.ka=new Map,this.qa=ao.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kA(i,e,t=!0){const s=q_(i);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await U_(s,e,t,!0),o}async function RA(i,e){const t=q_(i);await U_(t,e,!0,!1)}async function U_(i,e,t,s){const o=await WS(i.localStore,Xn(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await CA(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&N_(i.remoteStore,o),m}async function CA(i,e,t,s,o){i.Ka=(R,D,j)=>(async function(Y,B,fe,_e){let ye=B.view.ma(fe);ye.ns&&(ye=await Cg(Y.localStore,B.query,!1).then((({documents:N})=>B.view.ma(N,ye))));const Ee=_e&&_e.targetChanges.get(B.targetId),ze=_e&&_e.targetMismatches.get(B.targetId)!=null,Te=B.view.applyChanges(ye,Y.isPrimaryClient,Ee,ze);return Lg(Y,B.targetId,Te.wa),Te.snapshot})(i,R,D,j);const u=await Cg(i.localStore,e,!0),h=new TA(e,u.Ts),m=h.ma(u.documents),g=qa.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),v=h.applyChanges(m,i.isPrimaryClient,g);Lg(i,t,v.wa);const E=new IA(e,t,h);return i.Fa.set(e,E),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),v.snapshot}async function PA(i,e,t){const s=we(i),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter((h=>!Gu(h,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await md(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Xd(s.remoteStore,o.targetId),yd(s,o.targetId)})).catch(ja)):(yd(s,o.targetId),await md(s.localStore,o.targetId,!0))}async function xA(i,e){const t=we(i),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Xd(t.remoteStore,s.targetId))}async function NA(i,e,t){const s=FA(i);try{const o=await(function(h,m){const g=we(h),v=pt.now(),E=m.reduce(((j,G)=>j.add(G.key)),ke());let R,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=Rr(),Y=ke();return g.cs.getEntries(j,E).next((B=>{G=B,G.forEach(((fe,_e)=>{_e.isValidDocument()||(Y=Y.add(fe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,G))).next((B=>{R=B;const fe=[];for(const _e of m){const ye=YI(_e,R.get(_e.key).overlayedDocument);ye!=null&&fe.push(new mi(_e.key,ye,Xy(ye.value.mapValue),Mn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,v,fe,m)})).next((B=>{D=B;const fe=B.applyToLocalDocumentSet(R,Y);return g.documentOverlayCache.saveOverlays(j,B.batchId,fe)}))})).then((()=>({batchId:D.batchId,changes:l_(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let v=h.Ba[h.currentUser.toKey()];v||(v=new Ze(Oe)),v=v.insert(m,g),h.Ba[h.currentUser.toKey()]=v})(s,o.batchId,t),await Wa(s,o.changes),await tc(s.remoteStore)}catch(o){const u=nf(o,"Failed to persist write");t.reject(u)}}async function j_(i,e){const t=we(i);try{const s=await $S(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Na.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?Fe(h.va):o.removedDocuments.size>0&&(Fe(h.va),h.va=!1))})),await Wa(t,s,e)}catch(s){await ja(s)}}function Mg(i,e,t){const s=we(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((u,h)=>{const m=h.view.Z_(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=we(h);g.onlineState=m;let v=!1;g.queries.forEach(((E,R)=>{for(const D of R.j_)D.Z_(m)&&(v=!0)})),v&&rf(g)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function DA(i,e,t){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let h=new Ze(ue.comparator);h=h.insert(u,Ft.newNoDocument(u,ve.min()));const m=ke().add(u),g=new Ju(ve.min(),new Map,new Ze(Oe),h,m);await j_(s,g),s.Oa=s.Oa.remove(u),s.Na.delete(e),sf(s)}else await md(s.localStore,e,!1).then((()=>yd(s,e,t))).catch(ja)}async function VA(i,e){const t=we(i),s=e.batch.batchId;try{const o=await BS(t.localStore,e);B_(t,s,null),z_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Wa(t,o)}catch(o){await ja(o)}}async function OA(i,e,t){const s=we(i);try{const o=await(function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return g.mutationQueue.lookupMutationBatch(v,m).next((R=>(Fe(R!==null),E=R.keys(),g.mutationQueue.removeMutationBatch(v,R)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>g.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);B_(s,e,t),z_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Wa(s,o)}catch(o){await ja(o)}}function z_(i,e){(i.ka.get(e)||[]).forEach((t=>{t.resolve()})),i.ka.delete(e)}function B_(i,e,t){const s=we(i);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function yd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),t&&i.Ca.$a(s,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach((s=>{i.La.containsKey(s)||$_(i,s)}))}function $_(i,e){i.xa.delete(e.path.canonicalString());const t=i.Oa.get(e);t!==null&&(Xd(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),sf(i))}function Lg(i,e,t){for(const s of t)s instanceof b_?(i.La.addReference(s.key,e),MA(i,s)):s instanceof F_?(oe("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||$_(i,s.key)):ge()}function MA(i,e){const t=e.key,s=t.path.canonicalString();i.Oa.get(t)||i.xa.has(s)||(oe("SyncEngine","New document in limbo: "+t),i.xa.add(s),sf(i))}function sf(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const t=new ue(Ke.fromString(e)),s=i.qa.next();i.Na.set(s,new SA(t)),i.Oa=i.Oa.insert(t,s),N_(i.remoteStore,new oi(Xn(Bd(t.path)),s,"TargetPurposeLimboResolution",Ld.oe))}}async function Wa(i,e,t){const s=we(i),o=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach(((m,g)=>{h.push(s.Ka(g,e,t).then((v=>{var E;if((v||t)&&s.isPrimaryClient){const R=v?!v.fromCache:(E=t?.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(v){o.push(v);const R=Yd.Wi(g.targetId,v);u.push(R)}})))})),await Promise.all(h),s.Ca.d_(o),await(async function(g,v){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>K.forEach(v,(D=>K.forEach(D.$i,(j=>E.persistence.referenceDelegate.addReference(R,D.targetId,j))).next((()=>K.forEach(D.Ui,(j=>E.persistence.referenceDelegate.removeReference(R,D.targetId,j)))))))))}catch(R){if(!za(R))throw R;oe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of v){const D=R.targetId;if(!R.fromCache){const j=E.os.get(D),G=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion(G);E.os=E.os.insert(D,Y)}}})(s.localStore,u))}async function LA(i,e){const t=we(i);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const s=await R_(t.localStore,e);t.currentUser=e,(function(u,h){u.ka.forEach((m=>{m.forEach((g=>{g.reject(new ie(q.CANCELLED,h))}))})),u.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wa(t,s.hs)}}function bA(i,e){const t=we(i),s=t.Na.get(e);if(s&&s.va)return ke().add(s.key);{let o=ke();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const m=t.Fa.get(h);o=o.unionWith(m.view.Va)}return o}}function q_(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=j_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DA.bind(null,e),e.Ca.d_=vA.bind(null,e.eventManager),e.Ca.$a=wA.bind(null,e.eventManager),e}function FA(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OA.bind(null,e),e}class ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return zS(this.persistence,new US,e.initialUser,this.serializer)}Ga(e){return new LS(Qd.Zr,this.serializer)}Wa(e){return new GS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ju.provider={build:()=>new ju};class _d{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LA.bind(null,this.syncEngine),await pA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gA})()}createDatastore(e){const t=Zu(e.databaseInfo.databaseId),s=(function(u){return new JS(u)})(e.databaseInfo);return(function(u,h,m,g){return new tA(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,m){return new rA(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>Mg(this.syncEngine,t,0)),(function(){return xg.D()?new xg:new QS})())}createSyncEngine(e,t){return(function(o,u,h,m,g,v,E){const R=new AA(o,u,h,m,g,v);return E&&(R.Qa=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=we(o);oe("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Ha(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_d.provider={build:()=>new _d};class UA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class jA{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=bt.UNAUTHENTICATED,this.clientId=Gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{oe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(oe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=nf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Gh(i,e){i.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await R_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function bg(i,e){i.asyncQueue.verifyOperationInProgress();const t=await zA(i);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>Ng(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Ng(e.remoteStore,o))),i._onlineComponents=e}async function zA(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===q.FAILED_PRECONDITION||o.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ro("Error using user provided cache. Falling back to memory cache: "+t),await Gh(i,new ju)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Gh(i,new ju);return i._offlineComponents}async function H_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await bg(i,i._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await bg(i,new _d))),i._onlineComponents}function BA(i){return H_(i).then((e=>e.syncEngine))}async function Fg(i){const e=await H_(i),t=e.eventManager;return t.onListen=kA.bind(null,e.syncEngine),t.onUnlisten=PA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xA.bind(null,e.syncEngine),t}function W_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ug=new Map;function K_(i,e,t){if(!t)throw new ie(q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $A(i,e,t,s){if(e===!0&&s===!0)throw new ie(q.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function jg(i){if(!ue.isDocumentKey(i))throw new ie(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function zg(i){if(ue.isDocumentKey(i))throw new ie(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nc(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ge()}function ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ie(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nc(i);throw new ie(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class Bg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bg(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iI;switch(s.type){case"firstParty":return new lI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Ug.get(t);s&&(oe("ComponentProvider","Removing Datastore"),Ug.delete(t),s.terminate())})(this),Promise.resolve()}}function qA(i,e,t,s={}){var o;const u=(i=ci(i,rc))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=bt.MOCK_USER;else{m=N0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ie(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new bt(v)}i._authCredentials=new sI(new Ky(m,g))}}class yo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class en{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class hi extends yo{constructor(e,t,s){super(e,t,Bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ue(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function $g(i,e,...t){if(i=Ct(i),K_("collection","path",e),i instanceof rc){const s=Ke.fromString(e,...t);return zg(s),new hi(i,null,s)}{if(!(i instanceof en||i instanceof hi))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...t));return zg(s),new hi(i.firestore,null,s)}}function Su(i,e,...t){if(i=Ct(i),arguments.length===1&&(e=Gy.newId()),K_("doc","path",e),i instanceof rc){const s=Ke.fromString(e,...t);return jg(s),new en(i,null,new ue(s))}{if(!(i instanceof en||i instanceof hi))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...t));return jg(s),new en(i.firestore,i instanceof hi?i.converter:null,new ue(s))}}class qg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new P_(this,"async_queue_retry"),this.Vu=()=>{const s=Kh();s&&oe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Kh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Kh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ki;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!za(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m})(s);throw kr("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=tf.createAndSchedule(this,e,t,s,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Hg(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class uo extends rc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new qg,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qg(e),this._firestoreClient=void 0,await e}}}function HA(i,e){const t=typeof i=="object"?i:oy(),s=typeof i=="string"?i:"(default)",o=Ad(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=P0("firestore");u&&qA(o,...u)}return o}function G_(i){if(i._terminated)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WA(i),i._firestoreClient}function WA(i){var e,t,s;const o=i._freezeSettings(),u=(function(m,g,v,E){return new EI(m,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,W_(E.experimentalLongPollingOptions),E.useFetchStreams)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new jA(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const g=m?._online.build();return{_offline:m?._offline.build(g),_online:g}})(i._componentsProvider))}class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Pt.fromBase64String(e))}catch(t){throw new ie(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new co(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ic{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sc{constructor(e){this._methodName=e}}class of{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}class af{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}}const KA=/^__.*__$/;class GA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new $a(e,this.data,t,this.fieldTransforms)}}class Q_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new mi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Y_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class lf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Y_(this.Cu)&&KA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class QA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Zu(e)}Qu(e,t,s,o=!1){return new lf({Cu:e,methodName:t,qu:s,path:kt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uf(i){const e=i._freezeSettings(),t=Zu(i._databaseId);return new QA(i._databaseId,!!e.ignoreUndefinedProperties,t)}function YA(i,e,t,s,o,u={}){const h=i.Qu(u.merge||u.mergeFields?2:0,e,t,o);hf("Data must be an object, but it was:",h,s);const m=X_(s,h);let g,v;if(u.merge)g=new un(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const D=vd(e,R,t);if(!h.contains(D))throw new ie(q.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);Z_(E,D)||E.push(D)}g=new un(E),v=h.fieldTransforms.filter((R=>g.covers(R.field)))}else g=null,v=h.fieldTransforms;return new GA(new Zt(m),g,v)}class oc extends sc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oc}}class cf extends sc{_toFieldTransform(e){return new WI(e.path,new xa)}isEqual(e){return e instanceof cf}}function XA(i,e,t,s){const o=i.Qu(1,e,t);hf("Data must be an object, but it was:",o,s);const u=[],h=Zt.empty();Zi(s,((g,v)=>{const E=df(e,g,t);v=Ct(v);const R=o.Nu(E);if(v instanceof oc)u.push(E);else{const D=Ka(v,R);D!=null&&(u.push(E),h.set(E,D))}}));const m=new un(u);return new Q_(h,m,o.fieldTransforms)}function JA(i,e,t,s,o,u){const h=i.Qu(1,e,t),m=[vd(e,s,t)],g=[o];if(u.length%2!=0)throw new ie(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)m.push(vd(e,u[D])),g.push(u[D+1]);const v=[],E=Zt.empty();for(let D=m.length-1;D>=0;--D)if(!Z_(v,m[D])){const j=m[D];let G=g[D];G=Ct(G);const Y=h.Nu(j);if(G instanceof oc)v.push(j);else{const B=Ka(G,Y);B!=null&&(v.push(j),E.set(j,B))}}const R=new un(v);return new Q_(E,R,h.fieldTransforms)}function ZA(i,e,t,s=!1){return Ka(t,i.Qu(s?4:3,e))}function Ka(i,e){if(J_(i=Ct(i)))return hf("Unsupported field value:",e,i),X_(i,e);if(i instanceof sc)return(function(s,o){if(!Y_(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Ka(m,o.Lu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $I(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:Fu(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fu(o.serializer,u)}}if(s instanceof of)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:w_(o.serializer,s._byteString)};if(s instanceof en){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Kd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof af)return(function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Bu("VectorValues must only contain numeric values.");return $d(m.serializer,g)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${nc(s)}`)})(i,e)}function X_(i,e){const t={};return Qy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(i,((s,o)=>{const u=Ka(o,e.Mu(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function J_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof of||i instanceof co||i instanceof en||i instanceof sc||i instanceof af)}function hf(i,e,t){if(!J_(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=nc(t);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function vd(i,e,t){if((e=Ct(e))instanceof ic)return e._internalPath;if(typeof e=="string")return df(i,e);throw zu("Field path arguments must be of type string or ",i,!1,void 0,t)}const e1=new RegExp("[~\\*/\\[\\]]");function df(i,e,t){if(e.search(e1)>=0)throw zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ic(...e.split("."))._internalPath}catch{throw zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function zu(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ie(q.INVALID_ARGUMENT,m+i+g)}function Z_(i,e){return i.some((t=>t.isEqual(e)))}class ev{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class t1 extends ev{data(){return super.data()}}function tv(i,e){return typeof e=="string"?df(i,e):e instanceof ic?e._internalPath:e._delegate._internalPath}function n1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ie(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ff{}class r1 extends ff{}function i1(i,e,...t){let s=[];e instanceof ff&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((g=>g instanceof mf)).length,m=u.filter((g=>g instanceof pf)).length;if(h>1||h>0&&m>0)throw new ie(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class pf extends r1{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new pf(e,t,s)}_apply(e){const t=this._parse(e);return nv(e._query,t),new yo(e.firestore,e.converter,ud(e._query,t))}_parse(e){const t=uf(e.firestore);return(function(u,h,m,g,v,E,R){let D;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ie(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Kg(R,E);const j=[];for(const G of R)j.push(Wg(g,u,G));D={arrayValue:{values:j}}}else D=Wg(g,u,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Kg(R,E),D=ZA(m,h,R,E==="in"||E==="not-in");return lt.create(v,E,D)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class mf extends ff{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ln.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)nv(h,g),h=ud(h,g)})(e._query,t),new yo(e.firestore,e.converter,ud(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Wg(i,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i_(e)&&t.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ke.fromString(t));if(!ue.isDocumentKey(s))throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return hg(i,new ue(s))}if(t instanceof en)return hg(i,t._key);throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nc(t)}.`)}function Kg(i,e){if(!Array.isArray(i)||i.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nv(i,e){const t=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class s1{convertValue(e,t="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Zi(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>it(h.doubleValue)));return new af(u)}convertGeoPoint(e){return new of(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Fd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){const t=fi(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ke.fromString(e);Fe(k_(s));const o=new Ca(s.get(1),s.get(3)),u=new ue(s.popFirst(5));return o.isEqual(t)||kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function o1(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class _a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rv extends ev{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(tv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Au extends rv{data(e={}){return super.data(e)}}class a1{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _a(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Au(this._firestore,this._userDataWriter,s.key,s,new _a(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new Au(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _a(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Au(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _a(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:l1(m.type),doc:g,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class iv extends s1{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}}function Gg(i,e,t,...s){i=ci(i,en);const o=ci(i.firestore,uo),u=uf(o);let h;return h=typeof(e=Ct(e))=="string"||e instanceof ic?JA(u,"updateDoc",i._key,e,t,s):XA(u,"updateDoc",i._key,e),gf(o,[h.toMutation(i._key,Mn.exists(!0))])}function u1(i){return gf(ci(i.firestore,uo),[new qd(i._key,Mn.none())])}function c1(i,e){const t=ci(i.firestore,uo),s=Su(i),o=o1(i.converter,e);return gf(t,[YA(uf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Mn.exists(!1))]).then((()=>s))}function h1(i,...e){var t,s,o;i=Ct(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Hg(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Hg(e[h])){const R=e[h];e[h]=(t=R.next)===null||t===void 0?void 0:t.bind(R),e[h+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),e[h+2]=(o=R.complete)===null||o===void 0?void 0:o.bind(R)}let g,v,E;if(i instanceof en)v=ci(i.firestore,uo),E=Bd(i._key.path),g={next:R=>{e[h]&&e[h](d1(v,i,R))},error:e[h+1],complete:e[h+2]};else{const R=ci(i,yo);v=ci(R.firestore,uo),E=R._query;const D=new iv(v);g={next:j=>{e[h]&&e[h](new a1(v,D,R,j))},error:e[h+1],complete:e[h+2]},n1(i._query)}return(function(D,j,G,Y){const B=new UA(Y),fe=new EA(j,B,G);return D.asyncQueue.enqueueAndForget((async()=>yA(await Fg(D),fe))),()=>{B.Za(),D.asyncQueue.enqueueAndForget((async()=>_A(await Fg(D),fe)))}})(G_(v),E,m,g)}function gf(i,e){return(function(s,o){const u=new Ki;return s.asyncQueue.enqueueAndForget((async()=>NA(await BA(s),o,u))),u.promise})(G_(i),e)}function d1(i,e,t){const s=t.docs.get(e._key),o=new iv(i);return new rv(i,o,e._key,s,new _a(t.hasPendingWrites,t.fromCache),e.converter)}function mu(){return new cf("serverTimestamp")}(function(e,t=!0){(function(o){po=o})(ho),no(new Gi("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new uo(new oI(s.getProvider("auth-internal")),new cI(s.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ie(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(v.options.projectId,E)})(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ui(og,"4.7.3",e),ui(og,"4.7.3","esm2017")})();var f1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),jt=(i,e)=>{const t=tt.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:m="",children:g,...v},E)=>tt.createElement("svg",{ref:E,...f1,width:o,height:o,stroke:s,strokeWidth:h?Number(u)*24/Number(o):u,className:["lucide",`lucide-${p1(i)}`,m].join(" "),...v},[...e.map(([R,D])=>tt.createElement(R,D)),...Array.isArray(g)?g:[g]]));return t.displayName=`${i}`,t};const wd=jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Ed=jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const m1=jt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const g1=jt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const y1=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const _1=jt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const v1=jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const w1=jt("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);const sv=jt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const E1=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Bu=jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const T1=jt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const I1=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const $u=jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const S1=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const ov=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A1="your_gemini_api_key_here",Qg={apiKey:"your_firebase_api_key_here",authDomain:"your_https://www.google.com/search?q=project.firebaseapp.com",projectId:"your_project_id",storageBucket:"your_https://www.google.com/search?q=project.appspot.com",messagingSenderId:"your_sender_id",appId:"your_app_id"};let Qh,Ys,ti;const pa="web-sentinel-v1";try{Qg.apiKey&&(Qh=sy(Qg),Ys=nI(Qh),ti=HA(Qh))}catch(i){console.error("Firebase init error:",i)}const av=async i=>{try{const e=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${A1}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i}]}]})});if(!e.ok)throw new Error("Gemini API call failed");return(await e.json()).candidates?.[0]?.content?.parts?.[0]?.text||"No analysis available."}catch(e){return console.error("AI Error:",e),"AI service is currently unavailable."}},k1=({isOpen:i,onClose:e,onSelect:t})=>{const[s,o]=tt.useState(""),[u,h]=tt.useState(!1),[m,g]=tt.useState("");if(!i)return null;const v=async()=>{if(!s.trim())return;h(!0),g("");const E=`
      I have a snippet of HTML. I need a robust CSS selector to target the most meaningful content within it (like a price, status, or title).
      Return ONLY the CSS selector string. Do not include markdown formatting or explanations.
      HTML Snippet:
      ${s}
    `;try{const D=(await av(E)).replace(/`/g,"").trim();t(D),e()}catch{g("Failed to analyze HTML. Please try again.")}finally{h(!1)}};return z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:z.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[z.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-gradient-to-r from-indigo-50 to-white",children:[z.jsxs("div",{className:"flex items-center gap-2 text-indigo-700",children:[z.jsx($u,{size:20}),z.jsx("h3",{className:"font-semibold",children:"AI Selector Finder"})]}),z.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:z.jsx(ov,{size:20})})]}),z.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[z.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Paste a snippet of HTML code below (Right-click element > Inspect > Right-click HTML > Copy > Copy OuterHTML). Gemini will extract the best CSS selector for you."}),z.jsx("textarea",{className:"w-full h-40 p-3 text-xs font-mono border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 outline-none resize-none",placeholder:'<div class="product-price" id="p-123">$49.99</div>',value:s,onChange:E=>o(E.target.value)}),m&&z.jsx("p",{className:"text-red-500 text-xs mt-2",children:m})]}),z.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-2",children:[z.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-600 hover:bg-slate-200 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),z.jsxs("button",{onClick:v,disabled:u||!s,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u?z.jsx(Bu,{className:"animate-spin",size:16}):z.jsx(m1,{size:16}),u?"Analyzing...":"Generate Selector"]})]})]})})},R1=({monitor:i,onDelete:e,onEdit:t,onCheck:s})=>{const[o,u]=tt.useState(!1),[h,m]=tt.useState(!1),[g,v]=tt.useState(null),E=async()=>{u(!0),v(null),await s(i),setTimeout(()=>u(!1),800)},R=async()=>{if(!i.lastValue)return;m(!0);const G=`
      Analyze the change in this website monitor data. 
      Item Name: "${i.name}"
      Previous Value: "Different Value" (Contextual guess)
      New Value: "${i.lastValue}"
      
      Write a short, fun, 1-sentence notification summary for the user. 
      If the price went down, be excited. If stock returned, be urgent.
    `,Y=await av(G);v(Y),m(!1)},D=j=>{if(!j)return"Never checked";const G=Math.floor((new Date-j.toDate())/1e3);if(G<60)return"Just now";const Y=Math.floor(G/60);return Y<60?`${Y}m ago`:`${Math.floor(Y/60)}h ago`};return z.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5 hover:shadow-md transition-shadow flex flex-col h-full group",children:[z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[z.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[z.jsx("div",{className:`p-2 rounded-lg ${i.status==="changed"?"bg-amber-100 text-amber-600":"bg-blue-50 text-blue-600"}`,children:z.jsx(v1,{size:20})}),z.jsxs("div",{className:"min-w-0",children:[z.jsx("h3",{className:"font-bold text-slate-800 truncate pr-4",children:i.name}),z.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:text-blue-700 flex items-center gap-1",children:[new URL(i.url).hostname," ",z.jsx(_1,{size:10})]})]})]}),z.jsxs("div",{className:"flex gap-1 shrink-0 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",children:[z.jsx("button",{onClick:()=>t(i),className:"p-2 rounded-full hover:bg-slate-100 text-slate-400 hover:text-blue-500 transition-colors",title:"Edit Monitor",children:z.jsx(sv,{size:16})}),z.jsx("button",{onClick:()=>e(i.id),className:"p-2 rounded-full hover:bg-red-50 text-slate-400 hover:text-red-500 transition-colors",title:"Delete Monitor",children:z.jsx(S1,{size:16})})]})]}),z.jsxs("div",{className:"space-y-3 flex-1",children:[z.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 relative",children:[z.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mb-1",children:[z.jsx(w1,{size:12}),z.jsx("span",{className:"font-mono truncate",children:i.selector})]}),z.jsx("div",{className:"flex justify-between items-end",children:z.jsxs("div",{className:"w-full",children:[z.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Current Value"}),z.jsx("p",{className:"text-sm font-medium text-slate-800 break-all line-clamp-2",children:i.lastValue||"No value recorded"})]})}),z.jsx("button",{onClick:E,disabled:o,className:`absolute bottom-2 right-2 p-1.5 rounded-full bg-white shadow-sm border border-slate-200 hover:bg-blue-50 text-slate-400 hover:text-blue-600 transition-all ${o?"animate-spin":""}`,title:"Simulate Check (Generates Mock Data)",children:z.jsx(Bu,{size:14})})]}),g&&z.jsx("div",{className:"bg-indigo-50 text-indigo-800 p-3 rounded-lg text-sm border border-indigo-100 animate-in fade-in slide-in-from-top-2",children:z.jsxs("div",{className:"flex gap-2 items-start",children:[z.jsx($u,{size:14,className:"mt-0.5 shrink-0"}),z.jsx("p",{children:g})]})}),z.jsxs("div",{className:"flex items-center justify-between text-xs pt-2",children:[z.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[z.jsx(y1,{size:14}),z.jsx("span",{children:D(i.lastChecked)})]}),z.jsxs("div",{className:"flex gap-2",children:[i.status==="changed"&&!g&&z.jsxs("button",{onClick:R,disabled:h,className:"flex items-center gap-1 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 px-2 py-1 rounded-full font-medium transition-colors disabled:opacity-50",children:[h?z.jsx(Bu,{size:12,className:"animate-spin"}):z.jsx($u,{size:12}),"Analyze"]}),i.status==="stable"&&z.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full font-medium",children:[z.jsx(g1,{size:12})," Stable"]}),i.status==="changed"&&z.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-1 rounded-full font-medium",children:[z.jsx(Ed,{size:12})," Changed"]}),i.status==="new"&&z.jsxs("span",{className:"flex items-center gap-1 text-blue-600 bg-blue-50 px-2 py-1 rounded-full font-medium",children:[z.jsx(wd,{size:12})," New"]})]})]})]})]})};function C1(){const[i,e]=tt.useState(null),[t,s]=tt.useState([]),[o,u]=tt.useState(!0),[h,m]=tt.useState(null),[g,v]=tt.useState(""),[E,R]=tt.useState(""),[D,j]=tt.useState(""),[G,Y]=tt.useState(""),[B,fe]=tt.useState(!1),[_e,ye]=tt.useState(!1);tt.useEffect(()=>{if(!Ys){u(!1);return}(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await BE(Ys,__initial_auth_token):await bE(Ys)})();const C=HE(Ys,P=>{e(P)});return()=>C()},[]),tt.useEffect(()=>{if(!i||!ti)return;const T=i1($g(ti,"artifacts",pa,"users",i.uid,"monitors")),C=h1(T,P=>{const V=P.docs.map(A=>({id:A.id,...A.data()}));V.sort((A,Ye)=>(Ye.createdAt?.toMillis()||0)-(A.createdAt?.toMillis()||0)),s(V),u(!1)},P=>{console.error("Error fetching monitors:",P),u(!1)});return()=>C()},[i]);const Ee=()=>{v(""),R(""),j(""),Y(""),m(null),fe(!1)},ze=T=>{m(T.id),v(T.url),R(T.selector),j(T.name),Y(T.lastValue||""),fe(!0),window.scrollTo({top:0,behavior:"smooth"})},Te=async T=>{if(T.preventDefault(),!(!g||!E||!D)){if(!ti||!i){alert("Database connection not ready.");return}try{if(h){const C=Su(ti,"artifacts",pa,"users",i.uid,"monitors",h),P={url:g,selector:E,name:D,updatedAt:mu()};G&&(P.lastValue=G,P.lastChecked=mu(),P.status="stable"),await Gg(C,P)}else await c1($g(ti,"artifacts",pa,"users",i.uid,"monitors"),{url:g,selector:E,name:D,lastValue:null,lastChecked:null,status:"new",createdAt:mu()});Ee()}catch(C){console.error("Error saving monitor:",C)}}},N=async T=>{if(confirm("Stop tracking this item?"))try{await u1(Su(ti,"artifacts",pa,"users",i.uid,"monitors",T)),h===T&&Ee()}catch(C){console.error("Error deleting:",C)}},S=async T=>{const C=["$49.99","In Stock","Out of Stock","UNREGISTERED","REGISTERED"],P=C[Math.floor(Math.random()*C.length)],V=T.lastValue&&T.lastValue!==P?"changed":"stable";try{await Gg(Su(ti,"artifacts",pa,"users",i.uid,"monitors",T.id),{lastValue:P,lastChecked:mu(),status:V})}catch(A){console.error("Error updating monitor:",A)}};return Ys?o?z.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:z.jsx("div",{className:"animate-spin text-blue-600",children:z.jsx(Bu,{size:32})})}):z.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[z.jsx(k1,{isOpen:_e,onClose:()=>ye(!1),onSelect:T=>R(T)}),z.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-10",children:z.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-16 flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg text-white",children:z.jsx(wd,{size:20})}),z.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-800",children:"Tracky"})]}),z.jsxs("button",{onClick:()=>{B?Ee():fe(!0)},className:`px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-colors shadow-sm ${B?"bg-slate-200 text-slate-700":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[B?z.jsx(ov,{size:18}):z.jsx(E1,{size:18}),B?"Cancel":"Add Monitor"]})]})}),z.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[B&&z.jsx("div",{className:"mb-8 animate-in slide-in-from-top-4 fade-in duration-300",children:z.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-6 relative overflow-hidden",children:[z.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:h?z.jsx(sv,{size:120}):z.jsx(wd,{size:120})}),z.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-800 relative z-10",children:h?"Edit Tracker":"Configure New Tracker"}),z.jsxs("form",{onSubmit:Te,className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:[z.jsxs("div",{className:"md:col-span-2",children:[z.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Friendly Name"}),z.jsx("input",{type:"text",required:!0,placeholder:"e.g. Survey Registration Status",className:"w-full px-4 py-2 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",value:D,onChange:T=>j(T.target.value)})]}),z.jsxs("div",{className:"md:col-span-1",children:[z.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Target URL"}),z.jsx("input",{type:"url",required:!0,placeholder:"https://example.com/product",className:"w-full px-4 py-2 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",value:g,onChange:T=>v(T.target.value)})]}),z.jsxs("div",{className:"md:col-span-1",children:[z.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"CSS Selector"}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",required:!0,placeholder:"e.g. .status-label or #register-status",className:"w-full px-4 py-2 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all font-mono text-sm",value:E,onChange:T=>R(T.target.value)}),z.jsxs("button",{type:"button",onClick:()=>ye(!0),className:"bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-3 py-2 rounded-lg transition-colors flex items-center gap-1.5 whitespace-nowrap",title:"Use AI to find selector",children:[z.jsx($u,{size:16}),z.jsx("span",{className:"text-sm font-medium",children:"AI Helper"})]})]})]}),h&&z.jsxs("div",{className:"md:col-span-2 bg-slate-50 p-4 rounded-lg border border-slate-200 mt-2",children:[z.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:["Manual Status Update",z.jsx("span",{className:"text-xs font-normal text-slate-500 bg-white px-2 py-0.5 rounded border border-slate-200",children:"Optional"})]}),z.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Since the app cannot auto-scrape due to browser security, paste the current value here if you want to update it manually."}),z.jsx("input",{type:"text",placeholder:"e.g. UNREGISTERED",className:"w-full px-4 py-2 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all bg-white",value:G,onChange:T=>Y(T.target.value)})]}),z.jsx("div",{className:"md:col-span-2 flex justify-end mt-2 gap-2",children:z.jsxs("button",{type:"submit",className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-2.5 rounded-lg font-medium transition-colors flex items-center gap-2",children:[z.jsx(T1,{size:18}),h?"Save Changes":"Start Monitoring"]})})]})]})}),z.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[z.jsxs("h2",{className:"text-lg font-semibold text-slate-700",children:["Active Monitors (",t.length,")"]}),t.length>0&&z.jsxs("div",{className:"text-xs text-slate-500 bg-blue-50 px-3 py-1.5 rounded-full border border-blue-100 flex items-center gap-2",children:[z.jsx(Ed,{size:14,className:"text-blue-500"}),"Simulation Mode: Auto-scraping is simulated. Use Edit to update manually."]})]}),t.length===0?z.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[z.jsx("div",{className:"bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400",children:z.jsx(I1,{size:32})}),z.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:"No monitors yet"}),z.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"Add a website URL and a CSS selector to start tracking changes in prices, text, or availability."}),z.jsx("button",{onClick:()=>fe(!0),className:"text-blue-600 font-medium hover:text-blue-800",children:"Create your first monitor "})]}):z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(T=>z.jsx(R1,{monitor:T,onDelete:N,onEdit:ze,onCheck:S},T.id))})]})]}):z.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:z.jsxs("div",{className:"bg-red-50 p-6 rounded-xl border border-red-100 max-w-md w-full shadow-sm",children:[z.jsxs("h1",{className:"text-xl font-bold text-red-600 mb-2 flex items-center gap-2",children:[z.jsx(Ed,{})," Configuration Needed"]}),z.jsx("p",{className:"text-slate-700 mb-4 text-sm",children:"This app requires Firebase keys to run."}),z.jsxs("div",{className:"text-xs bg-white p-3 rounded border border-red-200 font-mono text-slate-500 overflow-x-auto",children:["Please paste your keys into the ",z.jsx("strong",{children:"MANUAL_KEYS"})," section in ",z.jsx("strong",{children:"src/App.jsx"}),"."]})]})})}E0.createRoot(document.getElementById("root")).render(z.jsx(p0.StrictMode,{children:z.jsx(C1,{})}));
